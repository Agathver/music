/* ElementaryEntry.c generated by valac 0.11.5, the Vala compiler
 * generated from ElementaryEntry.vala, do not modify */


#include <glib.h>
#include <glib-object.h>
#include <gtk/gtk.h>
#include <stdlib.h>
#include <string.h>
#include <gdk/gdk.h>
#include <pango/pango.h>


#define ELEMENTARY_WIDGETS_TYPE_ELEMENTARY_ENTRY (elementary_widgets_elementary_entry_get_type ())
#define ELEMENTARY_WIDGETS_ELEMENTARY_ENTRY(obj) (G_TYPE_CHECK_INSTANCE_CAST ((obj), ELEMENTARY_WIDGETS_TYPE_ELEMENTARY_ENTRY, ElementaryWidgetsElementaryEntry))
#define ELEMENTARY_WIDGETS_ELEMENTARY_ENTRY_CLASS(klass) (G_TYPE_CHECK_CLASS_CAST ((klass), ELEMENTARY_WIDGETS_TYPE_ELEMENTARY_ENTRY, ElementaryWidgetsElementaryEntryClass))
#define ELEMENTARY_WIDGETS_IS_ELEMENTARY_ENTRY(obj) (G_TYPE_CHECK_INSTANCE_TYPE ((obj), ELEMENTARY_WIDGETS_TYPE_ELEMENTARY_ENTRY))
#define ELEMENTARY_WIDGETS_IS_ELEMENTARY_ENTRY_CLASS(klass) (G_TYPE_CHECK_CLASS_TYPE ((klass), ELEMENTARY_WIDGETS_TYPE_ELEMENTARY_ENTRY))
#define ELEMENTARY_WIDGETS_ELEMENTARY_ENTRY_GET_CLASS(obj) (G_TYPE_INSTANCE_GET_CLASS ((obj), ELEMENTARY_WIDGETS_TYPE_ELEMENTARY_ENTRY, ElementaryWidgetsElementaryEntryClass))

typedef struct _ElementaryWidgetsElementaryEntry ElementaryWidgetsElementaryEntry;
typedef struct _ElementaryWidgetsElementaryEntryClass ElementaryWidgetsElementaryEntryClass;
typedef struct _ElementaryWidgetsElementaryEntryPrivate ElementaryWidgetsElementaryEntryPrivate;
#define _g_free0(var) (var = (g_free (var), NULL))
#define _pango_font_description_free0(var) ((var == NULL) ? NULL : (var = (pango_font_description_free (var), NULL)))

#define ELEMENTARY_WIDGETS_TYPE_ELEMENTARY_SEARCH_ENTRY (elementary_widgets_elementary_search_entry_get_type ())
#define ELEMENTARY_WIDGETS_ELEMENTARY_SEARCH_ENTRY(obj) (G_TYPE_CHECK_INSTANCE_CAST ((obj), ELEMENTARY_WIDGETS_TYPE_ELEMENTARY_SEARCH_ENTRY, ElementaryWidgetsElementarySearchEntry))
#define ELEMENTARY_WIDGETS_ELEMENTARY_SEARCH_ENTRY_CLASS(klass) (G_TYPE_CHECK_CLASS_CAST ((klass), ELEMENTARY_WIDGETS_TYPE_ELEMENTARY_SEARCH_ENTRY, ElementaryWidgetsElementarySearchEntryClass))
#define ELEMENTARY_WIDGETS_IS_ELEMENTARY_SEARCH_ENTRY(obj) (G_TYPE_CHECK_INSTANCE_TYPE ((obj), ELEMENTARY_WIDGETS_TYPE_ELEMENTARY_SEARCH_ENTRY))
#define ELEMENTARY_WIDGETS_IS_ELEMENTARY_SEARCH_ENTRY_CLASS(klass) (G_TYPE_CHECK_CLASS_TYPE ((klass), ELEMENTARY_WIDGETS_TYPE_ELEMENTARY_SEARCH_ENTRY))
#define ELEMENTARY_WIDGETS_ELEMENTARY_SEARCH_ENTRY_GET_CLASS(obj) (G_TYPE_INSTANCE_GET_CLASS ((obj), ELEMENTARY_WIDGETS_TYPE_ELEMENTARY_SEARCH_ENTRY, ElementaryWidgetsElementarySearchEntryClass))

typedef struct _ElementaryWidgetsElementarySearchEntry ElementaryWidgetsElementarySearchEntry;
typedef struct _ElementaryWidgetsElementarySearchEntryClass ElementaryWidgetsElementarySearchEntryClass;
typedef struct _ElementaryWidgetsElementarySearchEntryPrivate ElementaryWidgetsElementarySearchEntryPrivate;
#define _gtk_icon_source_free0(var) ((var == NULL) ? NULL : (var = (gtk_icon_source_free (var), NULL)))
#define _gtk_icon_set_unref0(var) ((var == NULL) ? NULL : (var = (gtk_icon_set_unref (var), NULL)))
#define _g_object_unref0(var) ((var == NULL) ? NULL : (var = (g_object_unref (var), NULL)))

struct _ElementaryWidgetsElementaryEntry {
	GtkEntry parent_instance;
	ElementaryWidgetsElementaryEntryPrivate * priv;
	gchar* hint_string;
};

struct _ElementaryWidgetsElementaryEntryClass {
	GtkEntryClass parent_class;
};

struct _ElementaryWidgetsElementarySearchEntry {
	ElementaryWidgetsElementaryEntry parent_instance;
	ElementaryWidgetsElementarySearchEntryPrivate * priv;
	gboolean is_searching;
};

struct _ElementaryWidgetsElementarySearchEntryClass {
	ElementaryWidgetsElementaryEntryClass parent_class;
};


static gpointer elementary_widgets_elementary_entry_parent_class = NULL;
static gpointer elementary_widgets_elementary_search_entry_parent_class = NULL;

GType elementary_widgets_elementary_entry_get_type (void) G_GNUC_CONST;
enum  {
	ELEMENTARY_WIDGETS_ELEMENTARY_ENTRY_DUMMY_PROPERTY
};
ElementaryWidgetsElementaryEntry* elementary_widgets_elementary_entry_new (const gchar* hint_string);
ElementaryWidgetsElementaryEntry* elementary_widgets_elementary_entry_construct (GType object_type, const gchar* hint_string);
void elementary_widgets_elementary_entry_hint (ElementaryWidgetsElementaryEntry* self);
static gboolean elementary_widgets_elementary_entry_on_focus_in (ElementaryWidgetsElementaryEntry* self);
static gboolean _elementary_widgets_elementary_entry_on_focus_in_gtk_widget_focus_in_event (GtkWidget* _sender, GdkEventFocus* event, gpointer self);
static gboolean elementary_widgets_elementary_entry_on_focus_out (ElementaryWidgetsElementaryEntry* self);
static gboolean _elementary_widgets_elementary_entry_on_focus_out_gtk_widget_focus_out_event (GtkWidget* _sender, GdkEventFocus* event, gpointer self);
gchar* elementary_widgets_elementary_entry_get_text (ElementaryWidgetsElementaryEntry* self);
void elementary_widgets_elementary_entry_unhint (ElementaryWidgetsElementaryEntry* self);
static void elementary_widgets_elementary_entry_grey_out (ElementaryWidgetsElementaryEntry* self);
static void elementary_widgets_elementary_entry_reset_font (ElementaryWidgetsElementaryEntry* self);
void elementary_widgets_elementary_entry_set_text (ElementaryWidgetsElementaryEntry* self, const gchar* text);
static void elementary_widgets_elementary_entry_finalize (GObject* obj);
GType elementary_widgets_elementary_search_entry_get_type (void) G_GNUC_CONST;
enum  {
	ELEMENTARY_WIDGETS_ELEMENTARY_SEARCH_ENTRY_DUMMY_PROPERTY
};
ElementaryWidgetsElementarySearchEntry* elementary_widgets_elementary_search_entry_new (const gchar* hint_string);
ElementaryWidgetsElementarySearchEntry* elementary_widgets_elementary_search_entry_construct (GType object_type, const gchar* hint_string);
static void elementary_widgets_elementary_search_entry_manage_icon (ElementaryWidgetsElementarySearchEntry* self);
static void _elementary_widgets_elementary_search_entry_manage_icon_gtk_editable_changed (GtkEditable* _sender, gpointer self);
static gboolean elementary_widgets_elementary_search_entry_on_focus_in (ElementaryWidgetsElementarySearchEntry* self);
static gboolean _elementary_widgets_elementary_search_entry_on_focus_in_gtk_widget_focus_in_event (GtkWidget* _sender, GdkEventFocus* event, gpointer self);
static gboolean elementary_widgets_elementary_search_entry_on_focus_out (ElementaryWidgetsElementarySearchEntry* self);
static gboolean _elementary_widgets_elementary_search_entry_on_focus_out_gtk_widget_focus_out_event (GtkWidget* _sender, GdkEventFocus* event, gpointer self);
static void elementary_widgets_elementary_search_entry_icon_pressed (ElementaryWidgetsElementarySearchEntry* self, GtkEntryIconPosition icon_position);
static void _elementary_widgets_elementary_search_entry_icon_pressed_gtk_entry_icon_press (GtkEntry* _sender, GtkEntryIconPosition p0, GdkEvent* p1, gpointer self);
static void elementary_widgets_elementary_search_entry_setup_clear_icon (ElementaryWidgetsElementarySearchEntry* self);
static void elementary_widgets_elementary_search_entry_hint (ElementaryWidgetsElementarySearchEntry* self);
static void elementary_widgets_elementary_search_entry_finalize (GObject* obj);


static gboolean _elementary_widgets_elementary_entry_on_focus_in_gtk_widget_focus_in_event (GtkWidget* _sender, GdkEventFocus* event, gpointer self) {
	gboolean result;
	result = elementary_widgets_elementary_entry_on_focus_in (self);
	return result;
}


static gboolean _elementary_widgets_elementary_entry_on_focus_out_gtk_widget_focus_out_event (GtkWidget* _sender, GdkEventFocus* event, gpointer self) {
	gboolean result;
	result = elementary_widgets_elementary_entry_on_focus_out (self);
	return result;
}


ElementaryWidgetsElementaryEntry* elementary_widgets_elementary_entry_construct (GType object_type, const gchar* hint_string) {
	ElementaryWidgetsElementaryEntry * self = NULL;
	gchar* _tmp0_;
	gchar* _tmp1_;
	g_return_val_if_fail (hint_string != NULL, NULL);
	self = (ElementaryWidgetsElementaryEntry*) g_object_new (object_type, NULL);
	_tmp0_ = g_strdup (hint_string);
	_tmp1_ = _tmp0_;
	_g_free0 (self->hint_string);
	self->hint_string = _tmp1_;
	elementary_widgets_elementary_entry_hint (self);
	g_signal_connect_object ((GtkWidget*) self, "focus-in-event", (GCallback) _elementary_widgets_elementary_entry_on_focus_in_gtk_widget_focus_in_event, self, 0);
	g_signal_connect_object ((GtkWidget*) self, "focus-out-event", (GCallback) _elementary_widgets_elementary_entry_on_focus_out_gtk_widget_focus_out_event, self, 0);
	return self;
}


ElementaryWidgetsElementaryEntry* elementary_widgets_elementary_entry_new (const gchar* hint_string) {
	return elementary_widgets_elementary_entry_construct (ELEMENTARY_WIDGETS_TYPE_ELEMENTARY_ENTRY, hint_string);
}


static gboolean elementary_widgets_elementary_entry_on_focus_in (ElementaryWidgetsElementaryEntry* self) {
	gboolean result = FALSE;
	gchar* _tmp0_ = NULL;
	gchar* _tmp1_;
	gboolean _tmp2_;
	g_return_val_if_fail (self != NULL, FALSE);
	_tmp0_ = elementary_widgets_elementary_entry_get_text (self);
	_tmp1_ = _tmp0_;
	if ((_tmp2_ = g_strcmp0 (_tmp1_, "") == 0, _g_free0 (_tmp1_), _tmp2_)) {
		elementary_widgets_elementary_entry_unhint (self);
	}
	result = FALSE;
	return result;
}


static gboolean elementary_widgets_elementary_entry_on_focus_out (ElementaryWidgetsElementaryEntry* self) {
	gboolean result = FALSE;
	gchar* _tmp0_ = NULL;
	gchar* _tmp1_;
	gboolean _tmp2_;
	g_return_val_if_fail (self != NULL, FALSE);
	_tmp0_ = elementary_widgets_elementary_entry_get_text (self);
	_tmp1_ = _tmp0_;
	if ((_tmp2_ = g_strcmp0 (_tmp1_, "") == 0, _g_free0 (_tmp1_), _tmp2_)) {
		elementary_widgets_elementary_entry_hint (self);
	}
	result = FALSE;
	return result;
}


void elementary_widgets_elementary_entry_hint (ElementaryWidgetsElementaryEntry* self) {
	g_return_if_fail (self != NULL);
	gtk_entry_set_text ((GtkEntry*) self, self->hint_string);
	elementary_widgets_elementary_entry_grey_out (self);
}


void elementary_widgets_elementary_entry_unhint (ElementaryWidgetsElementaryEntry* self) {
	g_return_if_fail (self != NULL);
	gtk_entry_set_text ((GtkEntry*) self, "");
	elementary_widgets_elementary_entry_reset_font (self);
}


static void elementary_widgets_elementary_entry_grey_out (ElementaryWidgetsElementaryEntry* self) {
	GdkColor color = {0};
	GdkColor _tmp0_ = {0};
	PangoFontDescription* _tmp1_ = NULL;
	PangoFontDescription* _tmp2_;
	g_return_if_fail (self != NULL);
	memset (&color, 0, sizeof (GdkColor));
	gdk_color_parse ("#999", &_tmp0_);
	color = _tmp0_;
	gtk_widget_modify_text ((GtkWidget*) self, GTK_STATE_NORMAL, &color);
	_tmp1_ = pango_font_description_from_string ("italic");
	_tmp2_ = _tmp1_;
	gtk_widget_modify_font ((GtkWidget*) self, _tmp2_);
	_pango_font_description_free0 (_tmp2_);
}


static void elementary_widgets_elementary_entry_reset_font (ElementaryWidgetsElementaryEntry* self) {
	GdkColor color = {0};
	GdkColor _tmp0_ = {0};
	PangoFontDescription* _tmp1_ = NULL;
	PangoFontDescription* _tmp2_;
	g_return_if_fail (self != NULL);
	memset (&color, 0, sizeof (GdkColor));
	gdk_color_parse ("#444", &_tmp0_);
	color = _tmp0_;
	gtk_widget_modify_text ((GtkWidget*) self, GTK_STATE_NORMAL, &color);
	_tmp1_ = pango_font_description_from_string ("normal");
	_tmp2_ = _tmp1_;
	gtk_widget_modify_font ((GtkWidget*) self, _tmp2_);
	_pango_font_description_free0 (_tmp2_);
}


gchar* elementary_widgets_elementary_entry_get_text (ElementaryWidgetsElementaryEntry* self) {
	gchar* result = NULL;
	const gchar* _tmp0_ = NULL;
	const gchar* _tmp1_ = NULL;
	g_return_val_if_fail (self != NULL, NULL);
	_tmp0_ = gtk_entry_get_text ((GtkEntry*) self);
	gtk_entry_set_text ((GtkEntry*) self, _tmp0_);
	_tmp1_ = gtk_entry_get_text ((GtkEntry*) self);
	if (g_strcmp0 (_tmp1_, self->hint_string) == 0) {
		gchar* _tmp2_;
		_tmp2_ = g_strdup ("");
		result = _tmp2_;
		return result;
	} else {
		const gchar* _tmp3_ = NULL;
		gchar* _tmp4_;
		_tmp3_ = gtk_entry_get_text ((GtkEntry*) self);
		_tmp4_ = g_strdup (_tmp3_);
		result = _tmp4_;
		return result;
	}
}


void elementary_widgets_elementary_entry_set_text (ElementaryWidgetsElementaryEntry* self, const gchar* text) {
	g_return_if_fail (self != NULL);
	g_return_if_fail (text != NULL);
	if (g_strcmp0 (text, "") == 0) {
		elementary_widgets_elementary_entry_hint (self);
	} else {
		elementary_widgets_elementary_entry_unhint (self);
	}
	gtk_entry_set_text ((GtkEntry*) self, text);
}


static void elementary_widgets_elementary_entry_class_init (ElementaryWidgetsElementaryEntryClass * klass) {
	elementary_widgets_elementary_entry_parent_class = g_type_class_peek_parent (klass);
	G_OBJECT_CLASS (klass)->finalize = elementary_widgets_elementary_entry_finalize;
}


static void elementary_widgets_elementary_entry_instance_init (ElementaryWidgetsElementaryEntry * self) {
}


static void elementary_widgets_elementary_entry_finalize (GObject* obj) {
	ElementaryWidgetsElementaryEntry * self;
	self = ELEMENTARY_WIDGETS_ELEMENTARY_ENTRY (obj);
	_g_free0 (self->hint_string);
	G_OBJECT_CLASS (elementary_widgets_elementary_entry_parent_class)->finalize (obj);
}


GType elementary_widgets_elementary_entry_get_type (void) {
	static volatile gsize elementary_widgets_elementary_entry_type_id__volatile = 0;
	if (g_once_init_enter (&elementary_widgets_elementary_entry_type_id__volatile)) {
		static const GTypeInfo g_define_type_info = { sizeof (ElementaryWidgetsElementaryEntryClass), (GBaseInitFunc) NULL, (GBaseFinalizeFunc) NULL, (GClassInitFunc) elementary_widgets_elementary_entry_class_init, (GClassFinalizeFunc) NULL, NULL, sizeof (ElementaryWidgetsElementaryEntry), 0, (GInstanceInitFunc) elementary_widgets_elementary_entry_instance_init, NULL };
		GType elementary_widgets_elementary_entry_type_id;
		elementary_widgets_elementary_entry_type_id = g_type_register_static (GTK_TYPE_ENTRY, "ElementaryWidgetsElementaryEntry", &g_define_type_info, 0);
		g_once_init_leave (&elementary_widgets_elementary_entry_type_id__volatile, elementary_widgets_elementary_entry_type_id);
	}
	return elementary_widgets_elementary_entry_type_id__volatile;
}


static void _elementary_widgets_elementary_search_entry_manage_icon_gtk_editable_changed (GtkEditable* _sender, gpointer self) {
	elementary_widgets_elementary_search_entry_manage_icon (self);
}


static gboolean _elementary_widgets_elementary_search_entry_on_focus_in_gtk_widget_focus_in_event (GtkWidget* _sender, GdkEventFocus* event, gpointer self) {
	gboolean result;
	result = elementary_widgets_elementary_search_entry_on_focus_in (self);
	return result;
}


static gboolean _elementary_widgets_elementary_search_entry_on_focus_out_gtk_widget_focus_out_event (GtkWidget* _sender, GdkEventFocus* event, gpointer self) {
	gboolean result;
	result = elementary_widgets_elementary_search_entry_on_focus_out (self);
	return result;
}


static void _elementary_widgets_elementary_search_entry_icon_pressed_gtk_entry_icon_press (GtkEntry* _sender, GtkEntryIconPosition p0, GdkEvent* p1, gpointer self) {
	elementary_widgets_elementary_search_entry_icon_pressed (self, p0);
}


ElementaryWidgetsElementarySearchEntry* elementary_widgets_elementary_search_entry_construct (GType object_type, const gchar* hint_string) {
	ElementaryWidgetsElementarySearchEntry * self = NULL;
	g_return_val_if_fail (hint_string != NULL, NULL);
	self = (ElementaryWidgetsElementarySearchEntry*) elementary_widgets_elementary_entry_construct (object_type, hint_string);
	gtk_entry_set_icon_from_stock ((GtkEntry*) self, GTK_ENTRY_ICON_PRIMARY, "gtk-find");
	g_signal_connect_object ((GtkEditable*) self, "changed", (GCallback) _elementary_widgets_elementary_search_entry_manage_icon_gtk_editable_changed, self, 0);
	g_signal_connect_object ((GtkWidget*) self, "focus-in-event", (GCallback) _elementary_widgets_elementary_search_entry_on_focus_in_gtk_widget_focus_in_event, self, 0);
	g_signal_connect_object ((GtkWidget*) self, "focus-out-event", (GCallback) _elementary_widgets_elementary_search_entry_on_focus_out_gtk_widget_focus_out_event, self, 0);
	g_signal_connect_object ((GtkEntry*) self, "icon-press", (GCallback) _elementary_widgets_elementary_search_entry_icon_pressed_gtk_entry_icon_press, self, 0);
	elementary_widgets_elementary_search_entry_setup_clear_icon (self);
	self->is_searching = TRUE;
	return self;
}


ElementaryWidgetsElementarySearchEntry* elementary_widgets_elementary_search_entry_new (const gchar* hint_string) {
	return elementary_widgets_elementary_search_entry_construct (ELEMENTARY_WIDGETS_TYPE_ELEMENTARY_SEARCH_ENTRY, hint_string);
}


static void elementary_widgets_elementary_search_entry_setup_clear_icon (ElementaryWidgetsElementarySearchEntry* self) {
	GtkStockItem stock_item = {0};
	GtkIconFactory* _tmp0_ = NULL;
	GtkIconFactory* factory;
	GtkIconSet* _tmp1_ = NULL;
	GtkIconSet* icon_set;
	GtkIconSource* _tmp2_ = NULL;
	GtkIconSource* icon_source;
	GtkStockItem* _tmp3_ = NULL;
	GtkStockItem* _tmp4_;
	gint _tmp4__length1;
	g_return_if_fail (self != NULL);
	memset (&stock_item, 0, sizeof (GtkStockItem));
	stock_item.stock_id = "edit-clear-symbolic";
	stock_item.label = NULL;
	stock_item.modifier = 0;
	stock_item.keyval = (guint) 0;
	stock_item.translation_domain = GTK_STOCK_CLEAR;
	_tmp0_ = gtk_icon_factory_new ();
	factory = _tmp0_;
	_tmp1_ = gtk_icon_set_new ();
	icon_set = _tmp1_;
	_tmp2_ = gtk_icon_source_new ();
	icon_source = _tmp2_;
	gtk_icon_source_set_icon_name (icon_source, GTK_STOCK_CLEAR);
	gtk_icon_set_add_source (icon_set, icon_source);
	gtk_icon_source_set_icon_name (icon_source, "edit-clear-symbolic");
	gtk_icon_set_add_source (icon_set, icon_source);
	gtk_icon_factory_add (factory, "edit-clear-symbolic", icon_set);
	_tmp3_ = g_new0 (GtkStockItem, 1);
	_tmp3_[0] = stock_item;
	_tmp4_ = _tmp3_;
	_tmp4__length1 = 1;
	gtk_stock_add (_tmp4_, 1);
	_tmp4_ = (g_free (_tmp4_), NULL);
	gtk_icon_factory_add_default (factory);
	_gtk_icon_source_free0 (icon_source);
	_gtk_icon_set_unref0 (icon_set);
	_g_object_unref0 (factory);
}


static void elementary_widgets_elementary_search_entry_hint (ElementaryWidgetsElementarySearchEntry* self) {
	g_return_if_fail (self != NULL);
	self->is_searching = FALSE;
	gtk_entry_set_icon_from_stock ((GtkEntry*) self, GTK_ENTRY_ICON_SECONDARY, NULL);
	elementary_widgets_elementary_entry_hint (ELEMENTARY_WIDGETS_ELEMENTARY_ENTRY (self));
}


static gboolean elementary_widgets_elementary_search_entry_on_focus_in (ElementaryWidgetsElementarySearchEntry* self) {
	gboolean result = FALSE;
	g_return_val_if_fail (self != NULL, FALSE);
	if (!self->is_searching) {
		elementary_widgets_elementary_entry_unhint ((ElementaryWidgetsElementaryEntry*) self);
		self->is_searching = FALSE;
	}
	result = FALSE;
	return result;
}


static gboolean elementary_widgets_elementary_search_entry_on_focus_out (ElementaryWidgetsElementarySearchEntry* self) {
	gboolean result = FALSE;
	gchar* _tmp0_ = NULL;
	gchar* _tmp1_;
	gboolean _tmp2_;
	g_return_val_if_fail (self != NULL, FALSE);
	_tmp0_ = elementary_widgets_elementary_entry_get_text ((ElementaryWidgetsElementaryEntry*) self);
	_tmp1_ = _tmp0_;
	if ((_tmp2_ = g_strcmp0 (_tmp1_, "") == 0, _g_free0 (_tmp1_), _tmp2_)) {
		elementary_widgets_elementary_search_entry_hint (self);
		self->is_searching = FALSE;
	}
	result = FALSE;
	return result;
}


static void elementary_widgets_elementary_search_entry_manage_icon (ElementaryWidgetsElementarySearchEntry* self) {
	const gchar* _tmp0_ = NULL;
	g_return_if_fail (self != NULL);
	_tmp0_ = gtk_entry_get_text ((GtkEntry*) self);
	if (g_strcmp0 (_tmp0_, "") != 0) {
		gtk_entry_set_icon_from_stock ((GtkEntry*) self, GTK_ENTRY_ICON_SECONDARY, "edit-clear-symbolic");
	} else {
		gtk_entry_set_icon_from_stock ((GtkEntry*) self, GTK_ENTRY_ICON_SECONDARY, NULL);
	}
}


static void elementary_widgets_elementary_search_entry_icon_pressed (ElementaryWidgetsElementarySearchEntry* self, GtkEntryIconPosition icon_position) {
	g_return_if_fail (self != NULL);
	if (icon_position == GTK_ENTRY_ICON_SECONDARY) {
		self->is_searching = FALSE;
		gtk_entry_set_text ((GtkEntry*) self, "");
		gtk_entry_set_icon_from_stock ((GtkEntry*) self, GTK_ENTRY_ICON_SECONDARY, NULL);
		self->is_searching = TRUE;
	} else {
		gboolean _tmp0_;
		if (!(g_object_get ((GtkWidget*) self, "is-focus", &_tmp0_, NULL), _tmp0_)) {
			self->is_searching = FALSE;
			elementary_widgets_elementary_search_entry_hint (self);
		}
	}
}


static void elementary_widgets_elementary_search_entry_class_init (ElementaryWidgetsElementarySearchEntryClass * klass) {
	elementary_widgets_elementary_search_entry_parent_class = g_type_class_peek_parent (klass);
	G_OBJECT_CLASS (klass)->finalize = elementary_widgets_elementary_search_entry_finalize;
}


static void elementary_widgets_elementary_search_entry_instance_init (ElementaryWidgetsElementarySearchEntry * self) {
}


static void elementary_widgets_elementary_search_entry_finalize (GObject* obj) {
	ElementaryWidgetsElementarySearchEntry * self;
	self = ELEMENTARY_WIDGETS_ELEMENTARY_SEARCH_ENTRY (obj);
	G_OBJECT_CLASS (elementary_widgets_elementary_search_entry_parent_class)->finalize (obj);
}


GType elementary_widgets_elementary_search_entry_get_type (void) {
	static volatile gsize elementary_widgets_elementary_search_entry_type_id__volatile = 0;
	if (g_once_init_enter (&elementary_widgets_elementary_search_entry_type_id__volatile)) {
		static const GTypeInfo g_define_type_info = { sizeof (ElementaryWidgetsElementarySearchEntryClass), (GBaseInitFunc) NULL, (GBaseFinalizeFunc) NULL, (GClassInitFunc) elementary_widgets_elementary_search_entry_class_init, (GClassFinalizeFunc) NULL, NULL, sizeof (ElementaryWidgetsElementarySearchEntry), 0, (GInstanceInitFunc) elementary_widgets_elementary_search_entry_instance_init, NULL };
		GType elementary_widgets_elementary_search_entry_type_id;
		elementary_widgets_elementary_search_entry_type_id = g_type_register_static (ELEMENTARY_WIDGETS_TYPE_ELEMENTARY_ENTRY, "ElementaryWidgetsElementarySearchEntry", &g_define_type_info, 0);
		g_once_init_leave (&elementary_widgets_elementary_search_entry_type_id__volatile, elementary_widgets_elementary_search_entry_type_id);
	}
	return elementary_widgets_elementary_search_entry_type_id__volatile;
}



