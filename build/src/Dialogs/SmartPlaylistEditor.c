/* SmartPlaylistEditor.c generated by valac 0.11.5, the Vala compiler
 * generated from SmartPlaylistEditor.vala, do not modify */


#include <glib.h>
#include <glib-object.h>
#include <gtk/gtk.h>
#include <gee.h>
#include <stdlib.h>
#include <string.h>


#define BEAT_BOX_TYPE_SMART_PLAYLIST_EDITOR (beat_box_smart_playlist_editor_get_type ())
#define BEAT_BOX_SMART_PLAYLIST_EDITOR(obj) (G_TYPE_CHECK_INSTANCE_CAST ((obj), BEAT_BOX_TYPE_SMART_PLAYLIST_EDITOR, BeatBoxSmartPlaylistEditor))
#define BEAT_BOX_SMART_PLAYLIST_EDITOR_CLASS(klass) (G_TYPE_CHECK_CLASS_CAST ((klass), BEAT_BOX_TYPE_SMART_PLAYLIST_EDITOR, BeatBoxSmartPlaylistEditorClass))
#define BEAT_BOX_IS_SMART_PLAYLIST_EDITOR(obj) (G_TYPE_CHECK_INSTANCE_TYPE ((obj), BEAT_BOX_TYPE_SMART_PLAYLIST_EDITOR))
#define BEAT_BOX_IS_SMART_PLAYLIST_EDITOR_CLASS(klass) (G_TYPE_CHECK_CLASS_TYPE ((klass), BEAT_BOX_TYPE_SMART_PLAYLIST_EDITOR))
#define BEAT_BOX_SMART_PLAYLIST_EDITOR_GET_CLASS(obj) (G_TYPE_INSTANCE_GET_CLASS ((obj), BEAT_BOX_TYPE_SMART_PLAYLIST_EDITOR, BeatBoxSmartPlaylistEditorClass))

typedef struct _BeatBoxSmartPlaylistEditor BeatBoxSmartPlaylistEditor;
typedef struct _BeatBoxSmartPlaylistEditorClass BeatBoxSmartPlaylistEditorClass;
typedef struct _BeatBoxSmartPlaylistEditorPrivate BeatBoxSmartPlaylistEditorPrivate;

#define BEAT_BOX_TYPE_SMART_PLAYLIST (beat_box_smart_playlist_get_type ())
#define BEAT_BOX_SMART_PLAYLIST(obj) (G_TYPE_CHECK_INSTANCE_CAST ((obj), BEAT_BOX_TYPE_SMART_PLAYLIST, BeatBoxSmartPlaylist))
#define BEAT_BOX_SMART_PLAYLIST_CLASS(klass) (G_TYPE_CHECK_CLASS_CAST ((klass), BEAT_BOX_TYPE_SMART_PLAYLIST, BeatBoxSmartPlaylistClass))
#define BEAT_BOX_IS_SMART_PLAYLIST(obj) (G_TYPE_CHECK_INSTANCE_TYPE ((obj), BEAT_BOX_TYPE_SMART_PLAYLIST))
#define BEAT_BOX_IS_SMART_PLAYLIST_CLASS(klass) (G_TYPE_CHECK_CLASS_TYPE ((klass), BEAT_BOX_TYPE_SMART_PLAYLIST))
#define BEAT_BOX_SMART_PLAYLIST_GET_CLASS(obj) (G_TYPE_INSTANCE_GET_CLASS ((obj), BEAT_BOX_TYPE_SMART_PLAYLIST, BeatBoxSmartPlaylistClass))

typedef struct _BeatBoxSmartPlaylist BeatBoxSmartPlaylist;
typedef struct _BeatBoxSmartPlaylistClass BeatBoxSmartPlaylistClass;

#define ELEMENTARY_WIDGETS_TYPE_ELEMENTARY_ENTRY (elementary_widgets_elementary_entry_get_type ())
#define ELEMENTARY_WIDGETS_ELEMENTARY_ENTRY(obj) (G_TYPE_CHECK_INSTANCE_CAST ((obj), ELEMENTARY_WIDGETS_TYPE_ELEMENTARY_ENTRY, ElementaryWidgetsElementaryEntry))
#define ELEMENTARY_WIDGETS_ELEMENTARY_ENTRY_CLASS(klass) (G_TYPE_CHECK_CLASS_CAST ((klass), ELEMENTARY_WIDGETS_TYPE_ELEMENTARY_ENTRY, ElementaryWidgetsElementaryEntryClass))
#define ELEMENTARY_WIDGETS_IS_ELEMENTARY_ENTRY(obj) (G_TYPE_CHECK_INSTANCE_TYPE ((obj), ELEMENTARY_WIDGETS_TYPE_ELEMENTARY_ENTRY))
#define ELEMENTARY_WIDGETS_IS_ELEMENTARY_ENTRY_CLASS(klass) (G_TYPE_CHECK_CLASS_TYPE ((klass), ELEMENTARY_WIDGETS_TYPE_ELEMENTARY_ENTRY))
#define ELEMENTARY_WIDGETS_ELEMENTARY_ENTRY_GET_CLASS(obj) (G_TYPE_INSTANCE_GET_CLASS ((obj), ELEMENTARY_WIDGETS_TYPE_ELEMENTARY_ENTRY, ElementaryWidgetsElementaryEntryClass))

typedef struct _ElementaryWidgetsElementaryEntry ElementaryWidgetsElementaryEntry;
typedef struct _ElementaryWidgetsElementaryEntryClass ElementaryWidgetsElementaryEntryClass;

#define BEAT_BOX_TYPE_SMART_PLAYLIST_EDITOR_QUERY (beat_box_smart_playlist_editor_query_get_type ())
#define BEAT_BOX_SMART_PLAYLIST_EDITOR_QUERY(obj) (G_TYPE_CHECK_INSTANCE_CAST ((obj), BEAT_BOX_TYPE_SMART_PLAYLIST_EDITOR_QUERY, BeatBoxSmartPlaylistEditorQuery))
#define BEAT_BOX_SMART_PLAYLIST_EDITOR_QUERY_CLASS(klass) (G_TYPE_CHECK_CLASS_CAST ((klass), BEAT_BOX_TYPE_SMART_PLAYLIST_EDITOR_QUERY, BeatBoxSmartPlaylistEditorQueryClass))
#define BEAT_BOX_IS_SMART_PLAYLIST_EDITOR_QUERY(obj) (G_TYPE_CHECK_INSTANCE_TYPE ((obj), BEAT_BOX_TYPE_SMART_PLAYLIST_EDITOR_QUERY))
#define BEAT_BOX_IS_SMART_PLAYLIST_EDITOR_QUERY_CLASS(klass) (G_TYPE_CHECK_CLASS_TYPE ((klass), BEAT_BOX_TYPE_SMART_PLAYLIST_EDITOR_QUERY))
#define BEAT_BOX_SMART_PLAYLIST_EDITOR_QUERY_GET_CLASS(obj) (G_TYPE_INSTANCE_GET_CLASS ((obj), BEAT_BOX_TYPE_SMART_PLAYLIST_EDITOR_QUERY, BeatBoxSmartPlaylistEditorQueryClass))

typedef struct _BeatBoxSmartPlaylistEditorQuery BeatBoxSmartPlaylistEditorQuery;
typedef struct _BeatBoxSmartPlaylistEditorQueryClass BeatBoxSmartPlaylistEditorQueryClass;
#define _g_object_unref0(var) ((var == NULL) ? NULL : (var = (g_object_unref (var), NULL)))

#define BEAT_BOX_TYPE_SMART_QUERY (beat_box_smart_query_get_type ())
#define BEAT_BOX_SMART_QUERY(obj) (G_TYPE_CHECK_INSTANCE_CAST ((obj), BEAT_BOX_TYPE_SMART_QUERY, BeatBoxSmartQuery))
#define BEAT_BOX_SMART_QUERY_CLASS(klass) (G_TYPE_CHECK_CLASS_CAST ((klass), BEAT_BOX_TYPE_SMART_QUERY, BeatBoxSmartQueryClass))
#define BEAT_BOX_IS_SMART_QUERY(obj) (G_TYPE_CHECK_INSTANCE_TYPE ((obj), BEAT_BOX_TYPE_SMART_QUERY))
#define BEAT_BOX_IS_SMART_QUERY_CLASS(klass) (G_TYPE_CHECK_CLASS_TYPE ((klass), BEAT_BOX_TYPE_SMART_QUERY))
#define BEAT_BOX_SMART_QUERY_GET_CLASS(obj) (G_TYPE_INSTANCE_GET_CLASS ((obj), BEAT_BOX_TYPE_SMART_QUERY, BeatBoxSmartQueryClass))

typedef struct _BeatBoxSmartQuery BeatBoxSmartQuery;
typedef struct _BeatBoxSmartQueryClass BeatBoxSmartQueryClass;
typedef struct _BeatBoxSmartPlaylistEditorQueryPrivate BeatBoxSmartPlaylistEditorQueryPrivate;

struct _BeatBoxSmartPlaylistEditor {
	GtkWindow parent_instance;
	BeatBoxSmartPlaylistEditorPrivate * priv;
};

struct _BeatBoxSmartPlaylistEditorClass {
	GtkWindowClass parent_class;
	void (*addButtonClick) (BeatBoxSmartPlaylistEditor* self);
	void (*saveClick) (BeatBoxSmartPlaylistEditor* self);
	void (*cancelClick) (BeatBoxSmartPlaylistEditor* self);
};

struct _BeatBoxSmartPlaylistEditorPrivate {
	BeatBoxSmartPlaylist* _sp;
	GtkVBox* vert;
	ElementaryWidgetsElementaryEntry* _name;
	GtkComboBox* _and_or;
	GtkVBox* vertQueries;
	GtkButton* cancel;
	GtkButton* save;
	GtkButton* addButton;
	GeeArrayList* spQueries;
};

struct _BeatBoxSmartPlaylistEditorQuery {
	GObject parent_instance;
	BeatBoxSmartPlaylistEditorQueryPrivate * priv;
	GtkHBox* _box;
	GeeHashMap* fields;
	GeeHashMap* comparators;
};

struct _BeatBoxSmartPlaylistEditorQueryClass {
	GObjectClass parent_class;
	void (*removeClicked) (BeatBoxSmartPlaylistEditorQuery* self);
};

struct _BeatBoxSmartPlaylistEditorQueryPrivate {
	GtkComboBox* _field;
	GtkComboBox* _comparator;
	GtkEntry* _value;
	GtkButton* _remove;
};


static gpointer beat_box_smart_playlist_editor_parent_class = NULL;
static gpointer beat_box_smart_playlist_editor_query_parent_class = NULL;

GType beat_box_smart_playlist_editor_get_type (void) G_GNUC_CONST;
GType beat_box_smart_playlist_get_type (void) G_GNUC_CONST;
GType elementary_widgets_elementary_entry_get_type (void) G_GNUC_CONST;
GType beat_box_smart_playlist_editor_query_get_type (void) G_GNUC_CONST;
#define BEAT_BOX_SMART_PLAYLIST_EDITOR_GET_PRIVATE(o) (G_TYPE_INSTANCE_GET_PRIVATE ((o), BEAT_BOX_TYPE_SMART_PLAYLIST_EDITOR, BeatBoxSmartPlaylistEditorPrivate))
enum  {
	BEAT_BOX_SMART_PLAYLIST_EDITOR_DUMMY_PROPERTY
};
BeatBoxSmartPlaylistEditor* beat_box_smart_playlist_editor_new (BeatBoxSmartPlaylist* sp);
BeatBoxSmartPlaylistEditor* beat_box_smart_playlist_editor_construct (GType object_type, BeatBoxSmartPlaylist* sp);
ElementaryWidgetsElementaryEntry* elementary_widgets_elementary_entry_new (const gchar* hint_string);
ElementaryWidgetsElementaryEntry* elementary_widgets_elementary_entry_construct (GType object_type, const gchar* hint_string);
const gchar* beat_box_smart_playlist_get_name (BeatBoxSmartPlaylist* self);
void elementary_widgets_elementary_entry_set_text (ElementaryWidgetsElementaryEntry* self, const gchar* text);
const gchar* beat_box_smart_playlist_get_conditional (BeatBoxSmartPlaylist* self);
GType beat_box_smart_query_get_type (void) G_GNUC_CONST;
GeeArrayList* beat_box_smart_playlist_queries (BeatBoxSmartPlaylist* self);
BeatBoxSmartPlaylistEditorQuery* beat_box_smart_playlist_editor_query_new (BeatBoxSmartQuery* q);
BeatBoxSmartPlaylistEditorQuery* beat_box_smart_playlist_editor_query_construct (GType object_type, BeatBoxSmartQuery* q);
void beat_box_smart_playlist_editor_addRow (BeatBoxSmartPlaylistEditor* self);
void beat_box_smart_playlist_editor_addButtonClick (BeatBoxSmartPlaylistEditor* self);
static void _beat_box_smart_playlist_editor_addButtonClick_gtk_button_clicked (GtkButton* _sender, gpointer self);
void beat_box_smart_playlist_editor_saveClick (BeatBoxSmartPlaylistEditor* self);
static void _beat_box_smart_playlist_editor_saveClick_gtk_button_clicked (GtkButton* _sender, gpointer self);
void beat_box_smart_playlist_editor_cancelClick (BeatBoxSmartPlaylistEditor* self);
static void _beat_box_smart_playlist_editor_cancelClick_gtk_button_clicked (GtkButton* _sender, gpointer self);
BeatBoxSmartQuery* beat_box_smart_query_new (void);
BeatBoxSmartQuery* beat_box_smart_query_construct (GType object_type);
static void beat_box_smart_playlist_editor_real_addButtonClick (BeatBoxSmartPlaylistEditor* self);
static void beat_box_smart_playlist_editor_real_saveClick (BeatBoxSmartPlaylistEditor* self);
void beat_box_smart_playlist_clearQueries (BeatBoxSmartPlaylist* self);
void beat_box_smart_playlist_addQuery (BeatBoxSmartPlaylist* self, BeatBoxSmartQuery* s);
BeatBoxSmartQuery* beat_box_smart_playlist_editor_query_getQuery (BeatBoxSmartPlaylistEditorQuery* self);
void beat_box_smart_playlist_set_name (BeatBoxSmartPlaylist* self, const gchar* value);
void beat_box_smart_playlist_set_conditional (BeatBoxSmartPlaylist* self, const gchar* value);
static void beat_box_smart_playlist_editor_real_cancelClick (BeatBoxSmartPlaylistEditor* self);
static void beat_box_smart_playlist_editor_finalize (GObject* obj);
#define BEAT_BOX_SMART_PLAYLIST_EDITOR_QUERY_GET_PRIVATE(o) (G_TYPE_INSTANCE_GET_PRIVATE ((o), BEAT_BOX_TYPE_SMART_PLAYLIST_EDITOR_QUERY, BeatBoxSmartPlaylistEditorQueryPrivate))
enum  {
	BEAT_BOX_SMART_PLAYLIST_EDITOR_QUERY_DUMMY_PROPERTY
};
const gchar* beat_box_smart_query_get_field (BeatBoxSmartQuery* self);
const gchar* beat_box_smart_query_get_comparator (BeatBoxSmartQuery* self);
const gchar* beat_box_smart_query_get_value (BeatBoxSmartQuery* self);
void beat_box_smart_playlist_editor_query_removeClicked (BeatBoxSmartPlaylistEditorQuery* self);
static void _beat_box_smart_playlist_editor_query_removeClicked_gtk_button_clicked (GtkButton* _sender, gpointer self);
void beat_box_smart_query_set_field (BeatBoxSmartQuery* self, const gchar* value);
void beat_box_smart_query_set_comparator (BeatBoxSmartQuery* self, const gchar* value);
void beat_box_smart_query_set_value (BeatBoxSmartQuery* self, const gchar* value);
static void beat_box_smart_playlist_editor_query_real_removeClicked (BeatBoxSmartPlaylistEditorQuery* self);
static void beat_box_smart_playlist_editor_query_finalize (GObject* obj);


static gpointer _g_object_ref0 (gpointer self) {
	return self ? g_object_ref (self) : NULL;
}


static void _beat_box_smart_playlist_editor_addButtonClick_gtk_button_clicked (GtkButton* _sender, gpointer self) {
	beat_box_smart_playlist_editor_addButtonClick (self);
}


static void _beat_box_smart_playlist_editor_saveClick_gtk_button_clicked (GtkButton* _sender, gpointer self) {
	beat_box_smart_playlist_editor_saveClick (self);
}


static void _beat_box_smart_playlist_editor_cancelClick_gtk_button_clicked (GtkButton* _sender, gpointer self) {
	beat_box_smart_playlist_editor_cancelClick (self);
}


BeatBoxSmartPlaylistEditor* beat_box_smart_playlist_editor_construct (GType object_type, BeatBoxSmartPlaylist* sp) {
	BeatBoxSmartPlaylistEditor * self = NULL;
	BeatBoxSmartPlaylist* _tmp0_;
	BeatBoxSmartPlaylist* _tmp1_;
	GtkVBox* _tmp2_ = NULL;
	GtkVBox* _tmp3_;
	GtkHBox* _tmp4_ = NULL;
	GtkHBox* nameBox;
	ElementaryWidgetsElementaryEntry* _tmp5_ = NULL;
	ElementaryWidgetsElementaryEntry* _tmp6_;
	const gchar* _tmp7_ = NULL;
	GtkHBox* _tmp9_ = NULL;
	GtkHBox* andorBox;
	GtkLabel* _tmp10_ = NULL;
	GtkLabel* andorLabel1;
	GtkComboBox* _tmp11_ = NULL;
	GtkComboBox* _tmp12_;
	GtkLabel* _tmp13_ = NULL;
	GtkLabel* andorLabel2;
	const gchar* _tmp14_ = NULL;
	GeeArrayList* _tmp15_ = NULL;
	GeeArrayList* _tmp16_;
	GtkVBox* _tmp17_ = NULL;
	GtkVBox* _tmp18_;
	GeeArrayList* _tmp23_ = NULL;
	GeeArrayList* _tmp24_;
	gint _tmp25_;
	gboolean _tmp26_;
	GtkButton* _tmp27_ = NULL;
	GtkButton* _tmp28_;
	GtkHButtonBox* _tmp29_ = NULL;
	GtkHButtonBox* saveBox;
	GtkButton* _tmp30_ = NULL;
	GtkButton* _tmp31_;
	GtkButton* _tmp32_ = NULL;
	GtkButton* _tmp33_;
	g_return_val_if_fail (sp != NULL, NULL);
	self = (BeatBoxSmartPlaylistEditor*) g_object_new (object_type, NULL);
	gtk_window_set_title ((GtkWindow*) self, "Smart Playlist Editor");
	g_object_set ((GtkWindow*) self, "window-position", GTK_WIN_POS_CENTER, NULL);
	_tmp0_ = _g_object_ref0 (sp);
	_tmp1_ = _tmp0_;
	_g_object_unref0 (self->priv->_sp);
	self->priv->_sp = _tmp1_;
	_tmp2_ = (GtkVBox*) gtk_vbox_new (FALSE, 10);
	_tmp3_ = g_object_ref_sink (_tmp2_);
	_g_object_unref0 (self->priv->vert);
	self->priv->vert = _tmp3_;
	_tmp4_ = (GtkHBox*) gtk_hbox_new (FALSE, 1);
	nameBox = g_object_ref_sink (_tmp4_);
	_tmp5_ = elementary_widgets_elementary_entry_new ("Playlist Title");
	_tmp6_ = g_object_ref_sink (_tmp5_);
	_g_object_unref0 (self->priv->_name);
	self->priv->_name = _tmp6_;
	gtk_box_pack_start ((GtkBox*) nameBox, (GtkWidget*) self->priv->_name, TRUE, TRUE, (guint) 0);
	_tmp7_ = beat_box_smart_playlist_get_name (self->priv->_sp);
	if (g_strcmp0 (_tmp7_, "") != 0) {
		const gchar* _tmp8_ = NULL;
		_tmp8_ = beat_box_smart_playlist_get_name (self->priv->_sp);
		elementary_widgets_elementary_entry_set_text (self->priv->_name, _tmp8_);
	}
	_tmp9_ = (GtkHBox*) gtk_hbox_new (FALSE, 2);
	andorBox = g_object_ref_sink (_tmp9_);
	_tmp10_ = (GtkLabel*) gtk_label_new ("Match");
	andorLabel1 = g_object_ref_sink (_tmp10_);
	_tmp11_ = (GtkComboBox*) gtk_combo_box_new_text ();
	_tmp12_ = g_object_ref_sink (_tmp11_);
	_g_object_unref0 (self->priv->_and_or);
	self->priv->_and_or = _tmp12_;
	gtk_combo_box_insert_text (self->priv->_and_or, 0, "OR");
	gtk_combo_box_insert_text (self->priv->_and_or, 0, "AND");
	_tmp13_ = (GtkLabel*) gtk_label_new ("of the queries:");
	andorLabel2 = g_object_ref_sink (_tmp13_);
	gtk_box_pack_start ((GtkBox*) andorBox, (GtkWidget*) andorLabel1, FALSE, FALSE, (guint) 0);
	gtk_box_pack_start ((GtkBox*) andorBox, (GtkWidget*) self->priv->_and_or, FALSE, FALSE, (guint) 0);
	gtk_box_pack_start ((GtkBox*) andorBox, (GtkWidget*) andorLabel2, FALSE, FALSE, (guint) 0);
	_tmp14_ = beat_box_smart_playlist_get_conditional (self->priv->_sp);
	if (g_strcmp0 (_tmp14_, "OR") == 0) {
		gtk_combo_box_set_active (self->priv->_and_or, 1);
	} else {
		gtk_combo_box_set_active (self->priv->_and_or, 0);
	}
	_tmp15_ = gee_array_list_new (BEAT_BOX_TYPE_SMART_PLAYLIST_EDITOR_QUERY, (GBoxedCopyFunc) g_object_ref, g_object_unref, NULL);
	_tmp16_ = _tmp15_;
	_g_object_unref0 (self->priv->spQueries);
	self->priv->spQueries = _tmp16_;
	_tmp17_ = (GtkVBox*) gtk_vbox_new (TRUE, 2);
	_tmp18_ = g_object_ref_sink (_tmp17_);
	_g_object_unref0 (self->priv->vertQueries);
	self->priv->vertQueries = _tmp18_;
	{
		GeeArrayList* _tmp19_ = NULL;
		GeeArrayList* _q_list;
		gint _tmp20_;
		gint _q_size;
		gint _q_index;
		_tmp19_ = beat_box_smart_playlist_queries (self->priv->_sp);
		_q_list = _tmp19_;
		_tmp20_ = gee_collection_get_size ((GeeCollection*) _q_list);
		_q_size = _tmp20_;
		_q_index = -1;
		while (TRUE) {
			gpointer _tmp21_ = NULL;
			BeatBoxSmartQuery* q;
			BeatBoxSmartPlaylistEditorQuery* _tmp22_ = NULL;
			BeatBoxSmartPlaylistEditorQuery* speq;
			_q_index = _q_index + 1;
			if (!(_q_index < _q_size)) {
				break;
			}
			_tmp21_ = gee_abstract_list_get ((GeeAbstractList*) _q_list, _q_index);
			q = (BeatBoxSmartQuery*) _tmp21_;
			_tmp22_ = beat_box_smart_playlist_editor_query_new (q);
			speq = _tmp22_;
			gtk_box_pack_start ((GtkBox*) self->priv->vertQueries, (GtkWidget*) speq->_box, FALSE, TRUE, (guint) 1);
			gee_abstract_collection_add ((GeeAbstractCollection*) self->priv->spQueries, speq);
			_g_object_unref0 (speq);
			_g_object_unref0 (q);
		}
		_g_object_unref0 (_q_list);
	}
	_tmp23_ = beat_box_smart_playlist_queries (self->priv->_sp);
	_tmp24_ = _tmp23_;
	_tmp25_ = gee_collection_get_size ((GeeCollection*) _tmp24_);
	if ((_tmp26_ = _tmp25_ == 0, _g_object_unref0 (_tmp24_), _tmp26_)) {
		beat_box_smart_playlist_editor_addRow (self);
	}
	_tmp27_ = (GtkButton*) gtk_button_new_with_label ("Add");
	_tmp28_ = g_object_ref_sink (_tmp27_);
	_g_object_unref0 (self->priv->addButton);
	self->priv->addButton = _tmp28_;
	gtk_box_pack_end ((GtkBox*) self->priv->vertQueries, (GtkWidget*) self->priv->addButton, FALSE, TRUE, (guint) 1);
	g_signal_connect_object (self->priv->addButton, "clicked", (GCallback) _beat_box_smart_playlist_editor_addButtonClick_gtk_button_clicked, self, 0);
	_tmp29_ = (GtkHButtonBox*) gtk_hbutton_box_new ();
	saveBox = g_object_ref_sink (_tmp29_);
	_tmp30_ = (GtkButton*) gtk_button_new_with_label ("Cancel");
	_tmp31_ = g_object_ref_sink (_tmp30_);
	_g_object_unref0 (self->priv->cancel);
	self->priv->cancel = _tmp31_;
	_tmp32_ = (GtkButton*) gtk_button_new_with_label ("Save");
	_tmp33_ = g_object_ref_sink (_tmp32_);
	_g_object_unref0 (self->priv->save);
	self->priv->save = _tmp33_;
	gtk_box_pack_start ((GtkBox*) saveBox, (GtkWidget*) self->priv->cancel, FALSE, FALSE, (guint) 0);
	gtk_box_pack_end ((GtkBox*) saveBox, (GtkWidget*) self->priv->save, FALSE, FALSE, (guint) 0);
	gtk_box_pack_start ((GtkBox*) self->priv->vert, (GtkWidget*) nameBox, FALSE, TRUE, (guint) 1);
	gtk_box_pack_start ((GtkBox*) self->priv->vert, (GtkWidget*) andorBox, FALSE, TRUE, (guint) 1);
	gtk_box_pack_start ((GtkBox*) self->priv->vert, (GtkWidget*) self->priv->vertQueries, FALSE, TRUE, (guint) 1);
	gtk_box_pack_start ((GtkBox*) self->priv->vert, (GtkWidget*) saveBox, FALSE, FALSE, (guint) 1);
	gtk_container_add ((GtkContainer*) self, (GtkWidget*) self->priv->vert);
	gtk_widget_show_all ((GtkWidget*) self);
	g_signal_connect_object (self->priv->save, "clicked", (GCallback) _beat_box_smart_playlist_editor_saveClick_gtk_button_clicked, self, 0);
	g_signal_connect_object (self->priv->cancel, "clicked", (GCallback) _beat_box_smart_playlist_editor_cancelClick_gtk_button_clicked, self, 0);
	_g_object_unref0 (saveBox);
	_g_object_unref0 (andorLabel2);
	_g_object_unref0 (andorLabel1);
	_g_object_unref0 (andorBox);
	_g_object_unref0 (nameBox);
	return self;
}


BeatBoxSmartPlaylistEditor* beat_box_smart_playlist_editor_new (BeatBoxSmartPlaylist* sp) {
	return beat_box_smart_playlist_editor_construct (BEAT_BOX_TYPE_SMART_PLAYLIST_EDITOR, sp);
}


void beat_box_smart_playlist_editor_addRow (BeatBoxSmartPlaylistEditor* self) {
	BeatBoxSmartQuery* _tmp0_ = NULL;
	BeatBoxSmartQuery* _tmp1_;
	BeatBoxSmartPlaylistEditorQuery* _tmp2_ = NULL;
	BeatBoxSmartPlaylistEditorQuery* _tmp3_;
	BeatBoxSmartPlaylistEditorQuery* speq;
	g_return_if_fail (self != NULL);
	_tmp0_ = beat_box_smart_query_new ();
	_tmp1_ = _tmp0_;
	_tmp2_ = beat_box_smart_playlist_editor_query_new (_tmp1_);
	speq = (_tmp3_ = _tmp2_, _g_object_unref0 (_tmp1_), _tmp3_);
	gtk_box_pack_start ((GtkBox*) self->priv->vertQueries, (GtkWidget*) speq->_box, FALSE, TRUE, (guint) 1);
	gee_abstract_collection_add ((GeeAbstractCollection*) self->priv->spQueries, speq);
	_g_object_unref0 (speq);
}


static void beat_box_smart_playlist_editor_real_addButtonClick (BeatBoxSmartPlaylistEditor* self) {
	g_return_if_fail (self != NULL);
	beat_box_smart_playlist_editor_addRow (self);
}


void beat_box_smart_playlist_editor_addButtonClick (BeatBoxSmartPlaylistEditor* self) {
	BEAT_BOX_SMART_PLAYLIST_EDITOR_GET_CLASS (self)->addButtonClick (self);
}


static void beat_box_smart_playlist_editor_real_saveClick (BeatBoxSmartPlaylistEditor* self) {
	const gchar* _tmp6_ = NULL;
	const gchar* _tmp7_ = NULL;
	g_return_if_fail (self != NULL);
	beat_box_smart_playlist_clearQueries (self->priv->_sp);
	{
		GeeArrayList* _tmp0_;
		GeeArrayList* _speq_list;
		gint _tmp1_;
		gint _speq_size;
		gint _speq_index;
		_tmp0_ = _g_object_ref0 (self->priv->spQueries);
		_speq_list = _tmp0_;
		_tmp1_ = gee_collection_get_size ((GeeCollection*) _speq_list);
		_speq_size = _tmp1_;
		_speq_index = -1;
		while (TRUE) {
			gpointer _tmp2_ = NULL;
			BeatBoxSmartPlaylistEditorQuery* speq;
			gboolean _tmp3_;
			_speq_index = _speq_index + 1;
			if (!(_speq_index < _speq_size)) {
				break;
			}
			_tmp2_ = gee_abstract_list_get ((GeeAbstractList*) _speq_list, _speq_index);
			speq = (BeatBoxSmartPlaylistEditorQuery*) _tmp2_;
			_tmp3_ = gtk_widget_get_visible ((GtkWidget*) speq->_box);
			if (_tmp3_) {
				BeatBoxSmartQuery* _tmp4_ = NULL;
				BeatBoxSmartQuery* _tmp5_;
				_tmp4_ = beat_box_smart_playlist_editor_query_getQuery (speq);
				_tmp5_ = _tmp4_;
				beat_box_smart_playlist_addQuery (self->priv->_sp, _tmp5_);
				_g_object_unref0 (_tmp5_);
			}
			_g_object_unref0 (speq);
		}
		_g_object_unref0 (_speq_list);
	}
	_tmp6_ = gtk_entry_get_text ((GtkEntry*) self->priv->_name);
	beat_box_smart_playlist_set_name (self->priv->_sp, _tmp6_);
	_tmp7_ = gtk_combo_box_get_active_text (self->priv->_and_or);
	beat_box_smart_playlist_set_conditional (self->priv->_sp, _tmp7_);
	g_signal_emit_by_name (self, "playlist-saved", self->priv->_sp);
	gtk_object_destroy ((GtkObject*) self);
}


void beat_box_smart_playlist_editor_saveClick (BeatBoxSmartPlaylistEditor* self) {
	BEAT_BOX_SMART_PLAYLIST_EDITOR_GET_CLASS (self)->saveClick (self);
}


static void beat_box_smart_playlist_editor_real_cancelClick (BeatBoxSmartPlaylistEditor* self) {
	g_return_if_fail (self != NULL);
	gtk_object_destroy ((GtkObject*) self);
}


void beat_box_smart_playlist_editor_cancelClick (BeatBoxSmartPlaylistEditor* self) {
	BEAT_BOX_SMART_PLAYLIST_EDITOR_GET_CLASS (self)->cancelClick (self);
}


static void beat_box_smart_playlist_editor_class_init (BeatBoxSmartPlaylistEditorClass * klass) {
	beat_box_smart_playlist_editor_parent_class = g_type_class_peek_parent (klass);
	g_type_class_add_private (klass, sizeof (BeatBoxSmartPlaylistEditorPrivate));
	BEAT_BOX_SMART_PLAYLIST_EDITOR_CLASS (klass)->addButtonClick = beat_box_smart_playlist_editor_real_addButtonClick;
	BEAT_BOX_SMART_PLAYLIST_EDITOR_CLASS (klass)->saveClick = beat_box_smart_playlist_editor_real_saveClick;
	BEAT_BOX_SMART_PLAYLIST_EDITOR_CLASS (klass)->cancelClick = beat_box_smart_playlist_editor_real_cancelClick;
	G_OBJECT_CLASS (klass)->finalize = beat_box_smart_playlist_editor_finalize;
	g_signal_new ("playlist_saved", BEAT_BOX_TYPE_SMART_PLAYLIST_EDITOR, G_SIGNAL_RUN_LAST, 0, NULL, NULL, g_cclosure_marshal_VOID__OBJECT, G_TYPE_NONE, 1, BEAT_BOX_TYPE_SMART_PLAYLIST);
}


static void beat_box_smart_playlist_editor_instance_init (BeatBoxSmartPlaylistEditor * self) {
	self->priv = BEAT_BOX_SMART_PLAYLIST_EDITOR_GET_PRIVATE (self);
}


static void beat_box_smart_playlist_editor_finalize (GObject* obj) {
	BeatBoxSmartPlaylistEditor * self;
	self = BEAT_BOX_SMART_PLAYLIST_EDITOR (obj);
	_g_object_unref0 (self->priv->_sp);
	_g_object_unref0 (self->priv->vert);
	_g_object_unref0 (self->priv->_name);
	_g_object_unref0 (self->priv->_and_or);
	_g_object_unref0 (self->priv->vertQueries);
	_g_object_unref0 (self->priv->cancel);
	_g_object_unref0 (self->priv->save);
	_g_object_unref0 (self->priv->addButton);
	_g_object_unref0 (self->priv->spQueries);
	G_OBJECT_CLASS (beat_box_smart_playlist_editor_parent_class)->finalize (obj);
}


GType beat_box_smart_playlist_editor_get_type (void) {
	static volatile gsize beat_box_smart_playlist_editor_type_id__volatile = 0;
	if (g_once_init_enter (&beat_box_smart_playlist_editor_type_id__volatile)) {
		static const GTypeInfo g_define_type_info = { sizeof (BeatBoxSmartPlaylistEditorClass), (GBaseInitFunc) NULL, (GBaseFinalizeFunc) NULL, (GClassInitFunc) beat_box_smart_playlist_editor_class_init, (GClassFinalizeFunc) NULL, NULL, sizeof (BeatBoxSmartPlaylistEditor), 0, (GInstanceInitFunc) beat_box_smart_playlist_editor_instance_init, NULL };
		GType beat_box_smart_playlist_editor_type_id;
		beat_box_smart_playlist_editor_type_id = g_type_register_static (GTK_TYPE_WINDOW, "BeatBoxSmartPlaylistEditor", &g_define_type_info, 0);
		g_once_init_leave (&beat_box_smart_playlist_editor_type_id__volatile, beat_box_smart_playlist_editor_type_id);
	}
	return beat_box_smart_playlist_editor_type_id__volatile;
}


static void _beat_box_smart_playlist_editor_query_removeClicked_gtk_button_clicked (GtkButton* _sender, gpointer self) {
	beat_box_smart_playlist_editor_query_removeClicked (self);
}


BeatBoxSmartPlaylistEditorQuery* beat_box_smart_playlist_editor_query_construct (GType object_type, BeatBoxSmartQuery* q) {
	BeatBoxSmartPlaylistEditorQuery * self = NULL;
	GeeHashMap* _tmp0_ = NULL;
	GeeHashMap* _tmp1_;
	GeeHashMap* _tmp2_ = NULL;
	GeeHashMap* _tmp3_;
	GtkHBox* _tmp4_ = NULL;
	GtkHBox* _tmp5_;
	GtkComboBox* _tmp6_ = NULL;
	GtkComboBox* _tmp7_;
	GtkComboBox* _tmp8_ = NULL;
	GtkComboBox* _tmp9_;
	GtkEntry* _tmp10_ = NULL;
	GtkEntry* _tmp11_;
	GtkButton* _tmp12_ = NULL;
	GtkButton* _tmp13_;
	const gchar* _tmp14_ = NULL;
	gpointer _tmp15_ = NULL;
	const gchar* _tmp16_ = NULL;
	gpointer _tmp17_ = NULL;
	const gchar* _tmp18_ = NULL;
	g_return_val_if_fail (q != NULL, NULL);
	self = (BeatBoxSmartPlaylistEditorQuery*) g_object_new (object_type, NULL);
	_tmp0_ = gee_hash_map_new (G_TYPE_STRING, (GBoxedCopyFunc) g_strdup, g_free, G_TYPE_INT, NULL, NULL, NULL, NULL, NULL);
	_tmp1_ = _tmp0_;
	_g_object_unref0 (self->fields);
	self->fields = _tmp1_;
	_tmp2_ = gee_hash_map_new (G_TYPE_STRING, (GBoxedCopyFunc) g_strdup, g_free, G_TYPE_INT, NULL, NULL, NULL, NULL, NULL);
	_tmp3_ = _tmp2_;
	_g_object_unref0 (self->comparators);
	self->comparators = _tmp3_;
	gee_abstract_map_set ((GeeAbstractMap*) self->fields, "album", GINT_TO_POINTER (0));
	gee_abstract_map_set ((GeeAbstractMap*) self->fields, "artist", GINT_TO_POINTER (1));
	gee_abstract_map_set ((GeeAbstractMap*) self->fields, "bitrate", GINT_TO_POINTER (2));
	gee_abstract_map_set ((GeeAbstractMap*) self->fields, "comment", GINT_TO_POINTER (3));
	gee_abstract_map_set ((GeeAbstractMap*) self->fields, "dateadded", GINT_TO_POINTER (4));
	gee_abstract_map_set ((GeeAbstractMap*) self->fields, "genre", GINT_TO_POINTER (5));
	gee_abstract_map_set ((GeeAbstractMap*) self->fields, "lastplayed", GINT_TO_POINTER (6));
	gee_abstract_map_set ((GeeAbstractMap*) self->fields, "length", GINT_TO_POINTER (7));
	gee_abstract_map_set ((GeeAbstractMap*) self->fields, "playcount", GINT_TO_POINTER (8));
	gee_abstract_map_set ((GeeAbstractMap*) self->fields, "rating", GINT_TO_POINTER (9));
	gee_abstract_map_set ((GeeAbstractMap*) self->fields, "title", GINT_TO_POINTER (10));
	gee_abstract_map_set ((GeeAbstractMap*) self->fields, "track", GINT_TO_POINTER (11));
	gee_abstract_map_set ((GeeAbstractMap*) self->fields, "year", GINT_TO_POINTER (12));
	gee_abstract_map_set ((GeeAbstractMap*) self->comparators, "=", GINT_TO_POINTER (0));
	gee_abstract_map_set ((GeeAbstractMap*) self->comparators, "<", GINT_TO_POINTER (1));
	gee_abstract_map_set ((GeeAbstractMap*) self->comparators, ">", GINT_TO_POINTER (2));
	gee_abstract_map_set ((GeeAbstractMap*) self->comparators, "LIKE", GINT_TO_POINTER (3));
	_tmp4_ = (GtkHBox*) gtk_hbox_new (FALSE, 2);
	_tmp5_ = g_object_ref_sink (_tmp4_);
	_g_object_unref0 (self->_box);
	self->_box = _tmp5_;
	_tmp6_ = (GtkComboBox*) gtk_combo_box_new_text ();
	_tmp7_ = g_object_ref_sink (_tmp6_);
	_g_object_unref0 (self->priv->_field);
	self->priv->_field = _tmp7_;
	_tmp8_ = (GtkComboBox*) gtk_combo_box_new_text ();
	_tmp9_ = g_object_ref_sink (_tmp8_);
	_g_object_unref0 (self->priv->_comparator);
	self->priv->_comparator = _tmp9_;
	_tmp10_ = (GtkEntry*) gtk_entry_new ();
	_tmp11_ = g_object_ref_sink (_tmp10_);
	_g_object_unref0 (self->priv->_value);
	self->priv->_value = _tmp11_;
	_tmp12_ = (GtkButton*) gtk_button_new_with_label ("Remove");
	_tmp13_ = g_object_ref_sink (_tmp12_);
	_g_object_unref0 (self->priv->_remove);
	self->priv->_remove = _tmp13_;
	gtk_combo_box_insert_text (self->priv->_field, 0, "album");
	gtk_combo_box_insert_text (self->priv->_field, 1, "artist");
	gtk_combo_box_insert_text (self->priv->_field, 2, "bitrate");
	gtk_combo_box_insert_text (self->priv->_field, 3, "comment");
	gtk_combo_box_insert_text (self->priv->_field, 4, "dateadded");
	gtk_combo_box_insert_text (self->priv->_field, 5, "genre");
	gtk_combo_box_insert_text (self->priv->_field, 6, "lastplayed");
	gtk_combo_box_insert_text (self->priv->_field, 7, "length");
	gtk_combo_box_insert_text (self->priv->_field, 8, "playcount");
	gtk_combo_box_insert_text (self->priv->_field, 9, "rating");
	gtk_combo_box_insert_text (self->priv->_field, 10, "title");
	gtk_combo_box_insert_text (self->priv->_field, 11, "track");
	gtk_combo_box_insert_text (self->priv->_field, 12, "year");
	gtk_combo_box_insert_text (self->priv->_comparator, 0, "=");
	gtk_combo_box_insert_text (self->priv->_comparator, 1, "<");
	gtk_combo_box_insert_text (self->priv->_comparator, 2, ">");
	gtk_combo_box_insert_text (self->priv->_comparator, 3, "LIKE");
	_tmp14_ = beat_box_smart_query_get_field (q);
	_tmp15_ = gee_abstract_map_get ((GeeAbstractMap*) self->fields, _tmp14_);
	gtk_combo_box_set_active (self->priv->_field, GPOINTER_TO_INT (_tmp15_));
	_tmp16_ = beat_box_smart_query_get_comparator (q);
	_tmp17_ = gee_abstract_map_get ((GeeAbstractMap*) self->comparators, _tmp16_);
	gtk_combo_box_set_active (self->priv->_comparator, GPOINTER_TO_INT (_tmp17_));
	_tmp18_ = beat_box_smart_query_get_value (q);
	gtk_entry_set_text (self->priv->_value, _tmp18_);
	gtk_box_pack_start ((GtkBox*) self->_box, (GtkWidget*) self->priv->_field, FALSE, TRUE, (guint) 2);
	gtk_box_pack_start ((GtkBox*) self->_box, (GtkWidget*) self->priv->_comparator, FALSE, TRUE, (guint) 2);
	gtk_box_pack_start ((GtkBox*) self->_box, (GtkWidget*) self->priv->_value, FALSE, TRUE, (guint) 2);
	gtk_box_pack_start ((GtkBox*) self->_box, (GtkWidget*) self->priv->_remove, FALSE, TRUE, (guint) 2);
	gtk_widget_show_all ((GtkWidget*) self->_box);
	g_signal_connect_object (self->priv->_remove, "clicked", (GCallback) _beat_box_smart_playlist_editor_query_removeClicked_gtk_button_clicked, self, 0);
	return self;
}


BeatBoxSmartPlaylistEditorQuery* beat_box_smart_playlist_editor_query_new (BeatBoxSmartQuery* q) {
	return beat_box_smart_playlist_editor_query_construct (BEAT_BOX_TYPE_SMART_PLAYLIST_EDITOR_QUERY, q);
}


BeatBoxSmartQuery* beat_box_smart_playlist_editor_query_getQuery (BeatBoxSmartPlaylistEditorQuery* self) {
	BeatBoxSmartQuery* result = NULL;
	BeatBoxSmartQuery* _tmp0_ = NULL;
	BeatBoxSmartQuery* rv;
	const gchar* _tmp1_ = NULL;
	const gchar* _tmp2_ = NULL;
	const gchar* _tmp3_ = NULL;
	g_return_val_if_fail (self != NULL, NULL);
	_tmp0_ = beat_box_smart_query_new ();
	rv = _tmp0_;
	_tmp1_ = gtk_combo_box_get_active_text (self->priv->_field);
	beat_box_smart_query_set_field (rv, _tmp1_);
	_tmp2_ = gtk_combo_box_get_active_text (self->priv->_comparator);
	beat_box_smart_query_set_comparator (rv, _tmp2_);
	_tmp3_ = gtk_entry_get_text (self->priv->_value);
	beat_box_smart_query_set_value (rv, _tmp3_);
	result = rv;
	return result;
}


static void beat_box_smart_playlist_editor_query_real_removeClicked (BeatBoxSmartPlaylistEditorQuery* self) {
	g_return_if_fail (self != NULL);
	gtk_widget_hide ((GtkWidget*) self->_box);
}


void beat_box_smart_playlist_editor_query_removeClicked (BeatBoxSmartPlaylistEditorQuery* self) {
	BEAT_BOX_SMART_PLAYLIST_EDITOR_QUERY_GET_CLASS (self)->removeClicked (self);
}


static void beat_box_smart_playlist_editor_query_class_init (BeatBoxSmartPlaylistEditorQueryClass * klass) {
	beat_box_smart_playlist_editor_query_parent_class = g_type_class_peek_parent (klass);
	g_type_class_add_private (klass, sizeof (BeatBoxSmartPlaylistEditorQueryPrivate));
	BEAT_BOX_SMART_PLAYLIST_EDITOR_QUERY_CLASS (klass)->removeClicked = beat_box_smart_playlist_editor_query_real_removeClicked;
	G_OBJECT_CLASS (klass)->finalize = beat_box_smart_playlist_editor_query_finalize;
}


static void beat_box_smart_playlist_editor_query_instance_init (BeatBoxSmartPlaylistEditorQuery * self) {
	self->priv = BEAT_BOX_SMART_PLAYLIST_EDITOR_QUERY_GET_PRIVATE (self);
}


static void beat_box_smart_playlist_editor_query_finalize (GObject* obj) {
	BeatBoxSmartPlaylistEditorQuery * self;
	self = BEAT_BOX_SMART_PLAYLIST_EDITOR_QUERY (obj);
	_g_object_unref0 (self->_box);
	_g_object_unref0 (self->priv->_field);
	_g_object_unref0 (self->priv->_comparator);
	_g_object_unref0 (self->priv->_value);
	_g_object_unref0 (self->priv->_remove);
	_g_object_unref0 (self->fields);
	_g_object_unref0 (self->comparators);
	G_OBJECT_CLASS (beat_box_smart_playlist_editor_query_parent_class)->finalize (obj);
}


GType beat_box_smart_playlist_editor_query_get_type (void) {
	static volatile gsize beat_box_smart_playlist_editor_query_type_id__volatile = 0;
	if (g_once_init_enter (&beat_box_smart_playlist_editor_query_type_id__volatile)) {
		static const GTypeInfo g_define_type_info = { sizeof (BeatBoxSmartPlaylistEditorQueryClass), (GBaseInitFunc) NULL, (GBaseFinalizeFunc) NULL, (GClassInitFunc) beat_box_smart_playlist_editor_query_class_init, (GClassFinalizeFunc) NULL, NULL, sizeof (BeatBoxSmartPlaylistEditorQuery), 0, (GInstanceInitFunc) beat_box_smart_playlist_editor_query_instance_init, NULL };
		GType beat_box_smart_playlist_editor_query_type_id;
		beat_box_smart_playlist_editor_query_type_id = g_type_register_static (G_TYPE_OBJECT, "BeatBoxSmartPlaylistEditorQuery", &g_define_type_info, 0);
		g_once_init_leave (&beat_box_smart_playlist_editor_query_type_id__volatile, beat_box_smart_playlist_editor_query_type_id);
	}
	return beat_box_smart_playlist_editor_query_type_id__volatile;
}



