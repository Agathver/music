/* AppMenu.c generated by valac 0.11.7, the Vala compiler
 * generated from AppMenu.vala, do not modify */


#include <glib.h>
#include <glib-object.h>
#include <gtk/gtk.h>
#include <stdlib.h>
#include <string.h>
#include <gdk/gdk.h>


#define TYPE_TOOL_BUTTON_WITH_MENU (tool_button_with_menu_get_type ())
#define TOOL_BUTTON_WITH_MENU(obj) (G_TYPE_CHECK_INSTANCE_CAST ((obj), TYPE_TOOL_BUTTON_WITH_MENU, ToolButtonWithMenu))
#define TOOL_BUTTON_WITH_MENU_CLASS(klass) (G_TYPE_CHECK_CLASS_CAST ((klass), TYPE_TOOL_BUTTON_WITH_MENU, ToolButtonWithMenuClass))
#define IS_TOOL_BUTTON_WITH_MENU(obj) (G_TYPE_CHECK_INSTANCE_TYPE ((obj), TYPE_TOOL_BUTTON_WITH_MENU))
#define IS_TOOL_BUTTON_WITH_MENU_CLASS(klass) (G_TYPE_CHECK_CLASS_TYPE ((klass), TYPE_TOOL_BUTTON_WITH_MENU))
#define TOOL_BUTTON_WITH_MENU_GET_CLASS(obj) (G_TYPE_INSTANCE_GET_CLASS ((obj), TYPE_TOOL_BUTTON_WITH_MENU, ToolButtonWithMenuClass))

typedef struct _ToolButtonWithMenu ToolButtonWithMenu;
typedef struct _ToolButtonWithMenuClass ToolButtonWithMenuClass;
typedef struct _ToolButtonWithMenuPrivate ToolButtonWithMenuPrivate;

#define ELEMENTARY_WIDGETS_TYPE_APP_MENU (elementary_widgets_app_menu_get_type ())
#define ELEMENTARY_WIDGETS_APP_MENU(obj) (G_TYPE_CHECK_INSTANCE_CAST ((obj), ELEMENTARY_WIDGETS_TYPE_APP_MENU, ElementaryWidgetsAppMenu))
#define ELEMENTARY_WIDGETS_APP_MENU_CLASS(klass) (G_TYPE_CHECK_CLASS_CAST ((klass), ELEMENTARY_WIDGETS_TYPE_APP_MENU, ElementaryWidgetsAppMenuClass))
#define ELEMENTARY_WIDGETS_IS_APP_MENU(obj) (G_TYPE_CHECK_INSTANCE_TYPE ((obj), ELEMENTARY_WIDGETS_TYPE_APP_MENU))
#define ELEMENTARY_WIDGETS_IS_APP_MENU_CLASS(klass) (G_TYPE_CHECK_CLASS_TYPE ((klass), ELEMENTARY_WIDGETS_TYPE_APP_MENU))
#define ELEMENTARY_WIDGETS_APP_MENU_GET_CLASS(obj) (G_TYPE_INSTANCE_GET_CLASS ((obj), ELEMENTARY_WIDGETS_TYPE_APP_MENU, ElementaryWidgetsAppMenuClass))

typedef struct _ElementaryWidgetsAppMenu ElementaryWidgetsAppMenu;
typedef struct _ElementaryWidgetsAppMenuClass ElementaryWidgetsAppMenuClass;
typedef struct _ElementaryWidgetsAppMenuPrivate ElementaryWidgetsAppMenuPrivate;
#define _g_object_unref0(var) ((var == NULL) ? NULL : (var = (g_object_unref (var), NULL)))

struct _ToolButtonWithMenu {
	GtkToggleToolButton parent_instance;
	ToolButtonWithMenuPrivate * priv;
	GtkMenu* menu;
};

struct _ToolButtonWithMenuClass {
	GtkToggleToolButtonClass parent_class;
};

struct _ElementaryWidgetsAppMenu {
	ToolButtonWithMenu parent_instance;
	ElementaryWidgetsAppMenuPrivate * priv;
};

struct _ElementaryWidgetsAppMenuClass {
	ToolButtonWithMenuClass parent_class;
};


static gpointer elementary_widgets_app_menu_parent_class = NULL;

GType tool_button_with_menu_get_type (void) G_GNUC_CONST;
GType elementary_widgets_app_menu_get_type (void) G_GNUC_CONST;
enum  {
	ELEMENTARY_WIDGETS_APP_MENU_DUMMY_PROPERTY
};
ElementaryWidgetsAppMenu* elementary_widgets_app_menu_new_from_stock (const gchar* stock_image, GtkIconSize size, const gchar* label, GtkMenu* menu);
ElementaryWidgetsAppMenu* elementary_widgets_app_menu_construct_from_stock (GType object_type, const gchar* stock_image, GtkIconSize size, const gchar* label, GtkMenu* menu);
ElementaryWidgetsAppMenu* elementary_widgets_app_menu_new (GtkImage* image, const gchar* label, GtkMenu* menu);
ElementaryWidgetsAppMenu* elementary_widgets_app_menu_construct (GType object_type, GtkImage* image, const gchar* label, GtkMenu* menu);
ToolButtonWithMenu* tool_button_with_menu_construct (GType object_type, GtkImage* image, const gchar* label, GtkMenu* _menu, GtkPositionType menu_orientation);
static void elementary_widgets_app_menu_on_clicked (ElementaryWidgetsAppMenu* self);
static void _elementary_widgets_app_menu_on_clicked_gtk_tool_button_clicked (GtkToolButton* _sender, gpointer self);
void tool_button_with_menu_popup_menu (ToolButtonWithMenu* self, GdkEventButton* ev);


ElementaryWidgetsAppMenu* elementary_widgets_app_menu_construct_from_stock (GType object_type, const gchar* stock_image, GtkIconSize size, const gchar* label, GtkMenu* menu) {
	ElementaryWidgetsAppMenu * self = NULL;
	GtkImage* _tmp0_ = NULL;
	GtkImage* image;
	g_return_val_if_fail (stock_image != NULL, NULL);
	g_return_val_if_fail (label != NULL, NULL);
	g_return_val_if_fail (menu != NULL, NULL);
	_tmp0_ = (GtkImage*) gtk_image_new_from_stock (stock_image, size);
	image = g_object_ref_sink (_tmp0_);
	self = (ElementaryWidgetsAppMenu*) elementary_widgets_app_menu_construct (object_type, image, label, menu);
	_g_object_unref0 (image);
	return self;
}


ElementaryWidgetsAppMenu* elementary_widgets_app_menu_new_from_stock (const gchar* stock_image, GtkIconSize size, const gchar* label, GtkMenu* menu) {
	return elementary_widgets_app_menu_construct_from_stock (ELEMENTARY_WIDGETS_TYPE_APP_MENU, stock_image, size, label, menu);
}


static void _elementary_widgets_app_menu_on_clicked_gtk_tool_button_clicked (GtkToolButton* _sender, gpointer self) {
	elementary_widgets_app_menu_on_clicked (self);
}


ElementaryWidgetsAppMenu* elementary_widgets_app_menu_construct (GType object_type, GtkImage* image, const gchar* label, GtkMenu* menu) {
	ElementaryWidgetsAppMenu * self = NULL;
	g_return_val_if_fail (image != NULL, NULL);
	g_return_val_if_fail (label != NULL, NULL);
	g_return_val_if_fail (menu != NULL, NULL);
	self = (ElementaryWidgetsAppMenu*) tool_button_with_menu_construct (object_type, image, label, menu, GTK_POS_LEFT);
	g_signal_connect_object ((GtkToolButton*) self, "clicked", (GCallback) _elementary_widgets_app_menu_on_clicked_gtk_tool_button_clicked, self, 0);
	return self;
}


ElementaryWidgetsAppMenu* elementary_widgets_app_menu_new (GtkImage* image, const gchar* label, GtkMenu* menu) {
	return elementary_widgets_app_menu_construct (ELEMENTARY_WIDGETS_TYPE_APP_MENU, image, label, menu);
}


static void elementary_widgets_app_menu_on_clicked (ElementaryWidgetsAppMenu* self) {
	g_return_if_fail (self != NULL);
	gtk_menu_shell_select_first ((GtkMenuShell*) ((ToolButtonWithMenu*) self)->menu, TRUE);
	tool_button_with_menu_popup_menu ((ToolButtonWithMenu*) self, NULL);
}


static void elementary_widgets_app_menu_class_init (ElementaryWidgetsAppMenuClass * klass) {
	elementary_widgets_app_menu_parent_class = g_type_class_peek_parent (klass);
}


static void elementary_widgets_app_menu_instance_init (ElementaryWidgetsAppMenu * self) {
}


GType elementary_widgets_app_menu_get_type (void) {
	static volatile gsize elementary_widgets_app_menu_type_id__volatile = 0;
	if (g_once_init_enter (&elementary_widgets_app_menu_type_id__volatile)) {
		static const GTypeInfo g_define_type_info = { sizeof (ElementaryWidgetsAppMenuClass), (GBaseInitFunc) NULL, (GBaseFinalizeFunc) NULL, (GClassInitFunc) elementary_widgets_app_menu_class_init, (GClassFinalizeFunc) NULL, NULL, sizeof (ElementaryWidgetsAppMenu), 0, (GInstanceInitFunc) elementary_widgets_app_menu_instance_init, NULL };
		GType elementary_widgets_app_menu_type_id;
		elementary_widgets_app_menu_type_id = g_type_register_static (TYPE_TOOL_BUTTON_WITH_MENU, "ElementaryWidgetsAppMenu", &g_define_type_info, 0);
		g_once_init_leave (&elementary_widgets_app_menu_type_id__volatile, elementary_widgets_app_menu_type_id);
	}
	return elementary_widgets_app_menu_type_id__volatile;
}



