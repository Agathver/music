/* SideTreeView.c generated by valac 0.11.7, the Vala compiler
 * generated from SideTreeView.vala, do not modify */


#include <glib.h>
#include <glib-object.h>
#include <gtk/gtk.h>
#include <gdk/gdk.h>
#include <stdlib.h>
#include <string.h>
#include <gdk-pixbuf/gdk-pixdata.h>
#include <float.h>
#include <math.h>
#include <stdio.h>
#include <gee.h>
#include <gio/gio.h>


#define BEAT_BOX_TYPE_SIDE_TREE_VIEW (beat_box_side_tree_view_get_type ())
#define BEAT_BOX_SIDE_TREE_VIEW(obj) (G_TYPE_CHECK_INSTANCE_CAST ((obj), BEAT_BOX_TYPE_SIDE_TREE_VIEW, BeatBoxSideTreeView))
#define BEAT_BOX_SIDE_TREE_VIEW_CLASS(klass) (G_TYPE_CHECK_CLASS_CAST ((klass), BEAT_BOX_TYPE_SIDE_TREE_VIEW, BeatBoxSideTreeViewClass))
#define BEAT_BOX_IS_SIDE_TREE_VIEW(obj) (G_TYPE_CHECK_INSTANCE_TYPE ((obj), BEAT_BOX_TYPE_SIDE_TREE_VIEW))
#define BEAT_BOX_IS_SIDE_TREE_VIEW_CLASS(klass) (G_TYPE_CHECK_CLASS_TYPE ((klass), BEAT_BOX_TYPE_SIDE_TREE_VIEW))
#define BEAT_BOX_SIDE_TREE_VIEW_GET_CLASS(obj) (G_TYPE_INSTANCE_GET_CLASS ((obj), BEAT_BOX_TYPE_SIDE_TREE_VIEW, BeatBoxSideTreeViewClass))

typedef struct _BeatBoxSideTreeView BeatBoxSideTreeView;
typedef struct _BeatBoxSideTreeViewClass BeatBoxSideTreeViewClass;
typedef struct _BeatBoxSideTreeViewPrivate BeatBoxSideTreeViewPrivate;

#define BEAT_BOX_TYPE_SMART_PLAYLIST (beat_box_smart_playlist_get_type ())
#define BEAT_BOX_SMART_PLAYLIST(obj) (G_TYPE_CHECK_INSTANCE_CAST ((obj), BEAT_BOX_TYPE_SMART_PLAYLIST, BeatBoxSmartPlaylist))
#define BEAT_BOX_SMART_PLAYLIST_CLASS(klass) (G_TYPE_CHECK_CLASS_CAST ((klass), BEAT_BOX_TYPE_SMART_PLAYLIST, BeatBoxSmartPlaylistClass))
#define BEAT_BOX_IS_SMART_PLAYLIST(obj) (G_TYPE_CHECK_INSTANCE_TYPE ((obj), BEAT_BOX_TYPE_SMART_PLAYLIST))
#define BEAT_BOX_IS_SMART_PLAYLIST_CLASS(klass) (G_TYPE_CHECK_CLASS_TYPE ((klass), BEAT_BOX_TYPE_SMART_PLAYLIST))
#define BEAT_BOX_SMART_PLAYLIST_GET_CLASS(obj) (G_TYPE_INSTANCE_GET_CLASS ((obj), BEAT_BOX_TYPE_SMART_PLAYLIST, BeatBoxSmartPlaylistClass))

typedef struct _BeatBoxSmartPlaylist BeatBoxSmartPlaylist;
typedef struct _BeatBoxSmartPlaylistClass BeatBoxSmartPlaylistClass;

#define BEAT_BOX_TYPE_PLAYLIST (beat_box_playlist_get_type ())
#define BEAT_BOX_PLAYLIST(obj) (G_TYPE_CHECK_INSTANCE_CAST ((obj), BEAT_BOX_TYPE_PLAYLIST, BeatBoxPlaylist))
#define BEAT_BOX_PLAYLIST_CLASS(klass) (G_TYPE_CHECK_CLASS_CAST ((klass), BEAT_BOX_TYPE_PLAYLIST, BeatBoxPlaylistClass))
#define BEAT_BOX_IS_PLAYLIST(obj) (G_TYPE_CHECK_INSTANCE_TYPE ((obj), BEAT_BOX_TYPE_PLAYLIST))
#define BEAT_BOX_IS_PLAYLIST_CLASS(klass) (G_TYPE_CHECK_CLASS_TYPE ((klass), BEAT_BOX_TYPE_PLAYLIST))
#define BEAT_BOX_PLAYLIST_GET_CLASS(obj) (G_TYPE_INSTANCE_GET_CLASS ((obj), BEAT_BOX_TYPE_PLAYLIST, BeatBoxPlaylistClass))

typedef struct _BeatBoxPlaylist BeatBoxPlaylist;
typedef struct _BeatBoxPlaylistClass BeatBoxPlaylistClass;

#define BEAT_BOX_TYPE_LIBRARY_MANAGER (beat_box_library_manager_get_type ())
#define BEAT_BOX_LIBRARY_MANAGER(obj) (G_TYPE_CHECK_INSTANCE_CAST ((obj), BEAT_BOX_TYPE_LIBRARY_MANAGER, BeatBoxLibraryManager))
#define BEAT_BOX_LIBRARY_MANAGER_CLASS(klass) (G_TYPE_CHECK_CLASS_CAST ((klass), BEAT_BOX_TYPE_LIBRARY_MANAGER, BeatBoxLibraryManagerClass))
#define BEAT_BOX_IS_LIBRARY_MANAGER(obj) (G_TYPE_CHECK_INSTANCE_TYPE ((obj), BEAT_BOX_TYPE_LIBRARY_MANAGER))
#define BEAT_BOX_IS_LIBRARY_MANAGER_CLASS(klass) (G_TYPE_CHECK_CLASS_TYPE ((klass), BEAT_BOX_TYPE_LIBRARY_MANAGER))
#define BEAT_BOX_LIBRARY_MANAGER_GET_CLASS(obj) (G_TYPE_INSTANCE_GET_CLASS ((obj), BEAT_BOX_TYPE_LIBRARY_MANAGER, BeatBoxLibraryManagerClass))

typedef struct _BeatBoxLibraryManager BeatBoxLibraryManager;
typedef struct _BeatBoxLibraryManagerClass BeatBoxLibraryManagerClass;

#define BEAT_BOX_TYPE_LIBRARY_WINDOW (beat_box_library_window_get_type ())
#define BEAT_BOX_LIBRARY_WINDOW(obj) (G_TYPE_CHECK_INSTANCE_CAST ((obj), BEAT_BOX_TYPE_LIBRARY_WINDOW, BeatBoxLibraryWindow))
#define BEAT_BOX_LIBRARY_WINDOW_CLASS(klass) (G_TYPE_CHECK_CLASS_CAST ((klass), BEAT_BOX_TYPE_LIBRARY_WINDOW, BeatBoxLibraryWindowClass))
#define BEAT_BOX_IS_LIBRARY_WINDOW(obj) (G_TYPE_CHECK_INSTANCE_TYPE ((obj), BEAT_BOX_TYPE_LIBRARY_WINDOW))
#define BEAT_BOX_IS_LIBRARY_WINDOW_CLASS(klass) (G_TYPE_CHECK_CLASS_TYPE ((klass), BEAT_BOX_TYPE_LIBRARY_WINDOW))
#define BEAT_BOX_LIBRARY_WINDOW_GET_CLASS(obj) (G_TYPE_INSTANCE_GET_CLASS ((obj), BEAT_BOX_TYPE_LIBRARY_WINDOW, BeatBoxLibraryWindowClass))

typedef struct _BeatBoxLibraryWindow BeatBoxLibraryWindow;
typedef struct _BeatBoxLibraryWindowClass BeatBoxLibraryWindowClass;
#define _g_object_unref0(var) ((var == NULL) ? NULL : (var = (g_object_unref (var), NULL)))
#define _g_list_free0(var) ((var == NULL) ? NULL : (var = (g_list_free (var), NULL)))
#define _g_free0(var) (var = (g_free (var), NULL))
#define _gtk_tree_path_free0(var) ((var == NULL) ? NULL : (var = (gtk_tree_path_free (var), NULL)))

#define BEAT_BOX_TYPE_MUSIC_TREE_VIEW (beat_box_music_tree_view_get_type ())
#define BEAT_BOX_MUSIC_TREE_VIEW(obj) (G_TYPE_CHECK_INSTANCE_CAST ((obj), BEAT_BOX_TYPE_MUSIC_TREE_VIEW, BeatBoxMusicTreeView))
#define BEAT_BOX_MUSIC_TREE_VIEW_CLASS(klass) (G_TYPE_CHECK_CLASS_CAST ((klass), BEAT_BOX_TYPE_MUSIC_TREE_VIEW, BeatBoxMusicTreeViewClass))
#define BEAT_BOX_IS_MUSIC_TREE_VIEW(obj) (G_TYPE_CHECK_INSTANCE_TYPE ((obj), BEAT_BOX_TYPE_MUSIC_TREE_VIEW))
#define BEAT_BOX_IS_MUSIC_TREE_VIEW_CLASS(klass) (G_TYPE_CHECK_CLASS_TYPE ((klass), BEAT_BOX_TYPE_MUSIC_TREE_VIEW))
#define BEAT_BOX_MUSIC_TREE_VIEW_GET_CLASS(obj) (G_TYPE_INSTANCE_GET_CLASS ((obj), BEAT_BOX_TYPE_MUSIC_TREE_VIEW, BeatBoxMusicTreeViewClass))

typedef struct _BeatBoxMusicTreeView BeatBoxMusicTreeView;
typedef struct _BeatBoxMusicTreeViewClass BeatBoxMusicTreeViewClass;

#define BEAT_BOX_TYPE_SONG (beat_box_song_get_type ())
#define BEAT_BOX_SONG(obj) (G_TYPE_CHECK_INSTANCE_CAST ((obj), BEAT_BOX_TYPE_SONG, BeatBoxSong))
#define BEAT_BOX_SONG_CLASS(klass) (G_TYPE_CHECK_CLASS_CAST ((klass), BEAT_BOX_TYPE_SONG, BeatBoxSongClass))
#define BEAT_BOX_IS_SONG(obj) (G_TYPE_CHECK_INSTANCE_TYPE ((obj), BEAT_BOX_TYPE_SONG))
#define BEAT_BOX_IS_SONG_CLASS(klass) (G_TYPE_CHECK_CLASS_TYPE ((klass), BEAT_BOX_TYPE_SONG))
#define BEAT_BOX_SONG_GET_CLASS(obj) (G_TYPE_INSTANCE_GET_CLASS ((obj), BEAT_BOX_TYPE_SONG, BeatBoxSongClass))

typedef struct _BeatBoxSong BeatBoxSong;
typedef struct _BeatBoxSongClass BeatBoxSongClass;

#define BEAT_BOX_TYPE_SIMILAR_PANE (beat_box_similar_pane_get_type ())
#define BEAT_BOX_SIMILAR_PANE(obj) (G_TYPE_CHECK_INSTANCE_CAST ((obj), BEAT_BOX_TYPE_SIMILAR_PANE, BeatBoxSimilarPane))
#define BEAT_BOX_SIMILAR_PANE_CLASS(klass) (G_TYPE_CHECK_CLASS_CAST ((klass), BEAT_BOX_TYPE_SIMILAR_PANE, BeatBoxSimilarPaneClass))
#define BEAT_BOX_IS_SIMILAR_PANE(obj) (G_TYPE_CHECK_INSTANCE_TYPE ((obj), BEAT_BOX_TYPE_SIMILAR_PANE))
#define BEAT_BOX_IS_SIMILAR_PANE_CLASS(klass) (G_TYPE_CHECK_CLASS_TYPE ((klass), BEAT_BOX_TYPE_SIMILAR_PANE))
#define BEAT_BOX_SIMILAR_PANE_GET_CLASS(obj) (G_TYPE_INSTANCE_GET_CLASS ((obj), BEAT_BOX_TYPE_SIMILAR_PANE, BeatBoxSimilarPaneClass))

typedef struct _BeatBoxSimilarPane BeatBoxSimilarPane;
typedef struct _BeatBoxSimilarPaneClass BeatBoxSimilarPaneClass;
typedef struct _BeatBoxSimilarPanePrivate BeatBoxSimilarPanePrivate;
typedef struct _BeatBoxMusicTreeViewPrivate BeatBoxMusicTreeViewPrivate;

#define BEAT_BOX_MUSIC_TREE_VIEW_TYPE_HINT (beat_box_music_tree_view_hint_get_type ())

#define BEAT_BOX_TYPE_SMART_PLAYLIST_EDITOR (beat_box_smart_playlist_editor_get_type ())
#define BEAT_BOX_SMART_PLAYLIST_EDITOR(obj) (G_TYPE_CHECK_INSTANCE_CAST ((obj), BEAT_BOX_TYPE_SMART_PLAYLIST_EDITOR, BeatBoxSmartPlaylistEditor))
#define BEAT_BOX_SMART_PLAYLIST_EDITOR_CLASS(klass) (G_TYPE_CHECK_CLASS_CAST ((klass), BEAT_BOX_TYPE_SMART_PLAYLIST_EDITOR, BeatBoxSmartPlaylistEditorClass))
#define BEAT_BOX_IS_SMART_PLAYLIST_EDITOR(obj) (G_TYPE_CHECK_INSTANCE_TYPE ((obj), BEAT_BOX_TYPE_SMART_PLAYLIST_EDITOR))
#define BEAT_BOX_IS_SMART_PLAYLIST_EDITOR_CLASS(klass) (G_TYPE_CHECK_CLASS_TYPE ((klass), BEAT_BOX_TYPE_SMART_PLAYLIST_EDITOR))
#define BEAT_BOX_SMART_PLAYLIST_EDITOR_GET_CLASS(obj) (G_TYPE_INSTANCE_GET_CLASS ((obj), BEAT_BOX_TYPE_SMART_PLAYLIST_EDITOR, BeatBoxSmartPlaylistEditorClass))

typedef struct _BeatBoxSmartPlaylistEditor BeatBoxSmartPlaylistEditor;
typedef struct _BeatBoxSmartPlaylistEditorClass BeatBoxSmartPlaylistEditorClass;

#define BEAT_BOX_TYPE_PLAYLIST_NAME_WINDOW (beat_box_playlist_name_window_get_type ())
#define BEAT_BOX_PLAYLIST_NAME_WINDOW(obj) (G_TYPE_CHECK_INSTANCE_CAST ((obj), BEAT_BOX_TYPE_PLAYLIST_NAME_WINDOW, BeatBoxPlaylistNameWindow))
#define BEAT_BOX_PLAYLIST_NAME_WINDOW_CLASS(klass) (G_TYPE_CHECK_CLASS_CAST ((klass), BEAT_BOX_TYPE_PLAYLIST_NAME_WINDOW, BeatBoxPlaylistNameWindowClass))
#define BEAT_BOX_IS_PLAYLIST_NAME_WINDOW(obj) (G_TYPE_CHECK_INSTANCE_TYPE ((obj), BEAT_BOX_TYPE_PLAYLIST_NAME_WINDOW))
#define BEAT_BOX_IS_PLAYLIST_NAME_WINDOW_CLASS(klass) (G_TYPE_CHECK_CLASS_TYPE ((klass), BEAT_BOX_TYPE_PLAYLIST_NAME_WINDOW))
#define BEAT_BOX_PLAYLIST_NAME_WINDOW_GET_CLASS(obj) (G_TYPE_INSTANCE_GET_CLASS ((obj), BEAT_BOX_TYPE_PLAYLIST_NAME_WINDOW, BeatBoxPlaylistNameWindowClass))

typedef struct _BeatBoxPlaylistNameWindow BeatBoxPlaylistNameWindow;
typedef struct _BeatBoxPlaylistNameWindowClass BeatBoxPlaylistNameWindowClass;

struct _BeatBoxSideTreeView {
	GtkTreeView parent_instance;
	BeatBoxSideTreeViewPrivate * priv;
	GtkTreeIter library_iter;
	GtkTreeIter library_music_iter;
	GtkTreeIter library_podcasts_iter;
	GtkTreeIter library_audiobooks_iter;
	GtkTreeIter devices_iter;
	GtkTreeIter network_iter;
	GtkTreeIter playlists_iter;
	GtkTreeIter playlists_queue_iter;
	GtkTreeIter playlists_history_iter;
	GtkTreeIter playlists_similar_iter;
};

struct _BeatBoxSideTreeViewClass {
	GtkTreeViewClass parent_class;
	void (*sideListSelectionChange) (BeatBoxSideTreeView* self);
	gboolean (*sideListClick) (BeatBoxSideTreeView* self, GdkEventButton* event);
	void (*smartPlaylistMenuNewClicked) (BeatBoxSideTreeView* self);
	void (*smartPlaylistEditorSaved) (BeatBoxSideTreeView* self, BeatBoxSmartPlaylist* sp);
	void (*playlistMenuNewClicked) (BeatBoxSideTreeView* self);
	void (*playlistNameWindowSaved) (BeatBoxSideTreeView* self, BeatBoxPlaylist* p);
	void (*playlistMenuEditClicked) (BeatBoxSideTreeView* self);
	void (*playlistMenuRemoveClicked) (BeatBoxSideTreeView* self);
	void (*dragReceived) (BeatBoxSideTreeView* self, GdkDragContext* context, gint x, gint y, GtkSelectionData* data, guint info, guint timestamp);
};

struct _BeatBoxSideTreeViewPrivate {
	BeatBoxLibraryManager* lm;
	BeatBoxLibraryWindow* lw;
	GtkTreeStore* sideTreeModel;
	GtkMenu* playlistMenu;
	GtkMenuItem* playlistNew;
	GtkMenuItem* smartPlaylistNew;
	GtkMenuItem* playlistEdit;
	GtkMenuItem* playlistRemove;
	GtkWidget* current_widget;
};

struct _BeatBoxSimilarPane {
	GtkVBox parent_instance;
	BeatBoxSimilarPanePrivate * priv;
	BeatBoxSong* _base;
	GeeLinkedList* _have;
};

struct _BeatBoxSimilarPaneClass {
	GtkVBoxClass parent_class;
	void (*refreshClicked) (BeatBoxSimilarPane* self);
	void (*transferPlaybackClicked) (BeatBoxSimilarPane* self);
	void (*saveClicked) (BeatBoxSimilarPane* self);
};

typedef enum  {
	BEAT_BOX_MUSIC_TREE_VIEW_HINT_MUSIC,
	BEAT_BOX_MUSIC_TREE_VIEW_HINT_SIMILAR,
	BEAT_BOX_MUSIC_TREE_VIEW_HINT_QUEUE,
	BEAT_BOX_MUSIC_TREE_VIEW_HINT_HISTORY,
	BEAT_BOX_MUSIC_TREE_VIEW_HINT_PLAYLIST,
	BEAT_BOX_MUSIC_TREE_VIEW_HINT_SMART_PLAYLIST
} BeatBoxMusicTreeViewHint;

struct _BeatBoxMusicTreeView {
	GtkScrolledWindow parent_instance;
	BeatBoxMusicTreeViewPrivate * priv;
	gint relative_id;
	BeatBoxMusicTreeViewHint hint;
	gboolean removing_songs;
	gboolean is_current_view;
	gboolean is_current;
	gboolean dragging;
};

struct _BeatBoxMusicTreeViewClass {
	GtkScrolledWindowClass parent_class;
	void (*searchFieldChanged) (BeatBoxMusicTreeView* self);
	void (*sortColumnChanged) (BeatBoxMusicTreeView* self);
	void (*modelRowsReordered) (BeatBoxMusicTreeView* self, GtkTreePath* path, GtkTreeIter* iter, void* new_order);
	void (*viewColumnsChanged) (BeatBoxMusicTreeView* self);
	void (*current_cleared) (BeatBoxMusicTreeView* self);
	void (*song_played) (BeatBoxMusicTreeView* self, gint id, gint old);
	void (*songs_updated) (BeatBoxMusicTreeView* self, GeeCollection* ids);
	void (*songs_removed) (BeatBoxMusicTreeView* self, GeeLinkedList* ids);
	void (*viewDoubleClick) (BeatBoxMusicTreeView* self, GtkTreePath* path, GtkTreeViewColumn* column);
	gboolean (*viewClick) (BeatBoxMusicTreeView* self, GdkEventButton* event);
	void (*viewHeadersResized) (BeatBoxMusicTreeView* self);
	void (*columnSmartSortingClick) (BeatBoxMusicTreeView* self);
	void (*columnMenuToggled) (BeatBoxMusicTreeView* self);
	void (*songMenuEditClicked) (BeatBoxMusicTreeView* self);
	void (*songEditorSaved) (BeatBoxMusicTreeView* self, GeeLinkedList* songs);
	void (*songFileBrowseClicked) (BeatBoxMusicTreeView* self);
	void (*songMenuQueueClicked) (BeatBoxMusicTreeView* self);
	void (*songMenuNewPlaylistClicked) (BeatBoxMusicTreeView* self);
	void (*songRemoveClicked) (BeatBoxMusicTreeView* self);
	void (*songRateSong0Clicked) (BeatBoxMusicTreeView* self);
	void (*songRateSong1Clicked) (BeatBoxMusicTreeView* self);
	void (*songRateSong2Clicked) (BeatBoxMusicTreeView* self);
	void (*songRateSong3Clicked) (BeatBoxMusicTreeView* self);
	void (*songRateSong4Clicked) (BeatBoxMusicTreeView* self);
	void (*songRateSong5Clicked) (BeatBoxMusicTreeView* self);
	void (*viewScroll) (BeatBoxMusicTreeView* self);
	void (*onDragBegin) (BeatBoxMusicTreeView* self, GtkWidget* sender, GdkDragContext* context);
	void (*onDragDataGet) (BeatBoxMusicTreeView* self, GdkDragContext* context, GtkSelectionData* selection_data, guint info, guint time_);
	void (*onDragEnd) (BeatBoxMusicTreeView* self, GtkWidget* sender, GdkDragContext* context);
};


static gpointer beat_box_side_tree_view_parent_class = NULL;

GType beat_box_side_tree_view_get_type (void) G_GNUC_CONST;
GType beat_box_smart_playlist_get_type (void) G_GNUC_CONST;
GType beat_box_playlist_get_type (void) G_GNUC_CONST;
GType beat_box_library_manager_get_type (void) G_GNUC_CONST;
GType beat_box_library_window_get_type (void) G_GNUC_CONST;
#define BEAT_BOX_SIDE_TREE_VIEW_GET_PRIVATE(o) (G_TYPE_INSTANCE_GET_PRIVATE ((o), BEAT_BOX_TYPE_SIDE_TREE_VIEW, BeatBoxSideTreeViewPrivate))
enum  {
	BEAT_BOX_SIDE_TREE_VIEW_DUMMY_PROPERTY
};
BeatBoxSideTreeView* beat_box_side_tree_view_new (BeatBoxLibraryManager* lmm, BeatBoxLibraryWindow* lww);
BeatBoxSideTreeView* beat_box_side_tree_view_construct (GType object_type, BeatBoxLibraryManager* lmm, BeatBoxLibraryWindow* lww);
void beat_box_side_tree_view_buildUI (BeatBoxSideTreeView* self);
void beat_box_side_tree_view_smartPixTextColumnData (BeatBoxSideTreeView* self, GtkTreeViewColumn* tree_column, GtkCellRenderer* cell, GtkTreeModel* tree_model, GtkTreeIter* iter);
static void _beat_box_side_tree_view_smartPixTextColumnData_gtk_tree_cell_data_func (GtkTreeViewColumn* tree_column, GtkCellRenderer* cell, GtkTreeModel* tree_model, GtkTreeIter* iter, gpointer self);
gboolean beat_box_side_tree_view_sideListClick (BeatBoxSideTreeView* self, GdkEventButton* event);
static gboolean _beat_box_side_tree_view_sideListClick_gtk_widget_button_press_event (GtkWidget* _sender, GdkEventButton* event, gpointer self);
void beat_box_side_tree_view_sideListSelectionChange (BeatBoxSideTreeView* self);
static void _beat_box_side_tree_view_sideListSelectionChange_gtk_tree_selection_changed (GtkTreeSelection* _sender, gpointer self);
void beat_box_side_tree_view_playlistMenuNewClicked (BeatBoxSideTreeView* self);
static void _beat_box_side_tree_view_playlistMenuNewClicked_gtk_menu_item_activate (GtkMenuItem* _sender, gpointer self);
void beat_box_side_tree_view_smartPlaylistMenuNewClicked (BeatBoxSideTreeView* self);
static void _beat_box_side_tree_view_smartPlaylistMenuNewClicked_gtk_menu_item_activate (GtkMenuItem* _sender, gpointer self);
void beat_box_side_tree_view_playlistMenuEditClicked (BeatBoxSideTreeView* self);
static void _beat_box_side_tree_view_playlistMenuEditClicked_gtk_menu_item_activate (GtkMenuItem* _sender, gpointer self);
void beat_box_side_tree_view_playlistMenuRemoveClicked (BeatBoxSideTreeView* self);
static void _beat_box_side_tree_view_playlistMenuRemoveClicked_gtk_menu_item_activate (GtkMenuItem* _sender, gpointer self);
void beat_box_side_tree_view_dragReceived (BeatBoxSideTreeView* self, GdkDragContext* context, gint x, gint y, GtkSelectionData* data, guint info, guint timestamp);
static void _beat_box_side_tree_view_dragReceived_gtk_widget_drag_data_received (GtkWidget* _sender, GdkDragContext* context, gint x, gint y, GtkSelectionData* selection_data, guint info, guint time_, gpointer self);
static gboolean _gtk_tree_iter_equal (const GtkTreeIter* s1, const GtkTreeIter* s2);
static GdkPixbuf* beat_box_side_tree_view_get_pixbuf_from_stock (BeatBoxSideTreeView* self, const gchar* stock_id, GtkIconSize size);
void beat_box_side_tree_view_addBasicItems (BeatBoxSideTreeView* self);
GtkTreeIter* beat_box_side_tree_view_addItem (BeatBoxSideTreeView* self, GtkTreeIter* parent, GObject* o, GtkWidget* w, const gchar* name);
static GtkTreeIter* _gtk_tree_iter_dup (GtkTreeIter* self);
GtkWidget* beat_box_side_tree_view_getSelectedWidget (BeatBoxSideTreeView* self);
GtkWidget* beat_box_side_tree_view_getWidget (BeatBoxSideTreeView* self, GtkTreeIter* iter);
GtkWidget* beat_box_side_tree_view_get_current_widget (BeatBoxSideTreeView* self);
void beat_box_side_tree_view_updatePlayQueue (BeatBoxSideTreeView* self);
GType beat_box_music_tree_view_get_type (void) G_GNUC_CONST;
void beat_box_music_tree_view_populateView (BeatBoxMusicTreeView* self, GeeCollection* songs, gboolean is_search);
GeeCollection* beat_box_library_manager_queue (BeatBoxLibraryManager* self);
void beat_box_side_tree_view_updateAlreadyPlayed (BeatBoxSideTreeView* self);
GeeLinkedList* beat_box_library_manager_already_played (BeatBoxLibraryManager* self);
static void beat_box_side_tree_view_real_sideListSelectionChange (BeatBoxSideTreeView* self);
gboolean beat_box_side_tree_view_updateView (BeatBoxSideTreeView* self, GtkTreeModel* model, GtkTreePath* path, GtkTreeIter* item);
static gboolean _beat_box_side_tree_view_updateView_gtk_tree_model_foreach_func (GtkTreeModel* model, GtkTreePath* path, GtkTreeIter* iter, gpointer self);
GeeSet* beat_box_music_tree_view_get_songs (BeatBoxMusicTreeView* self);
GType beat_box_song_get_type (void) G_GNUC_CONST;
BeatBoxSong* beat_box_library_manager_song_from_id (BeatBoxLibraryManager* self, gint id);
gint beat_box_song_get_length (BeatBoxSong* self);
gint beat_box_song_get_file_size (BeatBoxSong* self);
void beat_box_library_window_setStatusBarText (BeatBoxLibraryWindow* self, const gchar* text);
static gboolean beat_box_side_tree_view_real_sideListClick (BeatBoxSideTreeView* self, GdkEventButton* event);
GType beat_box_similar_pane_get_type (void) G_GNUC_CONST;
GeeLinkedList* beat_box_library_manager_songs_from_smart_playlist (BeatBoxLibraryManager* self, gint id);
gint beat_box_smart_playlist_get_rowid (BeatBoxSmartPlaylist* self);
GeeLinkedList* beat_box_library_manager_songs_from_playlist (BeatBoxLibraryManager* self, gint id);
gint beat_box_playlist_get_rowid (BeatBoxPlaylist* self);
GType beat_box_music_tree_view_hint_get_type (void) G_GNUC_CONST;
void beat_box_side_tree_view_resetView (BeatBoxSideTreeView* self);
static void beat_box_side_tree_view_real_smartPlaylistMenuNewClicked (BeatBoxSideTreeView* self);
BeatBoxSmartPlaylist* beat_box_smart_playlist_new (void);
BeatBoxSmartPlaylist* beat_box_smart_playlist_construct (GType object_type);
BeatBoxSmartPlaylistEditor* beat_box_smart_playlist_editor_new (BeatBoxLibraryWindow* lw, BeatBoxSmartPlaylist* sp);
BeatBoxSmartPlaylistEditor* beat_box_smart_playlist_editor_construct (GType object_type, BeatBoxLibraryWindow* lw, BeatBoxSmartPlaylist* sp);
GType beat_box_smart_playlist_editor_get_type (void) G_GNUC_CONST;
void beat_box_side_tree_view_smartPlaylistEditorSaved (BeatBoxSideTreeView* self, BeatBoxSmartPlaylist* sp);
static void _beat_box_side_tree_view_smartPlaylistEditorSaved_beat_box_smart_playlist_editor_playlist_saved (BeatBoxSmartPlaylistEditor* _sender, BeatBoxSmartPlaylist* sp, gpointer self);
static void beat_box_side_tree_view_real_smartPlaylistEditorSaved (BeatBoxSideTreeView* self, BeatBoxSmartPlaylist* sp);
const gchar* beat_box_smart_playlist_get_name (BeatBoxSmartPlaylist* self);
gint beat_box_library_manager_add_smart_playlist (BeatBoxLibraryManager* self, BeatBoxSmartPlaylist* p);
void beat_box_library_window_addSideListItem (BeatBoxLibraryWindow* self, GObject* o);
static void beat_box_side_tree_view_real_playlistMenuNewClicked (BeatBoxSideTreeView* self);
BeatBoxPlaylist* beat_box_playlist_new (void);
BeatBoxPlaylist* beat_box_playlist_construct (GType object_type);
BeatBoxPlaylistNameWindow* beat_box_playlist_name_window_new (BeatBoxLibraryWindow* lw, BeatBoxPlaylist* original);
BeatBoxPlaylistNameWindow* beat_box_playlist_name_window_construct (GType object_type, BeatBoxLibraryWindow* lw, BeatBoxPlaylist* original);
GType beat_box_playlist_name_window_get_type (void) G_GNUC_CONST;
void beat_box_side_tree_view_playlistNameWindowSaved (BeatBoxSideTreeView* self, BeatBoxPlaylist* p);
static void _beat_box_side_tree_view_playlistNameWindowSaved_beat_box_playlist_name_window_playlist_saved (BeatBoxPlaylistNameWindow* _sender, BeatBoxPlaylist* p, gpointer self);
static void beat_box_side_tree_view_real_playlistNameWindowSaved (BeatBoxSideTreeView* self, BeatBoxPlaylist* p);
const gchar* beat_box_playlist_get_name (BeatBoxPlaylist* self);
gint beat_box_library_manager_add_playlist (BeatBoxLibraryManager* self, BeatBoxPlaylist* p);
static void beat_box_side_tree_view_real_playlistMenuEditClicked (BeatBoxSideTreeView* self);
static void beat_box_side_tree_view_real_playlistMenuRemoveClicked (BeatBoxSideTreeView* self);
void beat_box_library_manager_remove_playlist (BeatBoxLibraryManager* self, gint id);
void beat_box_library_manager_remove_smart_playlist (BeatBoxLibraryManager* self, gint id);
static void beat_box_side_tree_view_real_dragReceived (BeatBoxSideTreeView* self, GdkDragContext* context, gint x, gint y, GtkSelectionData* data, guint info, guint timestamp);
BeatBoxSong* beat_box_library_manager_song_from_file (BeatBoxLibraryManager* self, const gchar* file);
void beat_box_library_manager_queue_song_by_id (BeatBoxLibraryManager* self, gint id);
gint beat_box_song_get_rowid (BeatBoxSong* self);
void beat_box_playlist_addSong (BeatBoxPlaylist* self, BeatBoxSong* s);
static void beat_box_side_tree_view_finalize (GObject* obj);
static void _vala_array_destroy (gpointer array, gint array_length, GDestroyNotify destroy_func);
static void _vala_array_free (gpointer array, gint array_length, GDestroyNotify destroy_func);
static gint _vala_array_length (gpointer array);


static gpointer _g_object_ref0 (gpointer self) {
	return self ? g_object_ref (self) : NULL;
}


BeatBoxSideTreeView* beat_box_side_tree_view_construct (GType object_type, BeatBoxLibraryManager* lmm, BeatBoxLibraryWindow* lww) {
	BeatBoxSideTreeView * self = NULL;
	BeatBoxLibraryManager* _tmp0_;
	BeatBoxLibraryWindow* _tmp1_;
	g_return_val_if_fail (lmm != NULL, NULL);
	g_return_val_if_fail (lww != NULL, NULL);
	self = (BeatBoxSideTreeView*) g_object_new (object_type, NULL);
	_tmp0_ = _g_object_ref0 (lmm);
	_g_object_unref0 (self->priv->lm);
	self->priv->lm = _tmp0_;
	_tmp1_ = _g_object_ref0 (lww);
	_g_object_unref0 (self->priv->lw);
	self->priv->lw = _tmp1_;
	beat_box_side_tree_view_buildUI (self);
	return self;
}


BeatBoxSideTreeView* beat_box_side_tree_view_new (BeatBoxLibraryManager* lmm, BeatBoxLibraryWindow* lww) {
	return beat_box_side_tree_view_construct (BEAT_BOX_TYPE_SIDE_TREE_VIEW, lmm, lww);
}


static void _beat_box_side_tree_view_smartPixTextColumnData_gtk_tree_cell_data_func (GtkTreeViewColumn* tree_column, GtkCellRenderer* cell, GtkTreeModel* tree_model, GtkTreeIter* iter, gpointer self) {
	beat_box_side_tree_view_smartPixTextColumnData (self, tree_column, cell, tree_model, iter);
}


static gboolean _beat_box_side_tree_view_sideListClick_gtk_widget_button_press_event (GtkWidget* _sender, GdkEventButton* event, gpointer self) {
	gboolean result;
	result = beat_box_side_tree_view_sideListClick (self, event);
	return result;
}


static void _beat_box_side_tree_view_sideListSelectionChange_gtk_tree_selection_changed (GtkTreeSelection* _sender, gpointer self) {
	beat_box_side_tree_view_sideListSelectionChange (self);
}


static void _beat_box_side_tree_view_playlistMenuNewClicked_gtk_menu_item_activate (GtkMenuItem* _sender, gpointer self) {
	beat_box_side_tree_view_playlistMenuNewClicked (self);
}


static void _beat_box_side_tree_view_smartPlaylistMenuNewClicked_gtk_menu_item_activate (GtkMenuItem* _sender, gpointer self) {
	beat_box_side_tree_view_smartPlaylistMenuNewClicked (self);
}


static void _beat_box_side_tree_view_playlistMenuEditClicked_gtk_menu_item_activate (GtkMenuItem* _sender, gpointer self) {
	beat_box_side_tree_view_playlistMenuEditClicked (self);
}


static void _beat_box_side_tree_view_playlistMenuRemoveClicked_gtk_menu_item_activate (GtkMenuItem* _sender, gpointer self) {
	beat_box_side_tree_view_playlistMenuRemoveClicked (self);
}


static void _beat_box_side_tree_view_dragReceived_gtk_widget_drag_data_received (GtkWidget* _sender, GdkDragContext* context, gint x, gint y, GtkSelectionData* selection_data, guint info, guint time_, gpointer self) {
	beat_box_side_tree_view_dragReceived (self, context, x, y, selection_data, info, time_);
}


void beat_box_side_tree_view_buildUI (BeatBoxSideTreeView* self) {
	GtkTreeStore* _tmp0_ = NULL;
	GtkTreeViewColumn* _tmp1_ = NULL;
	GtkTreeViewColumn* col;
	GtkTreeViewColumn* _tmp2_ = NULL;
	GtkCellRendererText* _tmp3_ = NULL;
	GtkCellRendererText* cell_renderer_text;
	GtkCellRendererPixbuf* _tmp4_ = NULL;
	GtkCellRendererPixbuf* cell_renderer_pixbuf;
	GtkTreeViewColumn* _tmp5_ = NULL;
	GtkTreeViewColumn* _tmp6_ = NULL;
	GtkTreeViewColumn* _tmp7_ = NULL;
	GtkTreeViewColumn* _tmp8_ = NULL;
	gint index;
	GList* _tmp9_ = NULL;
	GtkTreeSelection* _tmp12_ = NULL;
	GtkMenu* _tmp13_ = NULL;
	GtkMenuItem* _tmp14_ = NULL;
	GtkMenuItem* _tmp15_ = NULL;
	GtkMenuItem* _tmp16_ = NULL;
	GtkMenuItem* _tmp17_ = NULL;
	GtkTargetEntry* _tmp18_ = NULL;
	GtkTargetEntry* _tmp19_;
	gint _tmp19__length1;
	g_return_if_fail (self != NULL);
	_tmp0_ = gtk_tree_store_new (4, G_TYPE_OBJECT, GTK_TYPE_WIDGET, G_TYPE_STRING, G_TYPE_STRING);
	_g_object_unref0 (self->priv->sideTreeModel);
	self->priv->sideTreeModel = _tmp0_;
	gtk_tree_view_set_model ((GtkTreeView*) self, (GtkTreeModel*) self->priv->sideTreeModel);
	gtk_tree_view_set_headers_visible ((GtkTreeView*) self, FALSE);
	_tmp1_ = gtk_tree_view_column_new ();
	col = g_object_ref_sink (_tmp1_);
	gtk_tree_view_column_set_title (col, "object");
	gtk_tree_view_insert_column ((GtkTreeView*) self, col, 0);
	_tmp2_ = gtk_tree_view_column_new ();
	_g_object_unref0 (col);
	col = g_object_ref_sink (_tmp2_);
	gtk_tree_view_column_set_title (col, "widget");
	gtk_tree_view_insert_column ((GtkTreeView*) self, col, 1);
	_tmp3_ = (GtkCellRendererText*) gtk_cell_renderer_text_new ();
	cell_renderer_text = g_object_ref_sink (_tmp3_);
	_tmp4_ = (GtkCellRendererPixbuf*) gtk_cell_renderer_pixbuf_new ();
	cell_renderer_pixbuf = g_object_ref_sink (_tmp4_);
	gtk_tree_view_insert_column_with_data_func ((GtkTreeView*) self, -1, "title", (GtkCellRenderer*) cell_renderer_pixbuf, _beat_box_side_tree_view_smartPixTextColumnData_gtk_tree_cell_data_func, g_object_ref (self), g_object_unref);
	_tmp5_ = gtk_tree_view_get_column ((GtkTreeView*) self, 2);
	gtk_cell_layout_pack_end ((GtkCellLayout*) _tmp5_, (GtkCellRenderer*) cell_renderer_text, TRUE);
	_tmp6_ = gtk_tree_view_get_column ((GtkTreeView*) self, 2);
	gtk_tree_view_column_set_attributes (_tmp6_, (GtkCellRenderer*) cell_renderer_text, "markup", 2, NULL, NULL);
	_tmp7_ = gtk_tree_view_get_column ((GtkTreeView*) self, 2);
	gtk_tree_view_column_set_alignment (_tmp7_, 0.0f);
	g_object_set ((GtkCellRenderer*) cell_renderer_text, "xalign", 0.0f, NULL);
	_tmp8_ = gtk_tree_view_column_new ();
	_g_object_unref0 (col);
	col = g_object_ref_sink (_tmp8_);
	gtk_tree_view_column_set_title (col, "expander");
	gtk_tree_view_column_set_expand (col, TRUE);
	gtk_tree_view_insert_column ((GtkTreeView*) self, col, 3);
	gtk_tree_view_set_show_expanders ((GtkTreeView*) self, FALSE);
	index = 0;
	_tmp9_ = gtk_tree_view_get_columns ((GtkTreeView*) self);
	{
		GList* tvc_collection;
		GList* tvc_it;
		tvc_collection = _tmp9_;
		for (tvc_it = tvc_collection; tvc_it != NULL; tvc_it = tvc_it->next) {
			GtkTreeViewColumn* _tmp10_;
			GtkTreeViewColumn* tvc;
			_tmp10_ = _g_object_ref0 ((GtkTreeViewColumn*) tvc_it->data);
			tvc = _tmp10_;
			{
				gboolean _tmp11_ = FALSE;
				if (index == 0) {
					_tmp11_ = TRUE;
				} else {
					_tmp11_ = index == 1;
				}
				if (_tmp11_) {
					gtk_tree_view_column_set_visible (tvc, FALSE);
				}
				index = index + 1;
				_g_object_unref0 (tvc);
			}
		}
		_g_list_free0 (tvc_collection);
	}
	g_signal_connect_object ((GtkWidget*) self, "button-press-event", (GCallback) _beat_box_side_tree_view_sideListClick_gtk_widget_button_press_event, self, 0);
	_tmp12_ = gtk_tree_view_get_selection ((GtkTreeView*) self);
	g_signal_connect_object (_tmp12_, "changed", (GCallback) _beat_box_side_tree_view_sideListSelectionChange_gtk_tree_selection_changed, self, 0);
	gtk_tree_view_expand_all ((GtkTreeView*) self);
	_tmp13_ = (GtkMenu*) gtk_menu_new ();
	_g_object_unref0 (self->priv->playlistMenu);
	self->priv->playlistMenu = g_object_ref_sink (_tmp13_);
	_tmp14_ = (GtkMenuItem*) gtk_menu_item_new_with_label ("New Playlist");
	_g_object_unref0 (self->priv->playlistNew);
	self->priv->playlistNew = g_object_ref_sink (_tmp14_);
	_tmp15_ = (GtkMenuItem*) gtk_menu_item_new_with_label ("New Smart Playlist");
	_g_object_unref0 (self->priv->smartPlaylistNew);
	self->priv->smartPlaylistNew = g_object_ref_sink (_tmp15_);
	_tmp16_ = (GtkMenuItem*) gtk_menu_item_new_with_label ("Edit");
	_g_object_unref0 (self->priv->playlistEdit);
	self->priv->playlistEdit = g_object_ref_sink (_tmp16_);
	_tmp17_ = (GtkMenuItem*) gtk_menu_item_new_with_label ("Remove");
	_g_object_unref0 (self->priv->playlistRemove);
	self->priv->playlistRemove = g_object_ref_sink (_tmp17_);
	gtk_menu_shell_append ((GtkMenuShell*) self->priv->playlistMenu, (GtkWidget*) self->priv->playlistNew);
	gtk_menu_shell_append ((GtkMenuShell*) self->priv->playlistMenu, (GtkWidget*) self->priv->smartPlaylistNew);
	gtk_menu_shell_append ((GtkMenuShell*) self->priv->playlistMenu, (GtkWidget*) self->priv->playlistEdit);
	gtk_menu_shell_append ((GtkMenuShell*) self->priv->playlistMenu, (GtkWidget*) self->priv->playlistRemove);
	g_signal_connect_object (self->priv->playlistNew, "activate", (GCallback) _beat_box_side_tree_view_playlistMenuNewClicked_gtk_menu_item_activate, self, 0);
	g_signal_connect_object (self->priv->smartPlaylistNew, "activate", (GCallback) _beat_box_side_tree_view_smartPlaylistMenuNewClicked_gtk_menu_item_activate, self, 0);
	g_signal_connect_object (self->priv->playlistEdit, "activate", (GCallback) _beat_box_side_tree_view_playlistMenuEditClicked_gtk_menu_item_activate, self, 0);
	g_signal_connect_object (self->priv->playlistRemove, "activate", (GCallback) _beat_box_side_tree_view_playlistMenuRemoveClicked_gtk_menu_item_activate, self, 0);
	gtk_widget_show_all ((GtkWidget*) self->priv->playlistMenu);
	_tmp18_ = g_new0 (GtkTargetEntry, 0);
	_tmp19_ = _tmp18_;
	_tmp19__length1 = 0;
	gtk_drag_dest_set ((GtkWidget*) self, GTK_DEST_DEFAULT_ALL, _tmp19_, 0, GDK_ACTION_MOVE);
	_tmp19_ = (g_free (_tmp19_), NULL);
	gtk_drag_dest_add_uri_targets ((GtkWidget*) self);
	g_signal_connect_object ((GtkWidget*) self, "drag-data-received", (GCallback) _beat_box_side_tree_view_dragReceived_gtk_widget_drag_data_received, self, 0);
	gtk_widget_show_all ((GtkWidget*) self);
	_g_object_unref0 (cell_renderer_pixbuf);
	_g_object_unref0 (cell_renderer_text);
	_g_object_unref0 (col);
}


static gboolean _gtk_tree_iter_equal (const GtkTreeIter* s1, const GtkTreeIter* s2) {
	if (s1 == s2) {
		return TRUE;
	}
	if (s1 == NULL) {
		return FALSE;
	}
	if (s2 == NULL) {
		return FALSE;
	}
	if (s1->stamp != s2->stamp) {
		return FALSE;
	}
	if (s1->user_data != s2->user_data) {
		return FALSE;
	}
	if (s1->user_data2 != s2->user_data2) {
		return FALSE;
	}
	if (s1->user_data3 != s2->user_data3) {
		return FALSE;
	}
	return TRUE;
}


void beat_box_side_tree_view_smartPixTextColumnData (BeatBoxSideTreeView* self, GtkTreeViewColumn* tree_column, GtkCellRenderer* cell, GtkTreeModel* tree_model, GtkTreeIter* iter) {
	GObject* o;
	gchar* _tmp0_;
	gchar* title;
	GtkTreeIter parent = {0};
	gboolean _tmp1_ = FALSE;
	GtkTreeIter _tmp19_ = {0};
	gboolean _tmp20_;
	g_return_if_fail (self != NULL);
	g_return_if_fail (tree_column != NULL);
	g_return_if_fail (cell != NULL);
	g_return_if_fail (tree_model != NULL);
	o = NULL;
	_tmp0_ = g_strdup ("");
	title = _tmp0_;
	gtk_tree_model_get (tree_model, iter, 0, &o, 2, &title, -1);
	if (GTK_IS_CELL_RENDERER_PIXBUF (cell)) {
		_tmp1_ = _gtk_tree_iter_equal (iter, &self->library_music_iter) == TRUE;
	} else {
		_tmp1_ = FALSE;
	}
	if (_tmp1_) {
		GdkPixbuf* _tmp2_ = NULL;
		GdkPixbuf* _tmp3_;
		_tmp2_ = beat_box_side_tree_view_get_pixbuf_from_stock (self, "folder-music", GTK_ICON_SIZE_MENU);
		_tmp3_ = _tmp2_;
		g_object_set (GTK_CELL_RENDERER_PIXBUF (cell), "pixbuf", _tmp3_, NULL);
		_g_object_unref0 (_tmp3_);
	} else {
		gboolean _tmp4_ = FALSE;
		if (GTK_IS_CELL_RENDERER_PIXBUF (cell)) {
			_tmp4_ = _gtk_tree_iter_equal (iter, &self->playlists_similar_iter) == TRUE;
		} else {
			_tmp4_ = FALSE;
		}
		if (_tmp4_) {
			GdkPixbuf* _tmp5_ = NULL;
			GdkPixbuf* _tmp6_;
			_tmp5_ = beat_box_side_tree_view_get_pixbuf_from_stock (self, "playlist-automatic", GTK_ICON_SIZE_MENU);
			_tmp6_ = _tmp5_;
			g_object_set (GTK_CELL_RENDERER_PIXBUF (cell), "pixbuf", _tmp6_, NULL);
			_g_object_unref0 (_tmp6_);
		} else {
			gboolean _tmp7_ = FALSE;
			if (GTK_IS_CELL_RENDERER_PIXBUF (cell)) {
				_tmp7_ = _gtk_tree_iter_equal (iter, &self->playlists_queue_iter) == TRUE;
			} else {
				_tmp7_ = FALSE;
			}
			if (_tmp7_) {
				GdkPixbuf* _tmp8_ = NULL;
				GdkPixbuf* _tmp9_;
				_tmp8_ = beat_box_side_tree_view_get_pixbuf_from_stock (self, "media-audio", GTK_ICON_SIZE_MENU);
				_tmp9_ = _tmp8_;
				g_object_set (GTK_CELL_RENDERER_PIXBUF (cell), "pixbuf", _tmp9_, NULL);
				_g_object_unref0 (_tmp9_);
			} else {
				gboolean _tmp10_ = FALSE;
				if (GTK_IS_CELL_RENDERER_PIXBUF (cell)) {
					_tmp10_ = _gtk_tree_iter_equal (iter, &self->playlists_history_iter) == TRUE;
				} else {
					_tmp10_ = FALSE;
				}
				if (_tmp10_) {
					GdkPixbuf* _tmp11_ = NULL;
					GdkPixbuf* _tmp12_;
					_tmp11_ = beat_box_side_tree_view_get_pixbuf_from_stock (self, "emblem-urgent", GTK_ICON_SIZE_MENU);
					_tmp12_ = _tmp11_;
					g_object_set (GTK_CELL_RENDERER_PIXBUF (cell), "pixbuf", _tmp12_, NULL);
					_g_object_unref0 (_tmp12_);
				} else {
					gboolean _tmp13_ = FALSE;
					if (GTK_IS_CELL_RENDERER_PIXBUF (cell)) {
						_tmp13_ = BEAT_BOX_IS_SMART_PLAYLIST (o);
					} else {
						_tmp13_ = FALSE;
					}
					if (_tmp13_) {
						GdkPixbuf* _tmp14_ = NULL;
						GdkPixbuf* _tmp15_;
						_tmp14_ = beat_box_side_tree_view_get_pixbuf_from_stock (self, "playlist-automatic", GTK_ICON_SIZE_MENU);
						_tmp15_ = _tmp14_;
						g_object_set (GTK_CELL_RENDERER_PIXBUF (cell), "pixbuf", _tmp15_, NULL);
						_g_object_unref0 (_tmp15_);
					} else {
						gboolean _tmp16_ = FALSE;
						if (GTK_IS_CELL_RENDERER_PIXBUF (cell)) {
							_tmp16_ = BEAT_BOX_IS_PLAYLIST (o);
						} else {
							_tmp16_ = FALSE;
						}
						if (_tmp16_) {
							GdkPixbuf* _tmp17_ = NULL;
							GdkPixbuf* _tmp18_;
							_tmp17_ = beat_box_side_tree_view_get_pixbuf_from_stock (self, "playlist", GTK_ICON_SIZE_MENU);
							_tmp18_ = _tmp17_;
							g_object_set (GTK_CELL_RENDERER_PIXBUF (cell), "pixbuf", _tmp18_, NULL);
							_g_object_unref0 (_tmp18_);
						} else {
							g_object_set (GTK_CELL_RENDERER_PIXBUF (cell), "pixbuf", NULL, NULL);
						}
					}
				}
			}
		}
	}
	if (GTK_IS_CELL_RENDERER_PIXBUF (cell)) {
		gtk_cell_renderer_set_fixed_size (cell, 40, 0);
		gtk_cell_renderer_set_alignment (cell, (gfloat) 1.0, (gfloat) 1.0);
		g_object_set (GTK_CELL_RENDERER_PIXBUF (cell), "stock-size", (guint) 16, NULL);
	}
	_tmp20_ = gtk_tree_model_iter_parent ((GtkTreeModel*) self->priv->sideTreeModel, &_tmp19_, iter);
	parent = _tmp19_;
	if (!_tmp20_) {
		gtk_cell_renderer_set_visible (cell, FALSE);
	} else {
		gtk_cell_renderer_set_visible (cell, TRUE);
	}
	_g_free0 (title);
	_g_object_unref0 (o);
}


static GdkPixbuf* beat_box_side_tree_view_get_pixbuf_from_stock (BeatBoxSideTreeView* self, const gchar* stock_id, GtkIconSize size) {
	GdkPixbuf* result = NULL;
	GdkPixbuf* pixbuf = NULL;
	GdkPixbuf* _tmp0_ = NULL;
	g_return_val_if_fail (self != NULL, NULL);
	g_return_val_if_fail (stock_id != NULL, NULL);
	_tmp0_ = gtk_widget_render_icon ((GtkWidget*) self, stock_id, size, NULL);
	_g_object_unref0 (pixbuf);
	pixbuf = _tmp0_;
	if (pixbuf == NULL) {
		fprintf (stdout, "Could not render icon %s\n", stock_id);
	}
	result = pixbuf;
	return result;
}


void beat_box_side_tree_view_addBasicItems (BeatBoxSideTreeView* self) {
	GtkTreeIter _tmp0_ = {0};
	GtkTreeIter _tmp1_ = {0};
	GtkTreeIter _tmp2_ = {0};
	GtkTreeIter _tmp3_ = {0};
	g_return_if_fail (self != NULL);
	gtk_tree_store_append (self->priv->sideTreeModel, &_tmp0_, NULL);
	self->library_iter = _tmp0_;
	gtk_tree_store_set (self->priv->sideTreeModel, &self->library_iter, 0, NULL, 1, NULL, 2, "<b>Library</b>", -1);
	gtk_tree_store_append (self->priv->sideTreeModel, &_tmp1_, NULL);
	self->devices_iter = _tmp1_;
	gtk_tree_store_set (self->priv->sideTreeModel, &self->devices_iter, 0, NULL, 1, NULL, 2, "<b>Devices</b>", -1);
	gtk_tree_store_append (self->priv->sideTreeModel, &_tmp2_, NULL);
	self->network_iter = _tmp2_;
	gtk_tree_store_set (self->priv->sideTreeModel, &self->network_iter, 0, NULL, 1, NULL, 2, "<b>Network</b>", -1);
	gtk_tree_store_append (self->priv->sideTreeModel, &_tmp3_, NULL);
	self->playlists_iter = _tmp3_;
	gtk_tree_store_set (self->priv->sideTreeModel, &self->playlists_iter, 0, NULL, 1, NULL, 2, "<b>Playlists</b>", -1);
}


static GtkTreeIter* _gtk_tree_iter_dup (GtkTreeIter* self) {
	GtkTreeIter* dup;
	dup = g_new0 (GtkTreeIter, 1);
	memcpy (dup, self, sizeof (GtkTreeIter));
	return dup;
}


static gpointer __gtk_tree_iter_dup0 (gpointer self) {
	return self ? _gtk_tree_iter_dup (self) : NULL;
}


GtkTreeIter* beat_box_side_tree_view_addItem (BeatBoxSideTreeView* self, GtkTreeIter* parent, GObject* o, GtkWidget* w, const gchar* name) {
	GtkTreeIter* result = NULL;
	gboolean _tmp0_ = FALSE;
	g_return_val_if_fail (self != NULL, NULL);
	g_return_val_if_fail (w != NULL, NULL);
	g_return_val_if_fail (name != NULL, NULL);
	if (g_strcmp0 (name, "Music") == 0) {
		_tmp0_ = _gtk_tree_iter_equal (parent, &self->library_iter) == TRUE;
	} else {
		_tmp0_ = FALSE;
	}
	if (_tmp0_) {
		GtkTreeIter _tmp1_ = {0};
		GtkTreeIter* _tmp2_;
		gtk_tree_store_append (self->priv->sideTreeModel, &_tmp1_, parent);
		self->library_music_iter = _tmp1_;
		gtk_tree_store_set (self->priv->sideTreeModel, &self->library_music_iter, 0, o, 1, w, 2, name, -1);
		_tmp2_ = __gtk_tree_iter_dup0 (&self->library_music_iter);
		result = _tmp2_;
		return result;
	} else {
		gboolean _tmp3_ = FALSE;
		if (g_strcmp0 (name, "Podcasts") == 0) {
			_tmp3_ = _gtk_tree_iter_equal (parent, &self->library_iter) == TRUE;
		} else {
			_tmp3_ = FALSE;
		}
		if (_tmp3_) {
			GtkTreeIter _tmp4_ = {0};
			GtkTreeIter* _tmp5_;
			gtk_tree_store_append (self->priv->sideTreeModel, &_tmp4_, parent);
			self->library_podcasts_iter = _tmp4_;
			gtk_tree_store_set (self->priv->sideTreeModel, &self->library_podcasts_iter, 0, o, 1, w, 2, name, -1);
			_tmp5_ = __gtk_tree_iter_dup0 (&self->library_podcasts_iter);
			result = _tmp5_;
			return result;
		} else {
			gboolean _tmp6_ = FALSE;
			if (g_strcmp0 (name, "Audiobooks") == 0) {
				_tmp6_ = _gtk_tree_iter_equal (parent, &self->library_iter) == TRUE;
			} else {
				_tmp6_ = FALSE;
			}
			if (_tmp6_) {
				GtkTreeIter _tmp7_ = {0};
				GtkTreeIter* _tmp8_;
				gtk_tree_store_append (self->priv->sideTreeModel, &_tmp7_, parent);
				self->library_audiobooks_iter = _tmp7_;
				gtk_tree_store_set (self->priv->sideTreeModel, &self->library_audiobooks_iter, 0, o, 1, w, 2, name, -1);
				_tmp8_ = __gtk_tree_iter_dup0 (&self->library_audiobooks_iter);
				result = _tmp8_;
				return result;
			} else {
				gboolean _tmp9_ = FALSE;
				if (g_strcmp0 (name, "Similar") == 0) {
					_tmp9_ = _gtk_tree_iter_equal (parent, &self->playlists_iter) == TRUE;
				} else {
					_tmp9_ = FALSE;
				}
				if (_tmp9_) {
					GtkTreeIter _tmp10_ = {0};
					GtkTreeIter* _tmp11_;
					gtk_tree_store_append (self->priv->sideTreeModel, &_tmp10_, parent);
					self->playlists_similar_iter = _tmp10_;
					gtk_tree_store_set (self->priv->sideTreeModel, &self->playlists_similar_iter, 0, o, 1, w, 2, name, -1);
					_tmp11_ = __gtk_tree_iter_dup0 (&self->playlists_similar_iter);
					result = _tmp11_;
					return result;
				} else {
					gboolean _tmp12_ = FALSE;
					if (g_strcmp0 (name, "Queue") == 0) {
						_tmp12_ = _gtk_tree_iter_equal (parent, &self->playlists_iter) == TRUE;
					} else {
						_tmp12_ = FALSE;
					}
					if (_tmp12_) {
						GtkTreeIter _tmp13_ = {0};
						GtkTreeIter* _tmp14_;
						gtk_tree_store_append (self->priv->sideTreeModel, &_tmp13_, parent);
						self->playlists_queue_iter = _tmp13_;
						gtk_tree_store_set (self->priv->sideTreeModel, &self->playlists_queue_iter, 0, o, 1, w, 2, name, -1);
						_tmp14_ = __gtk_tree_iter_dup0 (&self->playlists_queue_iter);
						result = _tmp14_;
						return result;
					} else {
						gboolean _tmp15_ = FALSE;
						if (g_strcmp0 (name, "History") == 0) {
							_tmp15_ = _gtk_tree_iter_equal (parent, &self->playlists_iter) == TRUE;
						} else {
							_tmp15_ = FALSE;
						}
						if (_tmp15_) {
							GtkTreeIter _tmp16_ = {0};
							GtkTreeIter* _tmp17_;
							gtk_tree_store_append (self->priv->sideTreeModel, &_tmp16_, parent);
							self->playlists_history_iter = _tmp16_;
							gtk_tree_store_set (self->priv->sideTreeModel, &self->playlists_history_iter, 0, o, 1, w, 2, name, -1);
							_tmp17_ = __gtk_tree_iter_dup0 (&self->playlists_history_iter);
							result = _tmp17_;
							return result;
						} else {
							if (BEAT_BOX_IS_SMART_PLAYLIST (o)) {
								GtkTreeIter item = {0};
								GtkTreeIter pivot = {0};
								GtkTreeIter _tmp18_ = {0};
								GtkTreePath* _tmp24_ = NULL;
								GtkTreePath* _tmp25_;
								GtkTreeSelection* _tmp26_ = NULL;
								GtkTreeIter* _tmp27_;
								gtk_tree_model_iter_children ((GtkTreeModel*) self->priv->sideTreeModel, &_tmp18_, &self->playlists_iter);
								pivot = _tmp18_;
								while (TRUE) {
									gchar* tempName = NULL;
									GObject* tempO = NULL;
									gboolean _tmp19_ = FALSE;
									gtk_tree_model_get ((GtkTreeModel*) self->priv->sideTreeModel, &pivot, 0, &tempO, 2, &tempName, -1);
									if (tempO != NULL) {
										gboolean _tmp20_ = FALSE;
										if (BEAT_BOX_IS_PLAYLIST (tempO)) {
											_tmp20_ = TRUE;
										} else {
											_tmp20_ = g_strcmp0 (tempName, name) > 0;
										}
										_tmp19_ = _tmp20_;
									} else {
										_tmp19_ = FALSE;
									}
									if (_tmp19_) {
										GtkTreeIter _tmp21_ = {0};
										gtk_tree_store_insert_before (self->priv->sideTreeModel, &_tmp21_, &self->playlists_iter, &pivot);
										item = _tmp21_;
										_g_object_unref0 (tempO);
										_g_free0 (tempName);
										break;
									} else {
										gboolean _tmp22_;
										_tmp22_ = gtk_tree_model_iter_next ((GtkTreeModel*) self->priv->sideTreeModel, &pivot);
										if (!_tmp22_) {
											GtkTreeIter _tmp23_ = {0};
											gtk_tree_store_append (self->priv->sideTreeModel, &_tmp23_, parent);
											item = _tmp23_;
											_g_object_unref0 (tempO);
											_g_free0 (tempName);
											break;
										}
									}
									_g_object_unref0 (tempO);
									_g_free0 (tempName);
								}
								gtk_tree_store_set (self->priv->sideTreeModel, &item, 0, o, 1, w, 2, name, -1);
								_tmp24_ = gtk_tree_model_get_path ((GtkTreeModel*) self->priv->sideTreeModel, &item);
								_tmp25_ = _tmp24_;
								gtk_tree_view_expand_to_path ((GtkTreeView*) self, _tmp25_);
								_gtk_tree_path_free0 (_tmp25_);
								_tmp26_ = gtk_tree_view_get_selection ((GtkTreeView*) self);
								gtk_tree_selection_select_iter (_tmp26_, &item);
								_tmp27_ = __gtk_tree_iter_dup0 (&item);
								result = _tmp27_;
								return result;
							} else {
								if (BEAT_BOX_IS_PLAYLIST (o)) {
									GtkTreeIter item = {0};
									GtkTreeIter pivot = {0};
									GtkTreeIter _tmp28_ = {0};
									GtkTreePath* _tmp34_ = NULL;
									GtkTreePath* _tmp35_;
									GtkTreeSelection* _tmp36_ = NULL;
									GtkTreeIter* _tmp37_;
									gtk_tree_model_iter_children ((GtkTreeModel*) self->priv->sideTreeModel, &_tmp28_, &self->playlists_iter);
									pivot = _tmp28_;
									while (TRUE) {
										gchar* tempName = NULL;
										GObject* tempO = NULL;
										gboolean _tmp29_ = FALSE;
										gboolean _tmp30_ = FALSE;
										gtk_tree_model_get ((GtkTreeModel*) self->priv->sideTreeModel, &pivot, 0, &tempO, 2, &tempName, -1);
										if (tempO != NULL) {
											_tmp30_ = BEAT_BOX_IS_PLAYLIST (tempO);
										} else {
											_tmp30_ = FALSE;
										}
										if (_tmp30_) {
											_tmp29_ = g_strcmp0 (tempName, name) > 0;
										} else {
											_tmp29_ = FALSE;
										}
										if (_tmp29_) {
											GtkTreeIter _tmp31_ = {0};
											gtk_tree_store_insert_before (self->priv->sideTreeModel, &_tmp31_, &self->playlists_iter, &pivot);
											item = _tmp31_;
											_g_object_unref0 (tempO);
											_g_free0 (tempName);
											break;
										} else {
											gboolean _tmp32_;
											_tmp32_ = gtk_tree_model_iter_next ((GtkTreeModel*) self->priv->sideTreeModel, &pivot);
											if (!_tmp32_) {
												GtkTreeIter _tmp33_ = {0};
												gtk_tree_store_append (self->priv->sideTreeModel, &_tmp33_, parent);
												item = _tmp33_;
												_g_object_unref0 (tempO);
												_g_free0 (tempName);
												break;
											}
										}
										_g_object_unref0 (tempO);
										_g_free0 (tempName);
									}
									gtk_tree_store_set (self->priv->sideTreeModel, &item, 0, o, 1, w, 2, name, -1);
									_tmp34_ = gtk_tree_model_get_path ((GtkTreeModel*) self->priv->sideTreeModel, &item);
									_tmp35_ = _tmp34_;
									gtk_tree_view_expand_to_path ((GtkTreeView*) self, _tmp35_);
									_gtk_tree_path_free0 (_tmp35_);
									_tmp36_ = gtk_tree_view_get_selection ((GtkTreeView*) self);
									gtk_tree_selection_select_iter (_tmp36_, &item);
									_tmp37_ = __gtk_tree_iter_dup0 (&item);
									result = _tmp37_;
									return result;
								} else {
									GtkTreeIter iter = {0};
									GtkTreeIter _tmp38_ = {0};
									GtkTreeIter* _tmp39_;
									gtk_tree_store_append (self->priv->sideTreeModel, &_tmp38_, parent);
									iter = _tmp38_;
									gtk_tree_store_set (self->priv->sideTreeModel, &iter, 0, o, 1, w, 2, name, -1);
									_tmp39_ = __gtk_tree_iter_dup0 (&iter);
									result = _tmp39_;
									return result;
								}
							}
						}
					}
				}
			}
		}
	}
}


GtkWidget* beat_box_side_tree_view_getSelectedWidget (BeatBoxSideTreeView* self) {
	GtkWidget* result = NULL;
	GtkTreeSelection* _tmp0_ = NULL;
	GtkTreeSelection* _tmp1_;
	GtkTreeSelection* selected;
	GtkTreeModel* model = NULL;
	GtkTreeIter iter = {0};
	GtkTreeModel* _tmp2_ = NULL;
	GtkTreeIter _tmp3_ = {0};
	GtkTreeModel* _tmp4_;
	GtkWidget* w = NULL;
	g_return_val_if_fail (self != NULL, NULL);
	_tmp0_ = gtk_tree_view_get_selection ((GtkTreeView*) self);
	_tmp1_ = _g_object_ref0 (_tmp0_);
	selected = _tmp1_;
	gtk_tree_selection_set_mode (selected, GTK_SELECTION_SINGLE);
	gtk_tree_selection_get_selected (selected, &_tmp2_, &_tmp3_);
	_g_object_unref0 (model);
	_tmp4_ = _g_object_ref0 (_tmp2_);
	model = _tmp4_;
	iter = _tmp3_;
	gtk_tree_model_get ((GtkTreeModel*) self->priv->sideTreeModel, &iter, 1, &w, -1);
	result = w;
	_g_object_unref0 (model);
	_g_object_unref0 (selected);
	return result;
}


GtkWidget* beat_box_side_tree_view_getWidget (BeatBoxSideTreeView* self, GtkTreeIter* iter) {
	GtkWidget* result = NULL;
	GtkWidget* w = NULL;
	g_return_val_if_fail (self != NULL, NULL);
	gtk_tree_model_get ((GtkTreeModel*) self->priv->sideTreeModel, iter, 1, &w, -1);
	result = w;
	return result;
}


GtkWidget* beat_box_side_tree_view_get_current_widget (BeatBoxSideTreeView* self) {
	GtkWidget* result = NULL;
	GtkWidget* _tmp0_;
	g_return_val_if_fail (self != NULL, NULL);
	_tmp0_ = _g_object_ref0 (self->priv->current_widget);
	result = _tmp0_;
	return result;
}


void beat_box_side_tree_view_updatePlayQueue (BeatBoxSideTreeView* self) {
	GtkWidget* w = NULL;
	GeeCollection* _tmp0_ = NULL;
	GeeCollection* _tmp1_;
	g_return_if_fail (self != NULL);
	gtk_tree_model_get ((GtkTreeModel*) self->priv->sideTreeModel, &self->playlists_queue_iter, 1, &w, -1);
	_tmp0_ = beat_box_library_manager_queue (self->priv->lm);
	_tmp1_ = _tmp0_;
	beat_box_music_tree_view_populateView (BEAT_BOX_MUSIC_TREE_VIEW (w), _tmp1_, FALSE);
	_g_object_unref0 (_tmp1_);
	_g_object_unref0 (w);
}


void beat_box_side_tree_view_updateAlreadyPlayed (BeatBoxSideTreeView* self) {
	GtkWidget* w = NULL;
	GeeLinkedList* _tmp0_ = NULL;
	GeeLinkedList* _tmp1_;
	g_return_if_fail (self != NULL);
	gtk_tree_model_get ((GtkTreeModel*) self->priv->sideTreeModel, &self->playlists_history_iter, 1, &w, -1);
	_tmp0_ = beat_box_library_manager_already_played (self->priv->lm);
	_tmp1_ = _tmp0_;
	beat_box_music_tree_view_populateView (BEAT_BOX_MUSIC_TREE_VIEW (w), (GeeCollection*) _tmp1_, FALSE);
	_g_object_unref0 (_tmp1_);
	_g_object_unref0 (w);
}


static gboolean _beat_box_side_tree_view_updateView_gtk_tree_model_foreach_func (GtkTreeModel* model, GtkTreePath* path, GtkTreeIter* iter, gpointer self) {
	gboolean result;
	result = beat_box_side_tree_view_updateView (self, model, path, iter);
	return result;
}


static void beat_box_side_tree_view_real_sideListSelectionChange (BeatBoxSideTreeView* self) {
	g_return_if_fail (self != NULL);
	gtk_tree_model_foreach ((GtkTreeModel*) self->priv->sideTreeModel, _beat_box_side_tree_view_updateView_gtk_tree_model_foreach_func, self);
	if (BEAT_BOX_IS_MUSIC_TREE_VIEW (self->priv->current_widget)) {
		gint count;
		gint total_time;
		gint total_mbs;
		gchar* _tmp12_;
		gchar* fancy;
		gchar* _tmp22_;
		gchar* fancy_size;
		gchar* _tmp29_ = NULL;
		gchar* _tmp30_;
		gchar* _tmp31_;
		gchar* _tmp32_;
		gchar* _tmp33_;
		gchar* _tmp34_;
		gchar* _tmp35_;
		gchar* _tmp36_;
		gchar* _tmp37_;
		gchar* _tmp38_;
		count = 0;
		total_time = 0;
		total_mbs = 0;
		{
			GeeSet* _tmp0_ = NULL;
			GeeSet* _tmp1_;
			GeeIterator* _tmp2_ = NULL;
			GeeIterator* _tmp3_;
			GeeIterator* _id_it;
			_tmp0_ = beat_box_music_tree_view_get_songs (BEAT_BOX_MUSIC_TREE_VIEW (self->priv->current_widget));
			_tmp1_ = _tmp0_;
			_tmp2_ = gee_iterable_iterator ((GeeIterable*) _tmp1_);
			_tmp3_ = _tmp2_;
			_g_object_unref0 (_tmp1_);
			_id_it = _tmp3_;
			while (TRUE) {
				gboolean _tmp4_;
				gpointer _tmp5_ = NULL;
				gint id;
				BeatBoxSong* _tmp6_ = NULL;
				BeatBoxSong* _tmp7_;
				gint _tmp8_;
				BeatBoxSong* _tmp9_ = NULL;
				BeatBoxSong* _tmp10_;
				gint _tmp11_;
				_tmp4_ = gee_iterator_next (_id_it);
				if (!_tmp4_) {
					break;
				}
				_tmp5_ = gee_iterator_get (_id_it);
				id = GPOINTER_TO_INT (_tmp5_);
				count = count + 1;
				_tmp6_ = beat_box_library_manager_song_from_id (self->priv->lm, id);
				_tmp7_ = _tmp6_;
				_tmp8_ = beat_box_song_get_length (_tmp7_);
				total_time = total_time + _tmp8_;
				_g_object_unref0 (_tmp7_);
				_tmp9_ = beat_box_library_manager_song_from_id (self->priv->lm, id);
				_tmp10_ = _tmp9_;
				_tmp11_ = beat_box_song_get_file_size (_tmp10_);
				total_mbs = total_mbs + _tmp11_;
				_g_object_unref0 (_tmp10_);
			}
			_g_object_unref0 (_id_it);
		}
		_tmp12_ = g_strdup ("");
		fancy = _tmp12_;
		if (total_time < 3600) {
			gchar* _tmp13_ = NULL;
			gchar* _tmp14_;
			gchar* _tmp15_;
			_tmp13_ = g_strdup_printf ("%i", total_time / 60);
			_tmp14_ = _tmp13_;
			_tmp15_ = g_strconcat (_tmp14_, " minutes", NULL);
			_g_free0 (fancy);
			fancy = _tmp15_;
			_g_free0 (_tmp14_);
		} else {
			if (total_time < (24 * 3600)) {
				gchar* _tmp16_ = NULL;
				gchar* _tmp17_;
				gchar* _tmp18_;
				_tmp16_ = g_strdup_printf ("%i", total_time / 3600);
				_tmp17_ = _tmp16_;
				_tmp18_ = g_strconcat (_tmp17_, " hours", NULL);
				_g_free0 (fancy);
				fancy = _tmp18_;
				_g_free0 (_tmp17_);
			} else {
				gchar* _tmp19_ = NULL;
				gchar* _tmp20_;
				gchar* _tmp21_;
				_tmp19_ = g_strdup_printf ("%i", total_time / (24 * 3600));
				_tmp20_ = _tmp19_;
				_tmp21_ = g_strconcat (_tmp20_, " days", NULL);
				_g_free0 (fancy);
				fancy = _tmp21_;
				_g_free0 (_tmp20_);
			}
		}
		_tmp22_ = g_strdup ("");
		fancy_size = _tmp22_;
		if (total_mbs < 1000) {
			gchar* _tmp23_ = NULL;
			gchar* _tmp24_;
			gchar* _tmp25_;
			_tmp23_ = g_strdup_printf ("%g", (gfloat) total_mbs);
			_tmp24_ = _tmp23_;
			_tmp25_ = g_strconcat (_tmp24_, " MB's", NULL);
			_g_free0 (fancy_size);
			fancy_size = _tmp25_;
			_g_free0 (_tmp24_);
		} else {
			gchar* _tmp26_ = NULL;
			gchar* _tmp27_;
			gchar* _tmp28_;
			_tmp26_ = g_strdup_printf ("%g", (gfloat) (total_mbs / 1000.0f));
			_tmp27_ = _tmp26_;
			_tmp28_ = g_strconcat (_tmp27_, " GB's", NULL);
			_g_free0 (fancy_size);
			fancy_size = _tmp28_;
			_g_free0 (_tmp27_);
		}
		_tmp29_ = g_strdup_printf ("%i", count);
		_tmp30_ = _tmp29_;
		_tmp31_ = g_strconcat (_tmp30_, " items, ", NULL);
		_tmp32_ = _tmp31_;
		_tmp33_ = g_strconcat (_tmp32_, fancy, NULL);
		_tmp34_ = _tmp33_;
		_tmp35_ = g_strconcat (_tmp34_, ", ", NULL);
		_tmp36_ = _tmp35_;
		_tmp37_ = g_strconcat (_tmp36_, fancy_size, NULL);
		_tmp38_ = _tmp37_;
		beat_box_library_window_setStatusBarText (self->priv->lw, _tmp38_);
		_g_free0 (_tmp38_);
		_g_free0 (_tmp36_);
		_g_free0 (_tmp34_);
		_g_free0 (_tmp32_);
		_g_free0 (_tmp30_);
		_g_free0 (fancy_size);
		_g_free0 (fancy);
	}
}


void beat_box_side_tree_view_sideListSelectionChange (BeatBoxSideTreeView* self) {
	BEAT_BOX_SIDE_TREE_VIEW_GET_CLASS (self)->sideListSelectionChange (self);
}


static gboolean beat_box_side_tree_view_real_sideListClick (BeatBoxSideTreeView* self, GdkEventButton* event) {
	gboolean result = FALSE;
	gboolean _tmp0_ = FALSE;
	g_return_val_if_fail (self != NULL, FALSE);
	if ((*event).type == GDK_BUTTON_PRESS) {
		_tmp0_ = (*event).button == 3;
	} else {
		_tmp0_ = FALSE;
	}
	if (_tmp0_) {
		GtkTreeIter iter = {0};
		GtkTreePath* path = NULL;
		GtkTreeViewColumn* column = NULL;
		gint cell_x = 0;
		gint cell_y = 0;
		GtkTreePath* _tmp1_ = NULL;
		GtkTreeViewColumn* _tmp2_ = NULL;
		gint _tmp3_;
		gint _tmp4_;
		GtkTreeViewColumn* _tmp5_;
		GtkTreeIter _tmp6_ = {0};
		gboolean _tmp7_;
		GObject* o = NULL;
		gchar* name = NULL;
		GtkTreeIter parent = {0};
		GtkTreeIter _tmp8_ = {0};
		gboolean _tmp9_;
		gtk_tree_view_get_path_at_pos ((GtkTreeView*) self, (gint) (*event).x, (gint) (*event).y, &_tmp1_, &_tmp2_, &_tmp3_, &_tmp4_);
		_gtk_tree_path_free0 (path);
		path = _tmp1_;
		_g_object_unref0 (column);
		_tmp5_ = _g_object_ref0 (_tmp2_);
		column = _tmp5_;
		cell_x = _tmp3_;
		cell_y = _tmp4_;
		_tmp7_ = gtk_tree_model_get_iter ((GtkTreeModel*) self->priv->sideTreeModel, &_tmp6_, path);
		iter = _tmp6_;
		if (!_tmp7_) {
			result = FALSE;
			_g_object_unref0 (column);
			_gtk_tree_path_free0 (path);
			return result;
		}
		gtk_tree_model_get ((GtkTreeModel*) self->priv->sideTreeModel, &iter, 0, &o, -1);
		gtk_tree_model_get ((GtkTreeModel*) self->priv->sideTreeModel, &iter, 2, &name, -1);
		gtk_tree_model_iter_parent ((GtkTreeModel*) self->priv->sideTreeModel, &_tmp8_, &iter);
		parent = _tmp8_;
		_tmp9_ = gtk_tree_store_iter_is_valid (self->priv->sideTreeModel, &parent);
		if (_tmp9_) {
			gchar* parent_name = NULL;
			gtk_tree_model_get ((GtkTreeModel*) self->priv->sideTreeModel, &parent, 2, &parent_name, -1);
			if (_gtk_tree_iter_equal (&iter, &self->library_music_iter) == TRUE) {
			} else {
				if (_gtk_tree_iter_equal (&iter, &self->library_podcasts_iter) == TRUE) {
				} else {
					if (_gtk_tree_iter_equal (&iter, &self->library_audiobooks_iter) == TRUE) {
					} else {
						if (_gtk_tree_iter_equal (&parent, &self->playlists_iter) == TRUE) {
							if (_gtk_tree_iter_equal (&iter, &self->playlists_queue_iter) == TRUE) {
							} else {
								if (_gtk_tree_iter_equal (&iter, &self->playlists_history_iter) == TRUE) {
								} else {
									guint32 _tmp10_;
									_tmp10_ = gtk_get_current_event_time ();
									gtk_menu_popup (self->priv->playlistMenu, NULL, NULL, NULL, NULL, (guint) 3, _tmp10_);
								}
							}
						}
					}
				}
			}
			_g_free0 (parent_name);
		} else {
			if (_gtk_tree_iter_equal (&iter, &self->library_iter) == TRUE) {
				result = TRUE;
				_g_free0 (name);
				_g_object_unref0 (o);
				_g_object_unref0 (column);
				_gtk_tree_path_free0 (path);
				return result;
			} else {
				if (_gtk_tree_iter_equal (&iter, &self->devices_iter) == TRUE) {
					result = TRUE;
					_g_free0 (name);
					_g_object_unref0 (o);
					_g_object_unref0 (column);
					_gtk_tree_path_free0 (path);
					return result;
				} else {
					if (_gtk_tree_iter_equal (&iter, &self->network_iter) == TRUE) {
						result = TRUE;
						_g_free0 (name);
						_g_object_unref0 (o);
						_g_object_unref0 (column);
						_gtk_tree_path_free0 (path);
						return result;
					} else {
						if (_gtk_tree_iter_equal (&iter, &self->playlists_iter) == TRUE) {
							guint32 _tmp11_;
							_tmp11_ = gtk_get_current_event_time ();
							gtk_menu_popup (self->priv->playlistMenu, NULL, NULL, NULL, NULL, (guint) 3, _tmp11_);
							result = TRUE;
							_g_free0 (name);
							_g_object_unref0 (o);
							_g_object_unref0 (column);
							_gtk_tree_path_free0 (path);
							return result;
						}
					}
				}
			}
		}
		result = FALSE;
		_g_free0 (name);
		_g_object_unref0 (o);
		_g_object_unref0 (column);
		_gtk_tree_path_free0 (path);
		return result;
	} else {
		gboolean _tmp12_ = FALSE;
		if ((*event).type == GDK_BUTTON_PRESS) {
			_tmp12_ = (*event).button == 1;
		} else {
			_tmp12_ = FALSE;
		}
		if (_tmp12_) {
			GtkTreeIter iter = {0};
			GtkTreePath* path = NULL;
			GtkTreeViewColumn* column = NULL;
			gint cell_x = 0;
			gint cell_y = 0;
			GtkTreePath* _tmp13_ = NULL;
			GtkTreeViewColumn* _tmp14_ = NULL;
			gint _tmp15_;
			gint _tmp16_;
			GtkTreeViewColumn* _tmp17_;
			GtkTreeIter _tmp18_ = {0};
			gboolean _tmp19_;
			GObject* o = NULL;
			GtkWidget* w = NULL;
			gchar* name = NULL;
			GtkTreeIter parent = {0};
			GtkTreeIter _tmp20_ = {0};
			gboolean _tmp21_;
			gtk_tree_view_get_path_at_pos ((GtkTreeView*) self, (gint) (*event).x, (gint) (*event).y, &_tmp13_, &_tmp14_, &_tmp15_, &_tmp16_);
			_gtk_tree_path_free0 (path);
			path = _tmp13_;
			_g_object_unref0 (column);
			_tmp17_ = _g_object_ref0 (_tmp14_);
			column = _tmp17_;
			cell_x = _tmp15_;
			cell_y = _tmp16_;
			_tmp19_ = gtk_tree_model_get_iter ((GtkTreeModel*) self->priv->sideTreeModel, &_tmp18_, path);
			iter = _tmp18_;
			if (!_tmp19_) {
				result = FALSE;
				_g_object_unref0 (column);
				_gtk_tree_path_free0 (path);
				return result;
			}
			gtk_tree_model_get ((GtkTreeModel*) self->priv->sideTreeModel, &iter, 0, &o, -1);
			gtk_tree_model_get ((GtkTreeModel*) self->priv->sideTreeModel, &iter, 1, &w, -1);
			gtk_tree_model_get ((GtkTreeModel*) self->priv->sideTreeModel, &iter, 2, &name, -1);
			gtk_tree_model_iter_parent ((GtkTreeModel*) self->priv->sideTreeModel, &_tmp20_, &iter);
			parent = _tmp20_;
			_tmp21_ = gtk_tree_store_iter_is_valid (self->priv->sideTreeModel, &parent);
			if (_tmp21_) {
				GtkTreeSelection* _tmp22_ = NULL;
				gchar* parent_name = NULL;
				_tmp22_ = gtk_tree_view_get_selection ((GtkTreeView*) self);
				gtk_tree_selection_select_iter (_tmp22_, &iter);
				gtk_tree_model_get ((GtkTreeModel*) self->priv->sideTreeModel, &parent, 2, &parent_name, -1);
				if (_gtk_tree_iter_equal (&iter, &self->playlists_similar_iter) == TRUE) {
					gboolean _tmp23_ = FALSE;
					if (BEAT_BOX_SIMILAR_PANE (w)->_base == NULL) {
						_tmp23_ = TRUE;
					} else {
						gint _tmp24_;
						_tmp24_ = gee_collection_get_size ((GeeCollection*) BEAT_BOX_SIMILAR_PANE (w)->_have);
						_tmp23_ = _tmp24_ == 0;
					}
					if (_tmp23_) {
						result = TRUE;
						_g_free0 (parent_name);
						_g_free0 (name);
						_g_object_unref0 (w);
						_g_object_unref0 (o);
						_g_object_unref0 (column);
						_gtk_tree_path_free0 (path);
						return result;
					}
				} else {
					if (_gtk_tree_iter_equal (&iter, &self->playlists_queue_iter) == TRUE) {
						BeatBoxMusicTreeView* _tmp25_;
						BeatBoxMusicTreeView* mtv;
						GeeCollection* _tmp26_ = NULL;
						GeeCollection* _tmp27_;
						_tmp25_ = _g_object_ref0 (BEAT_BOX_MUSIC_TREE_VIEW (w));
						mtv = _tmp25_;
						_tmp26_ = beat_box_library_manager_queue (self->priv->lm);
						_tmp27_ = _tmp26_;
						beat_box_music_tree_view_populateView (mtv, _tmp27_, FALSE);
						_g_object_unref0 (_tmp27_);
						_g_object_unref0 (mtv);
					} else {
						if (_gtk_tree_iter_equal (&iter, &self->playlists_history_iter) == TRUE) {
							BeatBoxMusicTreeView* _tmp28_;
							BeatBoxMusicTreeView* mtv;
							GeeLinkedList* _tmp29_ = NULL;
							GeeLinkedList* _tmp30_;
							_tmp28_ = _g_object_ref0 (BEAT_BOX_MUSIC_TREE_VIEW (w));
							mtv = _tmp28_;
							_tmp29_ = beat_box_library_manager_already_played (self->priv->lm);
							_tmp30_ = _tmp29_;
							beat_box_music_tree_view_populateView (mtv, (GeeCollection*) _tmp30_, FALSE);
							_g_object_unref0 (_tmp30_);
							_g_object_unref0 (mtv);
						} else {
							gboolean _tmp31_ = FALSE;
							if (_gtk_tree_iter_equal (&parent, &self->playlists_iter) == TRUE) {
								_tmp31_ = BEAT_BOX_IS_SMART_PLAYLIST (o);
							} else {
								_tmp31_ = FALSE;
							}
							if (_tmp31_) {
								BeatBoxMusicTreeView* _tmp32_;
								BeatBoxMusicTreeView* mtv;
								gint _tmp33_;
								GeeLinkedList* _tmp34_ = NULL;
								GeeLinkedList* _tmp35_;
								_tmp32_ = _g_object_ref0 (BEAT_BOX_MUSIC_TREE_VIEW (w));
								mtv = _tmp32_;
								_tmp33_ = beat_box_smart_playlist_get_rowid (BEAT_BOX_SMART_PLAYLIST (o));
								_tmp34_ = beat_box_library_manager_songs_from_smart_playlist (self->priv->lm, _tmp33_);
								_tmp35_ = _tmp34_;
								beat_box_music_tree_view_populateView (mtv, (GeeCollection*) _tmp35_, FALSE);
								_g_object_unref0 (_tmp35_);
								_g_object_unref0 (mtv);
							} else {
								gboolean _tmp36_ = FALSE;
								if (_gtk_tree_iter_equal (&parent, &self->playlists_iter) == TRUE) {
									_tmp36_ = BEAT_BOX_IS_PLAYLIST (o);
								} else {
									_tmp36_ = FALSE;
								}
								if (_tmp36_) {
									BeatBoxMusicTreeView* _tmp37_;
									BeatBoxMusicTreeView* mtv;
									gint _tmp38_;
									GeeLinkedList* _tmp39_ = NULL;
									GeeLinkedList* _tmp40_;
									_tmp37_ = _g_object_ref0 (BEAT_BOX_MUSIC_TREE_VIEW (w));
									mtv = _tmp37_;
									_tmp38_ = beat_box_playlist_get_rowid (BEAT_BOX_PLAYLIST (o));
									_tmp39_ = beat_box_library_manager_songs_from_playlist (self->priv->lm, _tmp38_);
									_tmp40_ = _tmp39_;
									beat_box_music_tree_view_populateView (mtv, (GeeCollection*) _tmp40_, FALSE);
									_g_object_unref0 (_tmp40_);
									_g_object_unref0 (mtv);
								}
							}
						}
					}
				}
				result = FALSE;
				_g_free0 (parent_name);
				_g_free0 (name);
				_g_object_unref0 (w);
				_g_object_unref0 (o);
				_g_object_unref0 (column);
				_gtk_tree_path_free0 (path);
				return result;
			} else {
				result = TRUE;
				_g_free0 (name);
				_g_object_unref0 (w);
				_g_object_unref0 (o);
				_g_object_unref0 (column);
				_gtk_tree_path_free0 (path);
				return result;
			}
			_g_free0 (name);
			_g_object_unref0 (w);
			_g_object_unref0 (o);
			_g_object_unref0 (column);
			_gtk_tree_path_free0 (path);
		}
	}
	result = FALSE;
	return result;
}


gboolean beat_box_side_tree_view_sideListClick (BeatBoxSideTreeView* self, GdkEventButton* event) {
	return BEAT_BOX_SIDE_TREE_VIEW_GET_CLASS (self)->sideListClick (self, event);
}


gboolean beat_box_side_tree_view_updateView (BeatBoxSideTreeView* self, GtkTreeModel* model, GtkTreePath* path, GtkTreeIter* item) {
	gboolean result = FALSE;
	GtkWidget* w = NULL;
	g_return_val_if_fail (self != NULL, FALSE);
	g_return_val_if_fail (model != NULL, FALSE);
	g_return_val_if_fail (path != NULL, FALSE);
	gtk_tree_model_get (model, item, 1, &w, -1);
	if (w != NULL) {
		GtkTreeSelection* _tmp0_ = NULL;
		gboolean _tmp1_;
		_tmp0_ = gtk_tree_view_get_selection ((GtkTreeView*) self);
		_tmp1_ = gtk_tree_selection_iter_is_selected (_tmp0_, item);
		if (_tmp1_) {
			GtkWidget* _tmp2_;
			gtk_widget_show (w);
			_tmp2_ = _g_object_ref0 (w);
			_g_object_unref0 (self->priv->current_widget);
			self->priv->current_widget = _tmp2_;
			if (BEAT_BOX_IS_MUSIC_TREE_VIEW (w)) {
				BEAT_BOX_MUSIC_TREE_VIEW (w)->is_current_view = TRUE;
			}
		} else {
			gtk_widget_hide (w);
			if (BEAT_BOX_IS_MUSIC_TREE_VIEW (w)) {
				BEAT_BOX_MUSIC_TREE_VIEW (w)->is_current_view = FALSE;
			}
		}
	}
	result = FALSE;
	_g_object_unref0 (w);
	return result;
}


void beat_box_side_tree_view_resetView (BeatBoxSideTreeView* self) {
	GtkTreeSelection* _tmp0_ = NULL;
	GtkTreeSelection* _tmp1_ = NULL;
	GtkTreeModel* _tmp2_ = NULL;
	g_return_if_fail (self != NULL);
	_tmp0_ = gtk_tree_view_get_selection ((GtkTreeView*) self);
	gtk_tree_selection_unselect_all (_tmp0_);
	_tmp1_ = gtk_tree_view_get_selection ((GtkTreeView*) self);
	gtk_tree_selection_select_iter (_tmp1_, &self->library_music_iter);
	_tmp2_ = gtk_tree_view_get_model ((GtkTreeView*) self);
	gtk_tree_model_foreach (_tmp2_, _beat_box_side_tree_view_updateView_gtk_tree_model_foreach_func, self);
}


static void _beat_box_side_tree_view_smartPlaylistEditorSaved_beat_box_smart_playlist_editor_playlist_saved (BeatBoxSmartPlaylistEditor* _sender, BeatBoxSmartPlaylist* sp, gpointer self) {
	beat_box_side_tree_view_smartPlaylistEditorSaved (self, sp);
}


static void beat_box_side_tree_view_real_smartPlaylistMenuNewClicked (BeatBoxSideTreeView* self) {
	BeatBoxSmartPlaylist* _tmp0_ = NULL;
	BeatBoxSmartPlaylist* _tmp1_;
	BeatBoxSmartPlaylistEditor* _tmp2_ = NULL;
	BeatBoxSmartPlaylistEditor* _tmp3_;
	BeatBoxSmartPlaylistEditor* spe;
	g_return_if_fail (self != NULL);
	_tmp0_ = beat_box_smart_playlist_new ();
	_tmp1_ = _tmp0_;
	_tmp2_ = beat_box_smart_playlist_editor_new (self->priv->lw, _tmp1_);
	_tmp3_ = g_object_ref_sink (_tmp2_);
	_g_object_unref0 (_tmp1_);
	spe = _tmp3_;
	g_signal_connect_object (spe, "playlist-saved", (GCallback) _beat_box_side_tree_view_smartPlaylistEditorSaved_beat_box_smart_playlist_editor_playlist_saved, self, 0);
	_g_object_unref0 (spe);
}


void beat_box_side_tree_view_smartPlaylistMenuNewClicked (BeatBoxSideTreeView* self) {
	BEAT_BOX_SIDE_TREE_VIEW_GET_CLASS (self)->smartPlaylistMenuNewClicked (self);
}


static void beat_box_side_tree_view_real_smartPlaylistEditorSaved (BeatBoxSideTreeView* self, BeatBoxSmartPlaylist* sp) {
	gint _tmp0_;
	g_return_if_fail (self != NULL);
	g_return_if_fail (sp != NULL);
	_tmp0_ = beat_box_smart_playlist_get_rowid (sp);
	if (_tmp0_ > 0) {
		GtkTreeIter pivot;
		pivot = self->playlists_history_iter;
		{
			gboolean _tmp1_;
			_tmp1_ = TRUE;
			while (TRUE) {
				GObject* o = NULL;
				gboolean _tmp3_ = FALSE;
				if (!_tmp1_) {
					gboolean _tmp2_;
					_tmp2_ = gtk_tree_model_iter_next ((GtkTreeModel*) self->priv->sideTreeModel, &pivot);
					if (!_tmp2_) {
						break;
					}
				}
				_tmp1_ = FALSE;
				gtk_tree_model_get ((GtkTreeModel*) self->priv->sideTreeModel, &pivot, 0, &o, -1);
				if (BEAT_BOX_IS_SMART_PLAYLIST (o)) {
					gint _tmp4_;
					gint _tmp5_;
					_tmp4_ = beat_box_smart_playlist_get_rowid (BEAT_BOX_SMART_PLAYLIST (o));
					_tmp5_ = beat_box_smart_playlist_get_rowid (sp);
					_tmp3_ = _tmp4_ == _tmp5_;
				} else {
					_tmp3_ = FALSE;
				}
				if (_tmp3_) {
					gchar* name = NULL;
					GtkWidget* w = NULL;
					const gchar* _tmp6_ = NULL;
					GtkTreeIter* _tmp7_ = NULL;
					GtkTreeIter* _tmp8_;
					gint _tmp9_;
					GeeLinkedList* _tmp10_ = NULL;
					GeeLinkedList* _tmp11_;
					gtk_tree_model_get ((GtkTreeModel*) self->priv->sideTreeModel, &pivot, 1, &w, 2, &name, -1);
					gtk_tree_store_remove (self->priv->sideTreeModel, &pivot);
					_tmp6_ = beat_box_smart_playlist_get_name (sp);
					_tmp7_ = beat_box_side_tree_view_addItem (self, &self->playlists_iter, (GObject*) sp, w, _tmp6_);
					_tmp8_ = _tmp7_;
					_g_free0 (_tmp8_);
					_tmp9_ = beat_box_smart_playlist_get_rowid (sp);
					_tmp10_ = beat_box_library_manager_songs_from_smart_playlist (self->priv->lm, _tmp9_);
					_tmp11_ = _tmp10_;
					beat_box_music_tree_view_populateView (BEAT_BOX_MUSIC_TREE_VIEW (w), (GeeCollection*) _tmp11_, FALSE);
					_g_object_unref0 (_tmp11_);
					_g_object_unref0 (w);
					_g_free0 (name);
					_g_object_unref0 (o);
					break;
				}
				_g_object_unref0 (o);
			}
		}
	} else {
		beat_box_library_manager_add_smart_playlist (self->priv->lm, sp);
		beat_box_library_window_addSideListItem (self->priv->lw, (GObject*) sp);
	}
}


void beat_box_side_tree_view_smartPlaylistEditorSaved (BeatBoxSideTreeView* self, BeatBoxSmartPlaylist* sp) {
	BEAT_BOX_SIDE_TREE_VIEW_GET_CLASS (self)->smartPlaylistEditorSaved (self, sp);
}


static void _beat_box_side_tree_view_playlistNameWindowSaved_beat_box_playlist_name_window_playlist_saved (BeatBoxPlaylistNameWindow* _sender, BeatBoxPlaylist* p, gpointer self) {
	beat_box_side_tree_view_playlistNameWindowSaved (self, p);
}


static void beat_box_side_tree_view_real_playlistMenuNewClicked (BeatBoxSideTreeView* self) {
	BeatBoxPlaylist* _tmp0_ = NULL;
	BeatBoxPlaylist* _tmp1_;
	BeatBoxPlaylistNameWindow* _tmp2_ = NULL;
	BeatBoxPlaylistNameWindow* _tmp3_;
	BeatBoxPlaylistNameWindow* pnw;
	g_return_if_fail (self != NULL);
	_tmp0_ = beat_box_playlist_new ();
	_tmp1_ = _tmp0_;
	_tmp2_ = beat_box_playlist_name_window_new (self->priv->lw, _tmp1_);
	_tmp3_ = g_object_ref_sink (_tmp2_);
	_g_object_unref0 (_tmp1_);
	pnw = _tmp3_;
	g_signal_connect_object (pnw, "playlist-saved", (GCallback) _beat_box_side_tree_view_playlistNameWindowSaved_beat_box_playlist_name_window_playlist_saved, self, 0);
	_g_object_unref0 (pnw);
}


void beat_box_side_tree_view_playlistMenuNewClicked (BeatBoxSideTreeView* self) {
	BEAT_BOX_SIDE_TREE_VIEW_GET_CLASS (self)->playlistMenuNewClicked (self);
}


static void beat_box_side_tree_view_real_playlistNameWindowSaved (BeatBoxSideTreeView* self, BeatBoxPlaylist* p) {
	gint _tmp0_;
	g_return_if_fail (self != NULL);
	g_return_if_fail (p != NULL);
	_tmp0_ = beat_box_playlist_get_rowid (p);
	if (_tmp0_ > 0) {
		GtkTreeIter pivot;
		pivot = self->playlists_history_iter;
		{
			gboolean _tmp1_;
			_tmp1_ = TRUE;
			while (TRUE) {
				GObject* o = NULL;
				gboolean _tmp3_ = FALSE;
				if (!_tmp1_) {
					gboolean _tmp2_;
					_tmp2_ = gtk_tree_model_iter_next ((GtkTreeModel*) self->priv->sideTreeModel, &pivot);
					if (!_tmp2_) {
						break;
					}
				}
				_tmp1_ = FALSE;
				gtk_tree_model_get ((GtkTreeModel*) self->priv->sideTreeModel, &pivot, 0, &o, -1);
				if (BEAT_BOX_IS_PLAYLIST (o)) {
					gint _tmp4_;
					gint _tmp5_;
					_tmp4_ = beat_box_playlist_get_rowid (BEAT_BOX_PLAYLIST (o));
					_tmp5_ = beat_box_playlist_get_rowid (p);
					_tmp3_ = _tmp4_ == _tmp5_;
				} else {
					_tmp3_ = FALSE;
				}
				if (_tmp3_) {
					gchar* name = NULL;
					GtkWidget* w = NULL;
					const gchar* _tmp6_ = NULL;
					GtkTreeIter* _tmp7_ = NULL;
					GtkTreeIter* _tmp8_;
					gint _tmp9_;
					GeeLinkedList* _tmp10_ = NULL;
					GeeLinkedList* _tmp11_;
					gtk_tree_model_get ((GtkTreeModel*) self->priv->sideTreeModel, &pivot, 1, &w, 2, &name, -1);
					gtk_tree_store_remove (self->priv->sideTreeModel, &pivot);
					_tmp6_ = beat_box_playlist_get_name (p);
					_tmp7_ = beat_box_side_tree_view_addItem (self, &self->playlists_iter, (GObject*) p, w, _tmp6_);
					_tmp8_ = _tmp7_;
					_g_free0 (_tmp8_);
					_tmp9_ = beat_box_playlist_get_rowid (p);
					_tmp10_ = beat_box_library_manager_songs_from_playlist (self->priv->lm, _tmp9_);
					_tmp11_ = _tmp10_;
					beat_box_music_tree_view_populateView (BEAT_BOX_MUSIC_TREE_VIEW (w), (GeeCollection*) _tmp11_, FALSE);
					_g_object_unref0 (_tmp11_);
					_g_object_unref0 (w);
					_g_free0 (name);
					_g_object_unref0 (o);
					break;
				}
				_g_object_unref0 (o);
			}
		}
	} else {
		beat_box_library_manager_add_playlist (self->priv->lm, p);
		beat_box_library_window_addSideListItem (self->priv->lw, (GObject*) p);
	}
}


void beat_box_side_tree_view_playlistNameWindowSaved (BeatBoxSideTreeView* self, BeatBoxPlaylist* p) {
	BEAT_BOX_SIDE_TREE_VIEW_GET_CLASS (self)->playlistNameWindowSaved (self, p);
}


static void beat_box_side_tree_view_real_playlistMenuEditClicked (BeatBoxSideTreeView* self) {
	GtkTreeSelection* _tmp0_ = NULL;
	GtkTreeSelection* _tmp1_;
	GtkTreeSelection* selected;
	GtkTreeModel* model = NULL;
	GtkTreeIter iter = {0};
	GtkTreeModel* _tmp2_ = NULL;
	GtkTreeIter _tmp3_ = {0};
	GtkTreeModel* _tmp4_;
	GObject* o = NULL;
	g_return_if_fail (self != NULL);
	_tmp0_ = gtk_tree_view_get_selection ((GtkTreeView*) self);
	_tmp1_ = _g_object_ref0 (_tmp0_);
	selected = _tmp1_;
	gtk_tree_selection_set_mode (selected, GTK_SELECTION_SINGLE);
	gtk_tree_selection_get_selected (selected, &_tmp2_, &_tmp3_);
	_g_object_unref0 (model);
	_tmp4_ = _g_object_ref0 (_tmp2_);
	model = _tmp4_;
	iter = _tmp3_;
	gtk_tree_model_get ((GtkTreeModel*) self->priv->sideTreeModel, &iter, 0, &o, -1);
	if (BEAT_BOX_IS_PLAYLIST (o)) {
		BeatBoxPlaylistNameWindow* _tmp5_ = NULL;
		BeatBoxPlaylistNameWindow* pnw;
		_tmp5_ = beat_box_playlist_name_window_new (self->priv->lw, BEAT_BOX_PLAYLIST (o));
		pnw = g_object_ref_sink (_tmp5_);
		g_signal_connect_object (pnw, "playlist-saved", (GCallback) _beat_box_side_tree_view_playlistNameWindowSaved_beat_box_playlist_name_window_playlist_saved, self, 0);
		_g_object_unref0 (pnw);
	} else {
		if (BEAT_BOX_IS_SMART_PLAYLIST (o)) {
			BeatBoxSmartPlaylistEditor* _tmp6_ = NULL;
			BeatBoxSmartPlaylistEditor* spe;
			_tmp6_ = beat_box_smart_playlist_editor_new (self->priv->lw, BEAT_BOX_SMART_PLAYLIST (o));
			spe = g_object_ref_sink (_tmp6_);
			g_signal_connect_object (spe, "playlist-saved", (GCallback) _beat_box_side_tree_view_smartPlaylistEditorSaved_beat_box_smart_playlist_editor_playlist_saved, self, 0);
			_g_object_unref0 (spe);
		}
	}
	_g_object_unref0 (o);
	_g_object_unref0 (model);
	_g_object_unref0 (selected);
}


void beat_box_side_tree_view_playlistMenuEditClicked (BeatBoxSideTreeView* self) {
	BEAT_BOX_SIDE_TREE_VIEW_GET_CLASS (self)->playlistMenuEditClicked (self);
}


static void beat_box_side_tree_view_real_playlistMenuRemoveClicked (BeatBoxSideTreeView* self) {
	GtkTreeSelection* _tmp0_ = NULL;
	GtkTreeSelection* _tmp1_;
	GtkTreeSelection* selected;
	GtkTreeModel* model = NULL;
	GtkTreeIter iter = {0};
	GtkTreeModel* _tmp2_ = NULL;
	GtkTreeIter _tmp3_ = {0};
	GtkTreeModel* _tmp4_;
	GObject* o = NULL;
	GtkWidget* w = NULL;
	g_return_if_fail (self != NULL);
	_tmp0_ = gtk_tree_view_get_selection ((GtkTreeView*) self);
	_tmp1_ = _g_object_ref0 (_tmp0_);
	selected = _tmp1_;
	gtk_tree_selection_set_mode (selected, GTK_SELECTION_SINGLE);
	gtk_tree_selection_get_selected (selected, &_tmp2_, &_tmp3_);
	_g_object_unref0 (model);
	_tmp4_ = _g_object_ref0 (_tmp2_);
	model = _tmp4_;
	iter = _tmp3_;
	gtk_tree_model_get ((GtkTreeModel*) self->priv->sideTreeModel, &iter, 0, &o, -1);
	gtk_tree_model_get ((GtkTreeModel*) self->priv->sideTreeModel, &iter, 1, &w, -1);
	if (BEAT_BOX_IS_PLAYLIST (o)) {
		gint _tmp5_;
		_tmp5_ = beat_box_playlist_get_rowid (BEAT_BOX_PLAYLIST (o));
		beat_box_library_manager_remove_playlist (self->priv->lm, _tmp5_);
	} else {
		if (BEAT_BOX_IS_SMART_PLAYLIST (o)) {
			gint _tmp6_;
			_tmp6_ = beat_box_smart_playlist_get_rowid (BEAT_BOX_SMART_PLAYLIST (o));
			beat_box_library_manager_remove_smart_playlist (self->priv->lm, _tmp6_);
		}
	}
	gtk_object_destroy ((GtkObject*) w);
	gtk_tree_store_remove (self->priv->sideTreeModel, &iter);
	beat_box_side_tree_view_resetView (self);
	_g_object_unref0 (w);
	_g_object_unref0 (o);
	_g_object_unref0 (model);
	_g_object_unref0 (selected);
}


void beat_box_side_tree_view_playlistMenuRemoveClicked (BeatBoxSideTreeView* self) {
	BEAT_BOX_SIDE_TREE_VIEW_GET_CLASS (self)->playlistMenuRemoveClicked (self);
}


static void beat_box_side_tree_view_real_dragReceived (BeatBoxSideTreeView* self, GdkDragContext* context, gint x, gint y, GtkSelectionData* data, guint info, guint timestamp) {
	gboolean success;
	GtkTreeIter iter = {0};
	GtkTreePath* path = NULL;
	GtkTreeViewColumn* column = NULL;
	gint cell_x = 0;
	gint cell_y = 0;
	GtkTreePath* _tmp0_ = NULL;
	GtkTreeViewColumn* _tmp1_ = NULL;
	gint _tmp2_;
	gint _tmp3_;
	GtkTreeViewColumn* _tmp4_;
	GtkTreeIter _tmp5_ = {0};
	gboolean _tmp6_;
	GObject* o = NULL;
	gchar* name = NULL;
	g_return_if_fail (self != NULL);
	g_return_if_fail (context != NULL);
	g_return_if_fail (data != NULL);
	success = FALSE;
	fprintf (stdout, "drag received\n");
	gtk_tree_view_get_path_at_pos ((GtkTreeView*) self, x, y, &_tmp0_, &_tmp1_, &_tmp2_, &_tmp3_);
	_gtk_tree_path_free0 (path);
	path = _tmp0_;
	_g_object_unref0 (column);
	_tmp4_ = _g_object_ref0 (_tmp1_);
	column = _tmp4_;
	cell_x = _tmp2_;
	cell_y = _tmp3_;
	_tmp6_ = gtk_tree_model_get_iter ((GtkTreeModel*) self->priv->sideTreeModel, &_tmp5_, path);
	iter = _tmp5_;
	if (!_tmp6_) {
		gtk_drag_finish (context, FALSE, FALSE, (guint32) timestamp);
		_g_object_unref0 (column);
		_gtk_tree_path_free0 (path);
		return;
	}
	fprintf (stdout, "continueing...\n");
	gtk_tree_model_get ((GtkTreeModel*) self->priv->sideTreeModel, &iter, 0, &o, -1);
	gtk_tree_model_get ((GtkTreeModel*) self->priv->sideTreeModel, &iter, 2, &name, -1);
	if (g_strcmp0 (name, "Queue") == 0) {
		gchar** _tmp7_;
		gchar** _tmp8_ = NULL;
		_tmp8_ = _tmp7_ = gtk_selection_data_get_uris (data);
		{
			gchar** uri_collection;
			int uri_collection_length1;
			int uri_it;
			uri_collection = _tmp8_;
			uri_collection_length1 = _vala_array_length (_tmp7_);
			for (uri_it = 0; uri_it < _vala_array_length (_tmp7_); uri_it = uri_it + 1) {
				gchar* _tmp9_;
				gchar* uri;
				_tmp9_ = g_strdup (uri_collection[uri_it]);
				uri = _tmp9_;
				{
					GFile* _tmp10_ = NULL;
					GFile* file;
					gboolean _tmp11_ = FALSE;
					GFileType _tmp12_;
					fprintf (stdout, "oh hey queue\n");
					_tmp10_ = g_file_new_for_uri (uri);
					file = _tmp10_;
					_tmp12_ = g_file_query_file_type (file, G_FILE_QUERY_INFO_NOFOLLOW_SYMLINKS, NULL);
					if (_tmp12_ == G_FILE_TYPE_REGULAR) {
						gboolean _tmp13_;
						_tmp13_ = g_file_is_native (file);
						_tmp11_ = _tmp13_;
					} else {
						_tmp11_ = FALSE;
					}
					if (_tmp11_) {
						gchar* _tmp14_ = NULL;
						gchar* _tmp15_;
						BeatBoxSong* _tmp16_ = NULL;
						BeatBoxSong* _tmp17_;
						BeatBoxSong* add;
						_tmp14_ = g_file_get_path (file);
						_tmp15_ = _tmp14_;
						_tmp16_ = beat_box_library_manager_song_from_file (self->priv->lm, _tmp15_);
						_tmp17_ = _tmp16_;
						_g_free0 (_tmp15_);
						add = _tmp17_;
						if (add != NULL) {
							gint _tmp18_;
							_tmp18_ = beat_box_song_get_rowid (add);
							beat_box_library_manager_queue_song_by_id (self->priv->lm, _tmp18_);
							success = TRUE;
						}
						_g_object_unref0 (add);
					}
					_g_object_unref0 (file);
					_g_free0 (uri);
				}
			}
			uri_collection = (_vala_array_free (uri_collection, uri_collection_length1, (GDestroyNotify) g_free), NULL);
		}
	} else {
		if (BEAT_BOX_IS_PLAYLIST (o)) {
			BeatBoxPlaylist* _tmp19_;
			BeatBoxPlaylist* p;
			gchar** _tmp20_;
			gchar** _tmp21_ = NULL;
			_tmp19_ = _g_object_ref0 (BEAT_BOX_PLAYLIST (o));
			p = _tmp19_;
			fprintf (stdout, "playlist nerd\n");
			_tmp21_ = _tmp20_ = gtk_selection_data_get_uris (data);
			{
				gchar** uri_collection;
				int uri_collection_length1;
				int uri_it;
				uri_collection = _tmp21_;
				uri_collection_length1 = _vala_array_length (_tmp20_);
				for (uri_it = 0; uri_it < _vala_array_length (_tmp20_); uri_it = uri_it + 1) {
					gchar* _tmp22_;
					gchar* uri;
					_tmp22_ = g_strdup (uri_collection[uri_it]);
					uri = _tmp22_;
					{
						GFile* _tmp23_ = NULL;
						GFile* file;
						gboolean _tmp24_ = FALSE;
						GFileType _tmp25_;
						_tmp23_ = g_file_new_for_uri (uri);
						file = _tmp23_;
						_tmp25_ = g_file_query_file_type (file, G_FILE_QUERY_INFO_NOFOLLOW_SYMLINKS, NULL);
						if (_tmp25_ == G_FILE_TYPE_REGULAR) {
							gboolean _tmp26_;
							_tmp26_ = g_file_is_native (file);
							_tmp24_ = _tmp26_;
						} else {
							_tmp24_ = FALSE;
						}
						if (_tmp24_) {
							gchar* _tmp27_ = NULL;
							gchar* _tmp28_;
							BeatBoxSong* _tmp29_ = NULL;
							BeatBoxSong* _tmp30_;
							BeatBoxSong* add;
							_tmp27_ = g_file_get_path (file);
							_tmp28_ = _tmp27_;
							_tmp29_ = beat_box_library_manager_song_from_file (self->priv->lm, _tmp28_);
							_tmp30_ = _tmp29_;
							_g_free0 (_tmp28_);
							add = _tmp30_;
							if (add != NULL) {
								beat_box_playlist_addSong (p, add);
								success = TRUE;
							}
							_g_object_unref0 (add);
						}
						_g_object_unref0 (file);
						_g_free0 (uri);
					}
				}
				uri_collection = (_vala_array_free (uri_collection, uri_collection_length1, (GDestroyNotify) g_free), NULL);
			}
			_g_object_unref0 (p);
		}
	}
	gtk_drag_finish (context, success, FALSE, (guint32) timestamp);
	_g_free0 (name);
	_g_object_unref0 (o);
	_g_object_unref0 (column);
	_gtk_tree_path_free0 (path);
}


void beat_box_side_tree_view_dragReceived (BeatBoxSideTreeView* self, GdkDragContext* context, gint x, gint y, GtkSelectionData* data, guint info, guint timestamp) {
	BEAT_BOX_SIDE_TREE_VIEW_GET_CLASS (self)->dragReceived (self, context, x, y, data, info, timestamp);
}


static void beat_box_side_tree_view_class_init (BeatBoxSideTreeViewClass * klass) {
	beat_box_side_tree_view_parent_class = g_type_class_peek_parent (klass);
	g_type_class_add_private (klass, sizeof (BeatBoxSideTreeViewPrivate));
	BEAT_BOX_SIDE_TREE_VIEW_CLASS (klass)->sideListSelectionChange = beat_box_side_tree_view_real_sideListSelectionChange;
	BEAT_BOX_SIDE_TREE_VIEW_CLASS (klass)->sideListClick = beat_box_side_tree_view_real_sideListClick;
	BEAT_BOX_SIDE_TREE_VIEW_CLASS (klass)->smartPlaylistMenuNewClicked = beat_box_side_tree_view_real_smartPlaylistMenuNewClicked;
	BEAT_BOX_SIDE_TREE_VIEW_CLASS (klass)->smartPlaylistEditorSaved = beat_box_side_tree_view_real_smartPlaylistEditorSaved;
	BEAT_BOX_SIDE_TREE_VIEW_CLASS (klass)->playlistMenuNewClicked = beat_box_side_tree_view_real_playlistMenuNewClicked;
	BEAT_BOX_SIDE_TREE_VIEW_CLASS (klass)->playlistNameWindowSaved = beat_box_side_tree_view_real_playlistNameWindowSaved;
	BEAT_BOX_SIDE_TREE_VIEW_CLASS (klass)->playlistMenuEditClicked = beat_box_side_tree_view_real_playlistMenuEditClicked;
	BEAT_BOX_SIDE_TREE_VIEW_CLASS (klass)->playlistMenuRemoveClicked = beat_box_side_tree_view_real_playlistMenuRemoveClicked;
	BEAT_BOX_SIDE_TREE_VIEW_CLASS (klass)->dragReceived = beat_box_side_tree_view_real_dragReceived;
	G_OBJECT_CLASS (klass)->finalize = beat_box_side_tree_view_finalize;
}


static void beat_box_side_tree_view_instance_init (BeatBoxSideTreeView * self) {
	self->priv = BEAT_BOX_SIDE_TREE_VIEW_GET_PRIVATE (self);
}


static void beat_box_side_tree_view_finalize (GObject* obj) {
	BeatBoxSideTreeView * self;
	self = BEAT_BOX_SIDE_TREE_VIEW (obj);
	_g_object_unref0 (self->priv->lm);
	_g_object_unref0 (self->priv->lw);
	_g_object_unref0 (self->priv->sideTreeModel);
	_g_object_unref0 (self->priv->playlistMenu);
	_g_object_unref0 (self->priv->playlistNew);
	_g_object_unref0 (self->priv->smartPlaylistNew);
	_g_object_unref0 (self->priv->playlistEdit);
	_g_object_unref0 (self->priv->playlistRemove);
	_g_object_unref0 (self->priv->current_widget);
	G_OBJECT_CLASS (beat_box_side_tree_view_parent_class)->finalize (obj);
}


GType beat_box_side_tree_view_get_type (void) {
	static volatile gsize beat_box_side_tree_view_type_id__volatile = 0;
	if (g_once_init_enter (&beat_box_side_tree_view_type_id__volatile)) {
		static const GTypeInfo g_define_type_info = { sizeof (BeatBoxSideTreeViewClass), (GBaseInitFunc) NULL, (GBaseFinalizeFunc) NULL, (GClassInitFunc) beat_box_side_tree_view_class_init, (GClassFinalizeFunc) NULL, NULL, sizeof (BeatBoxSideTreeView), 0, (GInstanceInitFunc) beat_box_side_tree_view_instance_init, NULL };
		GType beat_box_side_tree_view_type_id;
		beat_box_side_tree_view_type_id = g_type_register_static (GTK_TYPE_TREE_VIEW, "BeatBoxSideTreeView", &g_define_type_info, 0);
		g_once_init_leave (&beat_box_side_tree_view_type_id__volatile, beat_box_side_tree_view_type_id);
	}
	return beat_box_side_tree_view_type_id__volatile;
}


static void _vala_array_destroy (gpointer array, gint array_length, GDestroyNotify destroy_func) {
	if ((array != NULL) && (destroy_func != NULL)) {
		int i;
		for (i = 0; i < array_length; i = i + 1) {
			if (((gpointer*) array)[i] != NULL) {
				destroy_func (((gpointer*) array)[i]);
			}
		}
	}
}


static void _vala_array_free (gpointer array, gint array_length, GDestroyNotify destroy_func) {
	_vala_array_destroy (array, array_length, destroy_func);
	g_free (array);
}


static gint _vala_array_length (gpointer array) {
	int length;
	length = 0;
	if (array) {
		while (((gpointer*) array)[length]) {
			length++;
		}
	}
	return length;
}



