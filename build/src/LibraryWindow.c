/* LibraryWindow.c generated by valac 0.11.6, the Vala compiler
 * generated from LibraryWindow.vala, do not modify */


#include <glib.h>
#include <glib-object.h>
#include <gtk/gtk.h>
#include <stdlib.h>
#include <string.h>
#include <float.h>
#include <math.h>
#include <gee.h>
#include <gdk/gdk.h>
#include <libnotify/notify.h>
#include <stdio.h>
#include <gio/gio.h>
#include <gdk-pixbuf/gdk-pixdata.h>
#include <time.h>


#define BEAT_BOX_TYPE_LIBRARY_WINDOW (beat_box_library_window_get_type ())
#define BEAT_BOX_LIBRARY_WINDOW(obj) (G_TYPE_CHECK_INSTANCE_CAST ((obj), BEAT_BOX_TYPE_LIBRARY_WINDOW, BeatBoxLibraryWindow))
#define BEAT_BOX_LIBRARY_WINDOW_CLASS(klass) (G_TYPE_CHECK_CLASS_CAST ((klass), BEAT_BOX_TYPE_LIBRARY_WINDOW, BeatBoxLibraryWindowClass))
#define BEAT_BOX_IS_LIBRARY_WINDOW(obj) (G_TYPE_CHECK_INSTANCE_TYPE ((obj), BEAT_BOX_TYPE_LIBRARY_WINDOW))
#define BEAT_BOX_IS_LIBRARY_WINDOW_CLASS(klass) (G_TYPE_CHECK_CLASS_TYPE ((klass), BEAT_BOX_TYPE_LIBRARY_WINDOW))
#define BEAT_BOX_LIBRARY_WINDOW_GET_CLASS(obj) (G_TYPE_INSTANCE_GET_CLASS ((obj), BEAT_BOX_TYPE_LIBRARY_WINDOW, BeatBoxLibraryWindowClass))

typedef struct _BeatBoxLibraryWindow BeatBoxLibraryWindow;
typedef struct _BeatBoxLibraryWindowClass BeatBoxLibraryWindowClass;
typedef struct _BeatBoxLibraryWindowPrivate BeatBoxLibraryWindowPrivate;

#define BEAT_BOX_TYPE_SONG (beat_box_song_get_type ())
#define BEAT_BOX_SONG(obj) (G_TYPE_CHECK_INSTANCE_CAST ((obj), BEAT_BOX_TYPE_SONG, BeatBoxSong))
#define BEAT_BOX_SONG_CLASS(klass) (G_TYPE_CHECK_CLASS_CAST ((klass), BEAT_BOX_TYPE_SONG, BeatBoxSongClass))
#define BEAT_BOX_IS_SONG(obj) (G_TYPE_CHECK_INSTANCE_TYPE ((obj), BEAT_BOX_TYPE_SONG))
#define BEAT_BOX_IS_SONG_CLASS(klass) (G_TYPE_CHECK_CLASS_TYPE ((klass), BEAT_BOX_TYPE_SONG))
#define BEAT_BOX_SONG_GET_CLASS(obj) (G_TYPE_INSTANCE_GET_CLASS ((obj), BEAT_BOX_TYPE_SONG, BeatBoxSongClass))

typedef struct _BeatBoxSong BeatBoxSong;
typedef struct _BeatBoxSongClass BeatBoxSongClass;

#define ELEMENTARY_WIDGETS_TYPE_ELEMENTARY_ENTRY (elementary_widgets_elementary_entry_get_type ())
#define ELEMENTARY_WIDGETS_ELEMENTARY_ENTRY(obj) (G_TYPE_CHECK_INSTANCE_CAST ((obj), ELEMENTARY_WIDGETS_TYPE_ELEMENTARY_ENTRY, ElementaryWidgetsElementaryEntry))
#define ELEMENTARY_WIDGETS_ELEMENTARY_ENTRY_CLASS(klass) (G_TYPE_CHECK_CLASS_CAST ((klass), ELEMENTARY_WIDGETS_TYPE_ELEMENTARY_ENTRY, ElementaryWidgetsElementaryEntryClass))
#define ELEMENTARY_WIDGETS_IS_ELEMENTARY_ENTRY(obj) (G_TYPE_CHECK_INSTANCE_TYPE ((obj), ELEMENTARY_WIDGETS_TYPE_ELEMENTARY_ENTRY))
#define ELEMENTARY_WIDGETS_IS_ELEMENTARY_ENTRY_CLASS(klass) (G_TYPE_CHECK_CLASS_TYPE ((klass), ELEMENTARY_WIDGETS_TYPE_ELEMENTARY_ENTRY))
#define ELEMENTARY_WIDGETS_ELEMENTARY_ENTRY_GET_CLASS(obj) (G_TYPE_INSTANCE_GET_CLASS ((obj), ELEMENTARY_WIDGETS_TYPE_ELEMENTARY_ENTRY, ElementaryWidgetsElementaryEntryClass))

typedef struct _ElementaryWidgetsElementaryEntry ElementaryWidgetsElementaryEntry;
typedef struct _ElementaryWidgetsElementaryEntryClass ElementaryWidgetsElementaryEntryClass;

#define ELEMENTARY_WIDGETS_TYPE_ELEMENTARY_SEARCH_ENTRY (elementary_widgets_elementary_search_entry_get_type ())
#define ELEMENTARY_WIDGETS_ELEMENTARY_SEARCH_ENTRY(obj) (G_TYPE_CHECK_INSTANCE_CAST ((obj), ELEMENTARY_WIDGETS_TYPE_ELEMENTARY_SEARCH_ENTRY, ElementaryWidgetsElementarySearchEntry))
#define ELEMENTARY_WIDGETS_ELEMENTARY_SEARCH_ENTRY_CLASS(klass) (G_TYPE_CHECK_CLASS_CAST ((klass), ELEMENTARY_WIDGETS_TYPE_ELEMENTARY_SEARCH_ENTRY, ElementaryWidgetsElementarySearchEntryClass))
#define ELEMENTARY_WIDGETS_IS_ELEMENTARY_SEARCH_ENTRY(obj) (G_TYPE_CHECK_INSTANCE_TYPE ((obj), ELEMENTARY_WIDGETS_TYPE_ELEMENTARY_SEARCH_ENTRY))
#define ELEMENTARY_WIDGETS_IS_ELEMENTARY_SEARCH_ENTRY_CLASS(klass) (G_TYPE_CHECK_CLASS_TYPE ((klass), ELEMENTARY_WIDGETS_TYPE_ELEMENTARY_SEARCH_ENTRY))
#define ELEMENTARY_WIDGETS_ELEMENTARY_SEARCH_ENTRY_GET_CLASS(obj) (G_TYPE_INSTANCE_GET_CLASS ((obj), ELEMENTARY_WIDGETS_TYPE_ELEMENTARY_SEARCH_ENTRY, ElementaryWidgetsElementarySearchEntryClass))

typedef struct _ElementaryWidgetsElementarySearchEntry ElementaryWidgetsElementarySearchEntry;
typedef struct _ElementaryWidgetsElementarySearchEntryClass ElementaryWidgetsElementarySearchEntryClass;

#define BEAT_BOX_TYPE_LIBRARY_MANAGER (beat_box_library_manager_get_type ())
#define BEAT_BOX_LIBRARY_MANAGER(obj) (G_TYPE_CHECK_INSTANCE_CAST ((obj), BEAT_BOX_TYPE_LIBRARY_MANAGER, BeatBoxLibraryManager))
#define BEAT_BOX_LIBRARY_MANAGER_CLASS(klass) (G_TYPE_CHECK_CLASS_CAST ((klass), BEAT_BOX_TYPE_LIBRARY_MANAGER, BeatBoxLibraryManagerClass))
#define BEAT_BOX_IS_LIBRARY_MANAGER(obj) (G_TYPE_CHECK_INSTANCE_TYPE ((obj), BEAT_BOX_TYPE_LIBRARY_MANAGER))
#define BEAT_BOX_IS_LIBRARY_MANAGER_CLASS(klass) (G_TYPE_CHECK_CLASS_TYPE ((klass), BEAT_BOX_TYPE_LIBRARY_MANAGER))
#define BEAT_BOX_LIBRARY_MANAGER_GET_CLASS(obj) (G_TYPE_INSTANCE_GET_CLASS ((obj), BEAT_BOX_TYPE_LIBRARY_MANAGER, BeatBoxLibraryManagerClass))

typedef struct _BeatBoxLibraryManager BeatBoxLibraryManager;
typedef struct _BeatBoxLibraryManagerClass BeatBoxLibraryManagerClass;

#define BEAT_BOX_TYPE_SETTINGS (beat_box_settings_get_type ())
#define BEAT_BOX_SETTINGS(obj) (G_TYPE_CHECK_INSTANCE_CAST ((obj), BEAT_BOX_TYPE_SETTINGS, BeatBoxSettings))
#define BEAT_BOX_SETTINGS_CLASS(klass) (G_TYPE_CHECK_CLASS_CAST ((klass), BEAT_BOX_TYPE_SETTINGS, BeatBoxSettingsClass))
#define BEAT_BOX_IS_SETTINGS(obj) (G_TYPE_CHECK_INSTANCE_TYPE ((obj), BEAT_BOX_TYPE_SETTINGS))
#define BEAT_BOX_IS_SETTINGS_CLASS(klass) (G_TYPE_CHECK_CLASS_TYPE ((klass), BEAT_BOX_TYPE_SETTINGS))
#define BEAT_BOX_SETTINGS_GET_CLASS(obj) (G_TYPE_INSTANCE_GET_CLASS ((obj), BEAT_BOX_TYPE_SETTINGS, BeatBoxSettingsClass))

typedef struct _BeatBoxSettings BeatBoxSettings;
typedef struct _BeatBoxSettingsClass BeatBoxSettingsClass;

#define LAST_FM_TYPE_SIMILAR_SONGS (last_fm_similar_songs_get_type ())
#define LAST_FM_SIMILAR_SONGS(obj) (G_TYPE_CHECK_INSTANCE_CAST ((obj), LAST_FM_TYPE_SIMILAR_SONGS, LastFMSimilarSongs))
#define LAST_FM_SIMILAR_SONGS_CLASS(klass) (G_TYPE_CHECK_CLASS_CAST ((klass), LAST_FM_TYPE_SIMILAR_SONGS, LastFMSimilarSongsClass))
#define LAST_FM_IS_SIMILAR_SONGS(obj) (G_TYPE_CHECK_INSTANCE_TYPE ((obj), LAST_FM_TYPE_SIMILAR_SONGS))
#define LAST_FM_IS_SIMILAR_SONGS_CLASS(klass) (G_TYPE_CHECK_CLASS_TYPE ((klass), LAST_FM_TYPE_SIMILAR_SONGS))
#define LAST_FM_SIMILAR_SONGS_GET_CLASS(obj) (G_TYPE_INSTANCE_GET_CLASS ((obj), LAST_FM_TYPE_SIMILAR_SONGS, LastFMSimilarSongsClass))

typedef struct _LastFMSimilarSongs LastFMSimilarSongs;
typedef struct _LastFMSimilarSongsClass LastFMSimilarSongsClass;

#define BEAT_BOX_TYPE_MEDIA_KEY_LISTENER (beat_box_media_key_listener_get_type ())
#define BEAT_BOX_MEDIA_KEY_LISTENER(obj) (G_TYPE_CHECK_INSTANCE_CAST ((obj), BEAT_BOX_TYPE_MEDIA_KEY_LISTENER, BeatBoxMediaKeyListener))
#define BEAT_BOX_MEDIA_KEY_LISTENER_CLASS(klass) (G_TYPE_CHECK_CLASS_CAST ((klass), BEAT_BOX_TYPE_MEDIA_KEY_LISTENER, BeatBoxMediaKeyListenerClass))
#define BEAT_BOX_IS_MEDIA_KEY_LISTENER(obj) (G_TYPE_CHECK_INSTANCE_TYPE ((obj), BEAT_BOX_TYPE_MEDIA_KEY_LISTENER))
#define BEAT_BOX_IS_MEDIA_KEY_LISTENER_CLASS(klass) (G_TYPE_CHECK_CLASS_TYPE ((klass), BEAT_BOX_TYPE_MEDIA_KEY_LISTENER))
#define BEAT_BOX_MEDIA_KEY_LISTENER_GET_CLASS(obj) (G_TYPE_INSTANCE_GET_CLASS ((obj), BEAT_BOX_TYPE_MEDIA_KEY_LISTENER, BeatBoxMediaKeyListenerClass))

typedef struct _BeatBoxMediaKeyListener BeatBoxMediaKeyListener;
typedef struct _BeatBoxMediaKeyListenerClass BeatBoxMediaKeyListenerClass;

#define ELEMENTARY_WIDGETS_TYPE_WELCOME (elementary_widgets_welcome_get_type ())
#define ELEMENTARY_WIDGETS_WELCOME(obj) (G_TYPE_CHECK_INSTANCE_CAST ((obj), ELEMENTARY_WIDGETS_TYPE_WELCOME, ElementaryWidgetsWelcome))
#define ELEMENTARY_WIDGETS_WELCOME_CLASS(klass) (G_TYPE_CHECK_CLASS_CAST ((klass), ELEMENTARY_WIDGETS_TYPE_WELCOME, ElementaryWidgetsWelcomeClass))
#define ELEMENTARY_WIDGETS_IS_WELCOME(obj) (G_TYPE_CHECK_INSTANCE_TYPE ((obj), ELEMENTARY_WIDGETS_TYPE_WELCOME))
#define ELEMENTARY_WIDGETS_IS_WELCOME_CLASS(klass) (G_TYPE_CHECK_CLASS_TYPE ((klass), ELEMENTARY_WIDGETS_TYPE_WELCOME))
#define ELEMENTARY_WIDGETS_WELCOME_GET_CLASS(obj) (G_TYPE_INSTANCE_GET_CLASS ((obj), ELEMENTARY_WIDGETS_TYPE_WELCOME, ElementaryWidgetsWelcomeClass))

typedef struct _ElementaryWidgetsWelcome ElementaryWidgetsWelcome;
typedef struct _ElementaryWidgetsWelcomeClass ElementaryWidgetsWelcomeClass;

#define BEAT_BOX_TYPE_SIDE_TREE_VIEW (beat_box_side_tree_view_get_type ())
#define BEAT_BOX_SIDE_TREE_VIEW(obj) (G_TYPE_CHECK_INSTANCE_CAST ((obj), BEAT_BOX_TYPE_SIDE_TREE_VIEW, BeatBoxSideTreeView))
#define BEAT_BOX_SIDE_TREE_VIEW_CLASS(klass) (G_TYPE_CHECK_CLASS_CAST ((klass), BEAT_BOX_TYPE_SIDE_TREE_VIEW, BeatBoxSideTreeViewClass))
#define BEAT_BOX_IS_SIDE_TREE_VIEW(obj) (G_TYPE_CHECK_INSTANCE_TYPE ((obj), BEAT_BOX_TYPE_SIDE_TREE_VIEW))
#define BEAT_BOX_IS_SIDE_TREE_VIEW_CLASS(klass) (G_TYPE_CHECK_CLASS_TYPE ((klass), BEAT_BOX_TYPE_SIDE_TREE_VIEW))
#define BEAT_BOX_SIDE_TREE_VIEW_GET_CLASS(obj) (G_TYPE_INSTANCE_GET_CLASS ((obj), BEAT_BOX_TYPE_SIDE_TREE_VIEW, BeatBoxSideTreeViewClass))

typedef struct _BeatBoxSideTreeView BeatBoxSideTreeView;
typedef struct _BeatBoxSideTreeViewClass BeatBoxSideTreeViewClass;

#define BEAT_BOX_TYPE_INFO_PANEL (beat_box_info_panel_get_type ())
#define BEAT_BOX_INFO_PANEL(obj) (G_TYPE_CHECK_INSTANCE_CAST ((obj), BEAT_BOX_TYPE_INFO_PANEL, BeatBoxInfoPanel))
#define BEAT_BOX_INFO_PANEL_CLASS(klass) (G_TYPE_CHECK_CLASS_CAST ((klass), BEAT_BOX_TYPE_INFO_PANEL, BeatBoxInfoPanelClass))
#define BEAT_BOX_IS_INFO_PANEL(obj) (G_TYPE_CHECK_INSTANCE_TYPE ((obj), BEAT_BOX_TYPE_INFO_PANEL))
#define BEAT_BOX_IS_INFO_PANEL_CLASS(klass) (G_TYPE_CHECK_CLASS_TYPE ((klass), BEAT_BOX_TYPE_INFO_PANEL))
#define BEAT_BOX_INFO_PANEL_GET_CLASS(obj) (G_TYPE_INSTANCE_GET_CLASS ((obj), BEAT_BOX_TYPE_INFO_PANEL, BeatBoxInfoPanelClass))

typedef struct _BeatBoxInfoPanel BeatBoxInfoPanel;
typedef struct _BeatBoxInfoPanelClass BeatBoxInfoPanelClass;

#define ELEMENTARY_WIDGETS_TYPE_TOP_DISPLAY (elementary_widgets_top_display_get_type ())
#define ELEMENTARY_WIDGETS_TOP_DISPLAY(obj) (G_TYPE_CHECK_INSTANCE_CAST ((obj), ELEMENTARY_WIDGETS_TYPE_TOP_DISPLAY, ElementaryWidgetsTopDisplay))
#define ELEMENTARY_WIDGETS_TOP_DISPLAY_CLASS(klass) (G_TYPE_CHECK_CLASS_CAST ((klass), ELEMENTARY_WIDGETS_TYPE_TOP_DISPLAY, ElementaryWidgetsTopDisplayClass))
#define ELEMENTARY_WIDGETS_IS_TOP_DISPLAY(obj) (G_TYPE_CHECK_INSTANCE_TYPE ((obj), ELEMENTARY_WIDGETS_TYPE_TOP_DISPLAY))
#define ELEMENTARY_WIDGETS_IS_TOP_DISPLAY_CLASS(klass) (G_TYPE_CHECK_CLASS_TYPE ((klass), ELEMENTARY_WIDGETS_TYPE_TOP_DISPLAY))
#define ELEMENTARY_WIDGETS_TOP_DISPLAY_GET_CLASS(obj) (G_TYPE_INSTANCE_GET_CLASS ((obj), ELEMENTARY_WIDGETS_TYPE_TOP_DISPLAY, ElementaryWidgetsTopDisplayClass))

typedef struct _ElementaryWidgetsTopDisplay ElementaryWidgetsTopDisplay;
typedef struct _ElementaryWidgetsTopDisplayClass ElementaryWidgetsTopDisplayClass;

#define TYPE_TOOL_BUTTON_WITH_MENU (tool_button_with_menu_get_type ())
#define TOOL_BUTTON_WITH_MENU(obj) (G_TYPE_CHECK_INSTANCE_CAST ((obj), TYPE_TOOL_BUTTON_WITH_MENU, ToolButtonWithMenu))
#define TOOL_BUTTON_WITH_MENU_CLASS(klass) (G_TYPE_CHECK_CLASS_CAST ((klass), TYPE_TOOL_BUTTON_WITH_MENU, ToolButtonWithMenuClass))
#define IS_TOOL_BUTTON_WITH_MENU(obj) (G_TYPE_CHECK_INSTANCE_TYPE ((obj), TYPE_TOOL_BUTTON_WITH_MENU))
#define IS_TOOL_BUTTON_WITH_MENU_CLASS(klass) (G_TYPE_CHECK_CLASS_TYPE ((klass), TYPE_TOOL_BUTTON_WITH_MENU))
#define TOOL_BUTTON_WITH_MENU_GET_CLASS(obj) (G_TYPE_INSTANCE_GET_CLASS ((obj), TYPE_TOOL_BUTTON_WITH_MENU, ToolButtonWithMenuClass))

typedef struct _ToolButtonWithMenu ToolButtonWithMenu;
typedef struct _ToolButtonWithMenuClass ToolButtonWithMenuClass;

#define ELEMENTARY_WIDGETS_TYPE_APP_MENU (elementary_widgets_app_menu_get_type ())
#define ELEMENTARY_WIDGETS_APP_MENU(obj) (G_TYPE_CHECK_INSTANCE_CAST ((obj), ELEMENTARY_WIDGETS_TYPE_APP_MENU, ElementaryWidgetsAppMenu))
#define ELEMENTARY_WIDGETS_APP_MENU_CLASS(klass) (G_TYPE_CHECK_CLASS_CAST ((klass), ELEMENTARY_WIDGETS_TYPE_APP_MENU, ElementaryWidgetsAppMenuClass))
#define ELEMENTARY_WIDGETS_IS_APP_MENU(obj) (G_TYPE_CHECK_INSTANCE_TYPE ((obj), ELEMENTARY_WIDGETS_TYPE_APP_MENU))
#define ELEMENTARY_WIDGETS_IS_APP_MENU_CLASS(klass) (G_TYPE_CHECK_CLASS_TYPE ((klass), ELEMENTARY_WIDGETS_TYPE_APP_MENU))
#define ELEMENTARY_WIDGETS_APP_MENU_GET_CLASS(obj) (G_TYPE_INSTANCE_GET_CLASS ((obj), ELEMENTARY_WIDGETS_TYPE_APP_MENU, ElementaryWidgetsAppMenuClass))

typedef struct _ElementaryWidgetsAppMenu ElementaryWidgetsAppMenu;
typedef struct _ElementaryWidgetsAppMenuClass ElementaryWidgetsAppMenuClass;
#define _g_object_unref0(var) ((var == NULL) ? NULL : (var = (g_object_unref (var), NULL)))
#define _g_free0(var) (var = (g_free (var), NULL))

#define BEAT_BOX_TYPE_DATA_BASE_MANAGER (beat_box_data_base_manager_get_type ())
#define BEAT_BOX_DATA_BASE_MANAGER(obj) (G_TYPE_CHECK_INSTANCE_CAST ((obj), BEAT_BOX_TYPE_DATA_BASE_MANAGER, BeatBoxDataBaseManager))
#define BEAT_BOX_DATA_BASE_MANAGER_CLASS(klass) (G_TYPE_CHECK_CLASS_CAST ((klass), BEAT_BOX_TYPE_DATA_BASE_MANAGER, BeatBoxDataBaseManagerClass))
#define BEAT_BOX_IS_DATA_BASE_MANAGER(obj) (G_TYPE_CHECK_INSTANCE_TYPE ((obj), BEAT_BOX_TYPE_DATA_BASE_MANAGER))
#define BEAT_BOX_IS_DATA_BASE_MANAGER_CLASS(klass) (G_TYPE_CHECK_CLASS_TYPE ((klass), BEAT_BOX_TYPE_DATA_BASE_MANAGER))
#define BEAT_BOX_DATA_BASE_MANAGER_GET_CLASS(obj) (G_TYPE_INSTANCE_GET_CLASS ((obj), BEAT_BOX_TYPE_DATA_BASE_MANAGER, BeatBoxDataBaseManagerClass))

typedef struct _BeatBoxDataBaseManager BeatBoxDataBaseManager;
typedef struct _BeatBoxDataBaseManagerClass BeatBoxDataBaseManagerClass;

#define BEAT_BOX_TYPE_STREAM_PLAYER (beat_box_stream_player_get_type ())
#define BEAT_BOX_STREAM_PLAYER(obj) (G_TYPE_CHECK_INSTANCE_CAST ((obj), BEAT_BOX_TYPE_STREAM_PLAYER, BeatBoxStreamPlayer))
#define BEAT_BOX_STREAM_PLAYER_CLASS(klass) (G_TYPE_CHECK_CLASS_CAST ((klass), BEAT_BOX_TYPE_STREAM_PLAYER, BeatBoxStreamPlayerClass))
#define BEAT_BOX_IS_STREAM_PLAYER(obj) (G_TYPE_CHECK_INSTANCE_TYPE ((obj), BEAT_BOX_TYPE_STREAM_PLAYER))
#define BEAT_BOX_IS_STREAM_PLAYER_CLASS(klass) (G_TYPE_CHECK_CLASS_TYPE ((klass), BEAT_BOX_TYPE_STREAM_PLAYER))
#define BEAT_BOX_STREAM_PLAYER_GET_CLASS(obj) (G_TYPE_INSTANCE_GET_CLASS ((obj), BEAT_BOX_TYPE_STREAM_PLAYER, BeatBoxStreamPlayerClass))

typedef struct _BeatBoxStreamPlayer BeatBoxStreamPlayer;
typedef struct _BeatBoxStreamPlayerClass BeatBoxStreamPlayerClass;
typedef struct _BeatBoxLibraryManagerPrivate BeatBoxLibraryManagerPrivate;

#define BEAT_BOX_TYPE_DATA_BASE_UPDATER (beat_box_data_base_updater_get_type ())
#define BEAT_BOX_DATA_BASE_UPDATER(obj) (G_TYPE_CHECK_INSTANCE_CAST ((obj), BEAT_BOX_TYPE_DATA_BASE_UPDATER, BeatBoxDataBaseUpdater))
#define BEAT_BOX_DATA_BASE_UPDATER_CLASS(klass) (G_TYPE_CHECK_CLASS_CAST ((klass), BEAT_BOX_TYPE_DATA_BASE_UPDATER, BeatBoxDataBaseUpdaterClass))
#define BEAT_BOX_IS_DATA_BASE_UPDATER(obj) (G_TYPE_CHECK_INSTANCE_TYPE ((obj), BEAT_BOX_TYPE_DATA_BASE_UPDATER))
#define BEAT_BOX_IS_DATA_BASE_UPDATER_CLASS(klass) (G_TYPE_CHECK_CLASS_TYPE ((klass), BEAT_BOX_TYPE_DATA_BASE_UPDATER))
#define BEAT_BOX_DATA_BASE_UPDATER_GET_CLASS(obj) (G_TYPE_INSTANCE_GET_CLASS ((obj), BEAT_BOX_TYPE_DATA_BASE_UPDATER, BeatBoxDataBaseUpdaterClass))

typedef struct _BeatBoxDataBaseUpdater BeatBoxDataBaseUpdater;
typedef struct _BeatBoxDataBaseUpdaterClass BeatBoxDataBaseUpdaterClass;

#define BEAT_BOX_TYPE_FILE_OPERATOR (beat_box_file_operator_get_type ())
#define BEAT_BOX_FILE_OPERATOR(obj) (G_TYPE_CHECK_INSTANCE_CAST ((obj), BEAT_BOX_TYPE_FILE_OPERATOR, BeatBoxFileOperator))
#define BEAT_BOX_FILE_OPERATOR_CLASS(klass) (G_TYPE_CHECK_CLASS_CAST ((klass), BEAT_BOX_TYPE_FILE_OPERATOR, BeatBoxFileOperatorClass))
#define BEAT_BOX_IS_FILE_OPERATOR(obj) (G_TYPE_CHECK_INSTANCE_TYPE ((obj), BEAT_BOX_TYPE_FILE_OPERATOR))
#define BEAT_BOX_IS_FILE_OPERATOR_CLASS(klass) (G_TYPE_CHECK_CLASS_TYPE ((klass), BEAT_BOX_TYPE_FILE_OPERATOR))
#define BEAT_BOX_FILE_OPERATOR_GET_CLASS(obj) (G_TYPE_INSTANCE_GET_CLASS ((obj), BEAT_BOX_TYPE_FILE_OPERATOR, BeatBoxFileOperatorClass))

typedef struct _BeatBoxFileOperator BeatBoxFileOperator;
typedef struct _BeatBoxFileOperatorClass BeatBoxFileOperatorClass;

#define LAST_FM_TYPE_CORE (last_fm_core_get_type ())
#define LAST_FM_CORE(obj) (G_TYPE_CHECK_INSTANCE_CAST ((obj), LAST_FM_TYPE_CORE, LastFMCore))
#define LAST_FM_CORE_CLASS(klass) (G_TYPE_CHECK_CLASS_CAST ((klass), LAST_FM_TYPE_CORE, LastFMCoreClass))
#define LAST_FM_IS_CORE(obj) (G_TYPE_CHECK_INSTANCE_TYPE ((obj), LAST_FM_TYPE_CORE))
#define LAST_FM_IS_CORE_CLASS(klass) (G_TYPE_CHECK_CLASS_TYPE ((klass), LAST_FM_TYPE_CORE))
#define LAST_FM_CORE_GET_CLASS(obj) (G_TYPE_INSTANCE_GET_CLASS ((obj), LAST_FM_TYPE_CORE, LastFMCoreClass))

typedef struct _LastFMCore LastFMCore;
typedef struct _LastFMCoreClass LastFMCoreClass;

#define BEAT_BOX_TYPE_TREE_VIEW_SETUP (beat_box_tree_view_setup_get_type ())
#define BEAT_BOX_TREE_VIEW_SETUP(obj) (G_TYPE_CHECK_INSTANCE_CAST ((obj), BEAT_BOX_TYPE_TREE_VIEW_SETUP, BeatBoxTreeViewSetup))
#define BEAT_BOX_TREE_VIEW_SETUP_CLASS(klass) (G_TYPE_CHECK_CLASS_CAST ((klass), BEAT_BOX_TYPE_TREE_VIEW_SETUP, BeatBoxTreeViewSetupClass))
#define BEAT_BOX_IS_TREE_VIEW_SETUP(obj) (G_TYPE_CHECK_INSTANCE_TYPE ((obj), BEAT_BOX_TYPE_TREE_VIEW_SETUP))
#define BEAT_BOX_IS_TREE_VIEW_SETUP_CLASS(klass) (G_TYPE_CHECK_CLASS_TYPE ((klass), BEAT_BOX_TYPE_TREE_VIEW_SETUP))
#define BEAT_BOX_TREE_VIEW_SETUP_GET_CLASS(obj) (G_TYPE_INSTANCE_GET_CLASS ((obj), BEAT_BOX_TYPE_TREE_VIEW_SETUP, BeatBoxTreeViewSetupClass))

typedef struct _BeatBoxTreeViewSetup BeatBoxTreeViewSetup;
typedef struct _BeatBoxTreeViewSetupClass BeatBoxTreeViewSetupClass;

#define BEAT_BOX_TYPE_SONG_INFO (beat_box_song_info_get_type ())
#define BEAT_BOX_SONG_INFO(obj) (G_TYPE_CHECK_INSTANCE_CAST ((obj), BEAT_BOX_TYPE_SONG_INFO, BeatBoxSongInfo))
#define BEAT_BOX_SONG_INFO_CLASS(klass) (G_TYPE_CHECK_CLASS_CAST ((klass), BEAT_BOX_TYPE_SONG_INFO, BeatBoxSongInfoClass))
#define BEAT_BOX_IS_SONG_INFO(obj) (G_TYPE_CHECK_INSTANCE_TYPE ((obj), BEAT_BOX_TYPE_SONG_INFO))
#define BEAT_BOX_IS_SONG_INFO_CLASS(klass) (G_TYPE_CHECK_CLASS_TYPE ((klass), BEAT_BOX_TYPE_SONG_INFO))
#define BEAT_BOX_SONG_INFO_GET_CLASS(obj) (G_TYPE_INSTANCE_GET_CLASS ((obj), BEAT_BOX_TYPE_SONG_INFO, BeatBoxSongInfoClass))

typedef struct _BeatBoxSongInfo BeatBoxSongInfo;
typedef struct _BeatBoxSongInfoClass BeatBoxSongInfoClass;
typedef struct _Block6Data Block6Data;
typedef struct _BeatBoxSongInfoPrivate BeatBoxSongInfoPrivate;

#define LAST_FM_TYPE_ARTIST_INFO (last_fm_artist_info_get_type ())
#define LAST_FM_ARTIST_INFO(obj) (G_TYPE_CHECK_INSTANCE_CAST ((obj), LAST_FM_TYPE_ARTIST_INFO, LastFMArtistInfo))
#define LAST_FM_ARTIST_INFO_CLASS(klass) (G_TYPE_CHECK_CLASS_CAST ((klass), LAST_FM_TYPE_ARTIST_INFO, LastFMArtistInfoClass))
#define LAST_FM_IS_ARTIST_INFO(obj) (G_TYPE_CHECK_INSTANCE_TYPE ((obj), LAST_FM_TYPE_ARTIST_INFO))
#define LAST_FM_IS_ARTIST_INFO_CLASS(klass) (G_TYPE_CHECK_CLASS_TYPE ((klass), LAST_FM_TYPE_ARTIST_INFO))
#define LAST_FM_ARTIST_INFO_GET_CLASS(obj) (G_TYPE_INSTANCE_GET_CLASS ((obj), LAST_FM_TYPE_ARTIST_INFO, LastFMArtistInfoClass))

typedef struct _LastFMArtistInfo LastFMArtistInfo;
typedef struct _LastFMArtistInfoClass LastFMArtistInfoClass;

#define LAST_FM_TYPE_TRACK_INFO (last_fm_track_info_get_type ())
#define LAST_FM_TRACK_INFO(obj) (G_TYPE_CHECK_INSTANCE_CAST ((obj), LAST_FM_TYPE_TRACK_INFO, LastFMTrackInfo))
#define LAST_FM_TRACK_INFO_CLASS(klass) (G_TYPE_CHECK_CLASS_CAST ((klass), LAST_FM_TYPE_TRACK_INFO, LastFMTrackInfoClass))
#define LAST_FM_IS_TRACK_INFO(obj) (G_TYPE_CHECK_INSTANCE_TYPE ((obj), LAST_FM_TYPE_TRACK_INFO))
#define LAST_FM_IS_TRACK_INFO_CLASS(klass) (G_TYPE_CHECK_CLASS_TYPE ((klass), LAST_FM_TYPE_TRACK_INFO))
#define LAST_FM_TRACK_INFO_GET_CLASS(obj) (G_TYPE_INSTANCE_GET_CLASS ((obj), LAST_FM_TYPE_TRACK_INFO, LastFMTrackInfoClass))

typedef struct _LastFMTrackInfo LastFMTrackInfo;
typedef struct _LastFMTrackInfoClass LastFMTrackInfoClass;

#define LAST_FM_TYPE_ALBUM_INFO (last_fm_album_info_get_type ())
#define LAST_FM_ALBUM_INFO(obj) (G_TYPE_CHECK_INSTANCE_CAST ((obj), LAST_FM_TYPE_ALBUM_INFO, LastFMAlbumInfo))
#define LAST_FM_ALBUM_INFO_CLASS(klass) (G_TYPE_CHECK_CLASS_CAST ((klass), LAST_FM_TYPE_ALBUM_INFO, LastFMAlbumInfoClass))
#define LAST_FM_IS_ALBUM_INFO(obj) (G_TYPE_CHECK_INSTANCE_TYPE ((obj), LAST_FM_TYPE_ALBUM_INFO))
#define LAST_FM_IS_ALBUM_INFO_CLASS(klass) (G_TYPE_CHECK_CLASS_TYPE ((klass), LAST_FM_TYPE_ALBUM_INFO))
#define LAST_FM_ALBUM_INFO_GET_CLASS(obj) (G_TYPE_INSTANCE_GET_CLASS ((obj), LAST_FM_TYPE_ALBUM_INFO, LastFMAlbumInfoClass))

typedef struct _LastFMAlbumInfo LastFMAlbumInfo;
typedef struct _LastFMAlbumInfoClass LastFMAlbumInfoClass;
typedef struct _Block7Data Block7Data;
typedef struct _BeatBoxSideTreeViewPrivate BeatBoxSideTreeViewPrivate;

#define BEAT_BOX_TYPE_SMART_PLAYLIST (beat_box_smart_playlist_get_type ())
#define BEAT_BOX_SMART_PLAYLIST(obj) (G_TYPE_CHECK_INSTANCE_CAST ((obj), BEAT_BOX_TYPE_SMART_PLAYLIST, BeatBoxSmartPlaylist))
#define BEAT_BOX_SMART_PLAYLIST_CLASS(klass) (G_TYPE_CHECK_CLASS_CAST ((klass), BEAT_BOX_TYPE_SMART_PLAYLIST, BeatBoxSmartPlaylistClass))
#define BEAT_BOX_IS_SMART_PLAYLIST(obj) (G_TYPE_CHECK_INSTANCE_TYPE ((obj), BEAT_BOX_TYPE_SMART_PLAYLIST))
#define BEAT_BOX_IS_SMART_PLAYLIST_CLASS(klass) (G_TYPE_CHECK_CLASS_TYPE ((klass), BEAT_BOX_TYPE_SMART_PLAYLIST))
#define BEAT_BOX_SMART_PLAYLIST_GET_CLASS(obj) (G_TYPE_INSTANCE_GET_CLASS ((obj), BEAT_BOX_TYPE_SMART_PLAYLIST, BeatBoxSmartPlaylistClass))

typedef struct _BeatBoxSmartPlaylist BeatBoxSmartPlaylist;
typedef struct _BeatBoxSmartPlaylistClass BeatBoxSmartPlaylistClass;

#define BEAT_BOX_TYPE_PLAYLIST (beat_box_playlist_get_type ())
#define BEAT_BOX_PLAYLIST(obj) (G_TYPE_CHECK_INSTANCE_CAST ((obj), BEAT_BOX_TYPE_PLAYLIST, BeatBoxPlaylist))
#define BEAT_BOX_PLAYLIST_CLASS(klass) (G_TYPE_CHECK_CLASS_CAST ((klass), BEAT_BOX_TYPE_PLAYLIST, BeatBoxPlaylistClass))
#define BEAT_BOX_IS_PLAYLIST(obj) (G_TYPE_CHECK_INSTANCE_TYPE ((obj), BEAT_BOX_TYPE_PLAYLIST))
#define BEAT_BOX_IS_PLAYLIST_CLASS(klass) (G_TYPE_CHECK_CLASS_TYPE ((klass), BEAT_BOX_TYPE_PLAYLIST))
#define BEAT_BOX_PLAYLIST_GET_CLASS(obj) (G_TYPE_INSTANCE_GET_CLASS ((obj), BEAT_BOX_TYPE_PLAYLIST, BeatBoxPlaylistClass))

typedef struct _BeatBoxPlaylist BeatBoxPlaylist;
typedef struct _BeatBoxPlaylistClass BeatBoxPlaylistClass;

#define BEAT_BOX_TYPE_MUSIC_TREE_VIEW (beat_box_music_tree_view_get_type ())
#define BEAT_BOX_MUSIC_TREE_VIEW(obj) (G_TYPE_CHECK_INSTANCE_CAST ((obj), BEAT_BOX_TYPE_MUSIC_TREE_VIEW, BeatBoxMusicTreeView))
#define BEAT_BOX_MUSIC_TREE_VIEW_CLASS(klass) (G_TYPE_CHECK_CLASS_CAST ((klass), BEAT_BOX_TYPE_MUSIC_TREE_VIEW, BeatBoxMusicTreeViewClass))
#define BEAT_BOX_IS_MUSIC_TREE_VIEW(obj) (G_TYPE_CHECK_INSTANCE_TYPE ((obj), BEAT_BOX_TYPE_MUSIC_TREE_VIEW))
#define BEAT_BOX_IS_MUSIC_TREE_VIEW_CLASS(klass) (G_TYPE_CHECK_CLASS_TYPE ((klass), BEAT_BOX_TYPE_MUSIC_TREE_VIEW))
#define BEAT_BOX_MUSIC_TREE_VIEW_GET_CLASS(obj) (G_TYPE_INSTANCE_GET_CLASS ((obj), BEAT_BOX_TYPE_MUSIC_TREE_VIEW, BeatBoxMusicTreeViewClass))

typedef struct _BeatBoxMusicTreeView BeatBoxMusicTreeView;
typedef struct _BeatBoxMusicTreeViewClass BeatBoxMusicTreeViewClass;
#define _g_error_free0(var) ((var == NULL) ? NULL : (var = (g_error_free (var), NULL)))

#define BEAT_BOX_TYPE_SIMILAR_PANE (beat_box_similar_pane_get_type ())
#define BEAT_BOX_SIMILAR_PANE(obj) (G_TYPE_CHECK_INSTANCE_CAST ((obj), BEAT_BOX_TYPE_SIMILAR_PANE, BeatBoxSimilarPane))
#define BEAT_BOX_SIMILAR_PANE_CLASS(klass) (G_TYPE_CHECK_CLASS_CAST ((klass), BEAT_BOX_TYPE_SIMILAR_PANE, BeatBoxSimilarPaneClass))
#define BEAT_BOX_IS_SIMILAR_PANE(obj) (G_TYPE_CHECK_INSTANCE_TYPE ((obj), BEAT_BOX_TYPE_SIMILAR_PANE))
#define BEAT_BOX_IS_SIMILAR_PANE_CLASS(klass) (G_TYPE_CHECK_CLASS_TYPE ((klass), BEAT_BOX_TYPE_SIMILAR_PANE))
#define BEAT_BOX_SIMILAR_PANE_GET_CLASS(obj) (G_TYPE_INSTANCE_GET_CLASS ((obj), BEAT_BOX_TYPE_SIMILAR_PANE, BeatBoxSimilarPaneClass))

typedef struct _BeatBoxSimilarPane BeatBoxSimilarPane;
typedef struct _BeatBoxSimilarPaneClass BeatBoxSimilarPaneClass;

#define BEAT_BOX_MUSIC_TREE_VIEW_TYPE_HINT (beat_box_music_tree_view_hint_get_type ())
typedef struct _BeatBoxPlaylistPrivate BeatBoxPlaylistPrivate;
typedef struct _BeatBoxSmartPlaylistPrivate BeatBoxSmartPlaylistPrivate;
#define _g_regex_unref0(var) ((var == NULL) ? NULL : (var = (g_regex_unref (var), NULL)))

#define LAST_FM_TYPE_IMAGE (last_fm_image_get_type ())
#define LAST_FM_IMAGE(obj) (G_TYPE_CHECK_INSTANCE_CAST ((obj), LAST_FM_TYPE_IMAGE, LastFMImage))
#define LAST_FM_IMAGE_CLASS(klass) (G_TYPE_CHECK_CLASS_CAST ((klass), LAST_FM_TYPE_IMAGE, LastFMImageClass))
#define LAST_FM_IS_IMAGE(obj) (G_TYPE_CHECK_INSTANCE_TYPE ((obj), LAST_FM_TYPE_IMAGE))
#define LAST_FM_IS_IMAGE_CLASS(klass) (G_TYPE_CHECK_CLASS_TYPE ((klass), LAST_FM_TYPE_IMAGE))
#define LAST_FM_IMAGE_GET_CLASS(obj) (G_TYPE_INSTANCE_GET_CLASS ((obj), LAST_FM_TYPE_IMAGE, LastFMImageClass))

typedef struct _LastFMImage LastFMImage;
typedef struct _LastFMImageClass LastFMImageClass;

#define BEAT_BOX_TYPE_NOT_IMPORTED_WINDOW (beat_box_not_imported_window_get_type ())
#define BEAT_BOX_NOT_IMPORTED_WINDOW(obj) (G_TYPE_CHECK_INSTANCE_CAST ((obj), BEAT_BOX_TYPE_NOT_IMPORTED_WINDOW, BeatBoxNotImportedWindow))
#define BEAT_BOX_NOT_IMPORTED_WINDOW_CLASS(klass) (G_TYPE_CHECK_CLASS_CAST ((klass), BEAT_BOX_TYPE_NOT_IMPORTED_WINDOW, BeatBoxNotImportedWindowClass))
#define BEAT_BOX_IS_NOT_IMPORTED_WINDOW(obj) (G_TYPE_CHECK_INSTANCE_TYPE ((obj), BEAT_BOX_TYPE_NOT_IMPORTED_WINDOW))
#define BEAT_BOX_IS_NOT_IMPORTED_WINDOW_CLASS(klass) (G_TYPE_CHECK_CLASS_TYPE ((klass), BEAT_BOX_TYPE_NOT_IMPORTED_WINDOW))
#define BEAT_BOX_NOT_IMPORTED_WINDOW_GET_CLASS(obj) (G_TYPE_INSTANCE_GET_CLASS ((obj), BEAT_BOX_TYPE_NOT_IMPORTED_WINDOW, BeatBoxNotImportedWindowClass))

typedef struct _BeatBoxNotImportedWindow BeatBoxNotImportedWindow;
typedef struct _BeatBoxNotImportedWindowClass BeatBoxNotImportedWindowClass;
typedef struct _ElementaryWidgetsElementaryEntryPrivate ElementaryWidgetsElementaryEntryPrivate;
typedef struct _Block8Data Block8Data;

#define BEAT_BOX_TYPE_PREFERENCES_WINDOW (beat_box_preferences_window_get_type ())
#define BEAT_BOX_PREFERENCES_WINDOW(obj) (G_TYPE_CHECK_INSTANCE_CAST ((obj), BEAT_BOX_TYPE_PREFERENCES_WINDOW, BeatBoxPreferencesWindow))
#define BEAT_BOX_PREFERENCES_WINDOW_CLASS(klass) (G_TYPE_CHECK_CLASS_CAST ((klass), BEAT_BOX_TYPE_PREFERENCES_WINDOW, BeatBoxPreferencesWindowClass))
#define BEAT_BOX_IS_PREFERENCES_WINDOW(obj) (G_TYPE_CHECK_INSTANCE_TYPE ((obj), BEAT_BOX_TYPE_PREFERENCES_WINDOW))
#define BEAT_BOX_IS_PREFERENCES_WINDOW_CLASS(klass) (G_TYPE_CHECK_CLASS_TYPE ((klass), BEAT_BOX_TYPE_PREFERENCES_WINDOW))
#define BEAT_BOX_PREFERENCES_WINDOW_GET_CLASS(obj) (G_TYPE_INSTANCE_GET_CLASS ((obj), BEAT_BOX_TYPE_PREFERENCES_WINDOW, BeatBoxPreferencesWindowClass))

typedef struct _BeatBoxPreferencesWindow BeatBoxPreferencesWindow;
typedef struct _BeatBoxPreferencesWindowClass BeatBoxPreferencesWindowClass;

struct _BeatBoxLibraryWindow {
	GtkWindow parent_instance;
	BeatBoxLibraryWindowPrivate * priv;
	ElementaryWidgetsElementarySearchEntry* searchField;
};

struct _BeatBoxLibraryWindowClass {
	GtkWindowClass parent_class;
	void (*progressNotification) (BeatBoxLibraryWindow* self, const gchar* message, gdouble progress);
	void (*sideListDoubleClick) (BeatBoxLibraryWindow* self, GtkTreePath* path, GtkTreeViewColumn* column);
	void (*song_played) (BeatBoxLibraryWindow* self, gint i);
	void (*songs_updated) (BeatBoxLibraryWindow* self, GeeCollection* ids);
	void (*previousClicked) (BeatBoxLibraryWindow* self);
	void (*playClicked) (BeatBoxLibraryWindow* self);
	void (*nextClicked) (BeatBoxLibraryWindow* self);
	void (*shuffleClicked) (BeatBoxLibraryWindow* self);
	void (*loveButtonClicked) (BeatBoxLibraryWindow* self);
	void (*banButtonClicked) (BeatBoxLibraryWindow* self);
	void (*searchFieldIconPressed) (BeatBoxLibraryWindow* self, GtkEntryIconPosition p0, GdkEvent* p1);
	void (*sourcesToSongsHandleSet) (BeatBoxLibraryWindow* self, GdkRectangle* rectangle);
	void (*on_resize) (BeatBoxLibraryWindow* self);
	void (*on_quit) (BeatBoxLibraryWindow* self);
	void (*fileImportMusicClick) (BeatBoxLibraryWindow* self);
	void (*fileRescanMusicFolderClick) (BeatBoxLibraryWindow* self);
	void (*musicCounted) (BeatBoxLibraryWindow* self, gint count);
	void (*musicAdded) (BeatBoxLibraryWindow* self, GeeLinkedList* not_imported);
	void (*musicImported) (BeatBoxLibraryWindow* self, GeeLinkedList* new_songs, GeeLinkedList* not_imported);
	void (*musicRescanned) (BeatBoxLibraryWindow* self, GeeLinkedList* new_songs, GeeLinkedList* not_imported);
	void (*song_added) (BeatBoxLibraryWindow* self, gint id);
	void (*songs_removed) (BeatBoxLibraryWindow* self, GeeLinkedList* removed);
	void (*helpAboutClick) (BeatBoxLibraryWindow* self);
	void (*editPreferencesClick) (BeatBoxLibraryWindow* self);
	void (*end_of_stream) (BeatBoxLibraryWindow* self, BeatBoxSong* s);
	void (*current_position_update) (BeatBoxLibraryWindow* self, gint64 position);
	void (*similarRetrieved) (BeatBoxLibraryWindow* self, GeeLinkedList* similarIDs, GeeLinkedList* similarDont);
	void (*infoPanelResized) (BeatBoxLibraryWindow* self, GdkRectangle* rectangle);
};

struct _BeatBoxLibraryWindowPrivate {
	BeatBoxLibraryManager* lm;
	BeatBoxSettings* settings;
	LastFMSimilarSongs* similarSongs;
	BeatBoxMediaKeyListener* mkl;
	gboolean queriedlastfm;
	gboolean song_considered_played;
	gboolean added_to_play_count;
	GeeLinkedList* timeout_search;
	gchar* last_search;
	GtkVBox* verticalBox;
	GtkVBox* mainViews;
	ElementaryWidgetsWelcome* welcomeScreen;
	GtkHPaned* sourcesToSongs;
	GtkHPaned* songsToInfo;
	GtkScrolledWindow* sideTreeScroll;
	GtkVBox* sideBar;
	GtkVBox* contentBox;
	BeatBoxSideTreeView* sideTree;
	GtkScrolledWindow* songInfoScroll;
	GtkScrolledWindow* pandoraScroll;
	GtkScrolledWindow* grooveSharkScroll;
	BeatBoxInfoPanel* infoPanel;
	GtkImage* coverArt;
	GtkToolbar* topControls;
	GtkToolButton* previousButton;
	GtkToolButton* playButton;
	GtkToolButton* nextButton;
	GtkButton* shuffleButton;
	GtkButton* loveButton;
	GtkButton* banButton;
	ElementaryWidgetsTopDisplay* topDisplay;
	ElementaryWidgetsAppMenu* appMenu;
	GtkStatusbar* statusBar;
	GtkMenuBar* topMenu;
	GtkMenuItem* libraryOperations;
	GtkMenu* libraryOperationsMenu;
	GtkMenuItem* fileImportMusic;
	GtkMenuItem* fileRescanMusicFolder;
	GtkMenuItem* helpOnline;
	GtkMenuItem* helpTranslate;
	GtkMenuItem* helpReport;
	GtkMenuItem* helpAbout;
	GtkMenuItem* editPreferences;
	GtkMenu* settingsMenu;
	NotifyNotification* notification;
};

struct _BeatBoxLibraryManager {
	GObject parent_instance;
	BeatBoxLibraryManagerPrivate * priv;
	BeatBoxSettings* settings;
	BeatBoxDataBaseManager* dbm;
	BeatBoxDataBaseUpdater* dbu;
	BeatBoxFileOperator* fo;
	BeatBoxStreamPlayer* player;
	LastFMCore* lfm;
	BeatBoxTreeViewSetup* music_setup;
	BeatBoxTreeViewSetup* similar_setup;
	BeatBoxTreeViewSetup* queue_setup;
	BeatBoxTreeViewSetup* history_setup;
	gint _played_index;
	gint _current_index;
	gint _current_shuffled_index;
	BeatBoxSongInfo* song_info;
	gboolean playing;
	gboolean repeat;
	gboolean shuffle;
	gboolean doing_file_operations;
};

struct _BeatBoxLibraryManagerClass {
	GObjectClass parent_class;
	void (*dbProgress) (BeatBoxLibraryManager* self, const gchar* message, gdouble progress);
};

struct _Block6Data {
	int _ref_count_;
	BeatBoxLibraryWindow * self;
	BeatBoxSong* s;
};

struct _BeatBoxSongInfo {
	GObject parent_instance;
	BeatBoxSongInfoPrivate * priv;
	BeatBoxSong* song;
	LastFMArtistInfo* artist;
	LastFMTrackInfo* track;
	LastFMAlbumInfo* album;
};

struct _BeatBoxSongInfoClass {
	GObjectClass parent_class;
};

struct _Block7Data {
	int _ref_count_;
	Block6Data * _data6_;
	gint position;
};

struct _BeatBoxSideTreeView {
	GtkTreeView parent_instance;
	BeatBoxSideTreeViewPrivate * priv;
	GtkTreeIter library_iter;
	GtkTreeIter library_music_iter;
	GtkTreeIter library_podcasts_iter;
	GtkTreeIter library_audiobooks_iter;
	GtkTreeIter devices_iter;
	GtkTreeIter network_iter;
	GtkTreeIter playlists_iter;
	GtkTreeIter playlists_queue_iter;
	GtkTreeIter playlists_history_iter;
	GtkTreeIter playlists_similar_iter;
};

struct _BeatBoxSideTreeViewClass {
	GtkTreeViewClass parent_class;
	void (*sideListSelectionChange) (BeatBoxSideTreeView* self);
	gboolean (*sideListClick) (BeatBoxSideTreeView* self, GdkEventButton* event);
	void (*smartPlaylistMenuNewClicked) (BeatBoxSideTreeView* self);
	void (*smartPlaylistEditorSaved) (BeatBoxSideTreeView* self, BeatBoxSmartPlaylist* sp);
	void (*playlistMenuNewClicked) (BeatBoxSideTreeView* self);
	void (*playlistNameWindowSaved) (BeatBoxSideTreeView* self, BeatBoxPlaylist* p);
	void (*playlistMenuEditClicked) (BeatBoxSideTreeView* self);
	void (*playlistMenuRemoveClicked) (BeatBoxSideTreeView* self);
	void (*dragReceived) (BeatBoxSideTreeView* self, GdkDragContext* context, gint x, gint y, GtkSelectionData* data, guint info, guint timestamp);
};

typedef enum  {
	BEAT_BOX_MUSIC_TREE_VIEW_HINT_MUSIC,
	BEAT_BOX_MUSIC_TREE_VIEW_HINT_SIMILAR,
	BEAT_BOX_MUSIC_TREE_VIEW_HINT_QUEUE,
	BEAT_BOX_MUSIC_TREE_VIEW_HINT_HISTORY,
	BEAT_BOX_MUSIC_TREE_VIEW_HINT_PLAYLIST,
	BEAT_BOX_MUSIC_TREE_VIEW_HINT_SMART_PLAYLIST
} BeatBoxMusicTreeViewHint;

struct _BeatBoxPlaylist {
	GObject parent_instance;
	BeatBoxPlaylistPrivate * priv;
	BeatBoxTreeViewSetup* tvs;
};

struct _BeatBoxPlaylistClass {
	GObjectClass parent_class;
};

struct _BeatBoxSmartPlaylist {
	GObject parent_instance;
	BeatBoxSmartPlaylistPrivate * priv;
	BeatBoxTreeViewSetup* tvs;
	gint query_count;
};

struct _BeatBoxSmartPlaylistClass {
	GObjectClass parent_class;
};

struct _ElementaryWidgetsElementaryEntry {
	GtkEntry parent_instance;
	ElementaryWidgetsElementaryEntryPrivate * priv;
	gchar* hint_string;
};

struct _ElementaryWidgetsElementaryEntryClass {
	GtkEntryClass parent_class;
};

struct _Block8Data {
	int _ref_count_;
	BeatBoxLibraryWindow * self;
	GtkAboutDialog* ad;
};


static gpointer beat_box_library_window_parent_class = NULL;

GType beat_box_library_window_get_type (void) G_GNUC_CONST;
GType beat_box_song_get_type (void) G_GNUC_CONST;
GType elementary_widgets_elementary_entry_get_type (void) G_GNUC_CONST;
GType elementary_widgets_elementary_search_entry_get_type (void) G_GNUC_CONST;
GType beat_box_library_manager_get_type (void) G_GNUC_CONST;
GType beat_box_settings_get_type (void) G_GNUC_CONST;
GType last_fm_similar_songs_get_type (void) G_GNUC_CONST;
GType beat_box_media_key_listener_get_type (void) G_GNUC_CONST;
GType elementary_widgets_welcome_get_type (void) G_GNUC_CONST;
GType beat_box_side_tree_view_get_type (void) G_GNUC_CONST;
GType beat_box_info_panel_get_type (void) G_GNUC_CONST;
GType elementary_widgets_top_display_get_type (void) G_GNUC_CONST;
GType tool_button_with_menu_get_type (void) G_GNUC_CONST;
GType elementary_widgets_app_menu_get_type (void) G_GNUC_CONST;
#define BEAT_BOX_LIBRARY_WINDOW_GET_PRIVATE(o) (G_TYPE_INSTANCE_GET_PRIVATE ((o), BEAT_BOX_TYPE_LIBRARY_WINDOW, BeatBoxLibraryWindowPrivate))
enum  {
	BEAT_BOX_LIBRARY_WINDOW_DUMMY_PROPERTY
};
GType beat_box_data_base_manager_get_type (void) G_GNUC_CONST;
GType beat_box_stream_player_get_type (void) G_GNUC_CONST;
BeatBoxLibraryWindow* beat_box_library_window_new (BeatBoxDataBaseManager* dbm, BeatBoxStreamPlayer* player);
BeatBoxLibraryWindow* beat_box_library_window_construct (GType object_type, BeatBoxDataBaseManager* dbm, BeatBoxStreamPlayer* player);
BeatBoxSettings* beat_box_settings_new (void);
BeatBoxSettings* beat_box_settings_construct (GType object_type);
BeatBoxLibraryManager* beat_box_library_manager_new (BeatBoxStreamPlayer* player, BeatBoxDataBaseManager* dbmn, BeatBoxSettings* sett);
BeatBoxLibraryManager* beat_box_library_manager_construct (GType object_type, BeatBoxStreamPlayer* player, BeatBoxDataBaseManager* dbmn, BeatBoxSettings* sett);
LastFMSimilarSongs* last_fm_similar_songs_new (BeatBoxLibraryManager* lm);
LastFMSimilarSongs* last_fm_similar_songs_construct (GType object_type, BeatBoxLibraryManager* lm);
BeatBoxMediaKeyListener* beat_box_media_key_listener_new (BeatBoxLibraryManager* lmm, BeatBoxLibraryWindow* lww);
BeatBoxMediaKeyListener* beat_box_media_key_listener_construct (GType object_type, BeatBoxLibraryManager* lmm, BeatBoxLibraryWindow* lww);
void beat_box_library_window_build_ui (BeatBoxLibraryWindow* self);
GType beat_box_data_base_updater_get_type (void) G_GNUC_CONST;
GType beat_box_file_operator_get_type (void) G_GNUC_CONST;
GType last_fm_core_get_type (void) G_GNUC_CONST;
GType beat_box_tree_view_setup_get_type (void) G_GNUC_CONST;
GType beat_box_song_info_get_type (void) G_GNUC_CONST;
void beat_box_library_window_end_of_stream (BeatBoxLibraryWindow* self, BeatBoxSong* s);
static void _beat_box_library_window_end_of_stream_beat_box_stream_player_end_of_stream (BeatBoxStreamPlayer* _sender, BeatBoxSong* s, gpointer self);
void beat_box_library_window_current_position_update (BeatBoxLibraryWindow* self, gint64 position);
static void _beat_box_library_window_current_position_update_beat_box_stream_player_current_position_update (BeatBoxStreamPlayer* _sender, gint64 position, gpointer self);
void beat_box_library_window_musicCounted (BeatBoxLibraryWindow* self, gint count);
static void _beat_box_library_window_musicCounted_beat_box_library_manager_music_counted (BeatBoxLibraryManager* _sender, gint count, gpointer self);
void beat_box_library_window_musicAdded (BeatBoxLibraryWindow* self, GeeLinkedList* not_imported);
static void _beat_box_library_window_musicAdded_beat_box_library_manager_music_added (BeatBoxLibraryManager* _sender, GeeLinkedList* not_imported, gpointer self);
void beat_box_library_window_musicImported (BeatBoxLibraryWindow* self, GeeLinkedList* new_songs, GeeLinkedList* not_imported);
static void _beat_box_library_window_musicImported_beat_box_library_manager_music_imported (BeatBoxLibraryManager* _sender, GeeLinkedList* new_songs, GeeLinkedList* not_imported, gpointer self);
void beat_box_library_window_musicRescanned (BeatBoxLibraryWindow* self, GeeLinkedList* new_songs, GeeLinkedList* not_imported);
static void _beat_box_library_window_musicRescanned_beat_box_library_manager_music_rescanned (BeatBoxLibraryManager* _sender, GeeLinkedList* new_songs, GeeLinkedList* not_imported, gpointer self);
void beat_box_library_window_progressNotification (BeatBoxLibraryWindow* self, const gchar* message, gdouble progress);
static void _beat_box_library_window_progressNotification_beat_box_library_manager_progress_notification (BeatBoxLibraryManager* _sender, const gchar* message, gdouble progress, gpointer self);
void beat_box_library_window_song_added (BeatBoxLibraryWindow* self, gint id);
static void _beat_box_library_window_song_added_beat_box_library_manager_song_added (BeatBoxLibraryManager* _sender, gint id, gpointer self);
void beat_box_library_window_songs_removed (BeatBoxLibraryWindow* self, GeeLinkedList* removed);
static void _beat_box_library_window_songs_removed_beat_box_library_manager_songs_removed (BeatBoxLibraryManager* _sender, GeeLinkedList* ids, gpointer self);
void beat_box_library_window_song_played (BeatBoxLibraryWindow* self, gint i);
static void _beat_box_library_window_song_played_beat_box_library_manager_song_played (BeatBoxLibraryManager* _sender, gint id, gint old_id, gpointer self);
void beat_box_library_window_songs_updated (BeatBoxLibraryWindow* self, GeeCollection* ids);
static void _beat_box_library_window_songs_updated_beat_box_library_manager_songs_updated (BeatBoxLibraryManager* _sender, GeeLinkedList* ids, gpointer self);
void beat_box_library_window_similarRetrieved (BeatBoxLibraryWindow* self, GeeLinkedList* similarIDs, GeeLinkedList* similarDont);
static void _beat_box_library_window_similarRetrieved_last_fm_similar_songs_similar_retrieved (LastFMSimilarSongs* _sender, GeeLinkedList* similarIDs, GeeLinkedList* similarDont, gpointer self);
void beat_box_library_window_on_quit (BeatBoxLibraryWindow* self);
static void _beat_box_library_window_on_quit_gtk_object_destroy (GtkObject* _sender, gpointer self);
void beat_box_library_window_on_resize (BeatBoxLibraryWindow* self);
static void _beat_box_library_window_on_resize_gtk_container_check_resize (GtkContainer* _sender, gpointer self);
static void _gtk_main_quit_gtk_object_destroy (GtkObject* _sender, gpointer self);
gint beat_box_library_manager_song_count (BeatBoxLibraryManager* self);
gchar* beat_box_settings_getMusicFolder (BeatBoxSettings* self);
void beat_box_library_window_setMusicFolder (BeatBoxLibraryWindow* self, const gchar* folder);
static Block6Data* block6_data_ref (Block6Data* _data6_);
static void block6_data_unref (Block6Data* _data6_);
void beat_box_library_manager_clearCurrent (BeatBoxLibraryManager* self);
gint beat_box_settings_getLastSongPosition (BeatBoxSettings* self);
GType last_fm_artist_info_get_type (void) G_GNUC_CONST;
GType last_fm_track_info_get_type (void) G_GNUC_CONST;
GType last_fm_album_info_get_type (void) G_GNUC_CONST;
gint beat_box_song_get_length (BeatBoxSong* self);
BeatBoxSong* beat_box_settings_getLastSongPlaying (BeatBoxSettings* self);
BeatBoxSong* beat_box_library_manager_song_from_name (BeatBoxLibraryManager* self, const gchar* title, const gchar* artist);
const gchar* beat_box_song_get_title (BeatBoxSong* self);
const gchar* beat_box_song_get_artist (BeatBoxSong* self);
gint beat_box_song_get_rowid (BeatBoxSong* self);
static Block7Data* block7_data_ref (Block7Data* _data7_);
static void block7_data_unref (Block7Data* _data7_);
static gboolean _lambda21_ (Block7Data* _data7_);
void beat_box_library_manager_playSong (BeatBoxLibraryManager* self, gint id);
GtkWidget* beat_box_side_tree_view_getWidget (BeatBoxSideTreeView* self, GtkTreeIter* iter);
GType beat_box_smart_playlist_get_type (void) G_GNUC_CONST;
GType beat_box_playlist_get_type (void) G_GNUC_CONST;
GType beat_box_music_tree_view_get_type (void) G_GNUC_CONST;
void beat_box_music_tree_view_setAsCurrentList (BeatBoxMusicTreeView* self, const gchar* current_song_path);
gboolean beat_box_settings_getShuffleEnabled (BeatBoxSettings* self);
void beat_box_library_window_shuffleClicked (BeatBoxLibraryWindow* self);
void beat_box_music_tree_view_scrollToCurrent (BeatBoxMusicTreeView* self);
gboolean elementary_widgets_top_display_change_value (ElementaryWidgetsTopDisplay* self, GtkScrollType scroll, gdouble val);
static gboolean __lambda21__gsource_func (gpointer self);
void beat_box_library_manager_rescan_music_folder (BeatBoxLibraryManager* self);
gint beat_box_settings_getWindowWidth (BeatBoxSettings* self);
gint beat_box_settings_getWindowHeight (BeatBoxSettings* self);
ElementaryWidgetsWelcome* elementary_widgets_welcome_new (const gchar* title_text, const gchar* subtitle_text);
ElementaryWidgetsWelcome* elementary_widgets_welcome_construct (GType object_type, const gchar* title_text, const gchar* subtitle_text);
BeatBoxSideTreeView* beat_box_side_tree_view_new (BeatBoxLibraryManager* lmm, BeatBoxLibraryWindow* lww);
BeatBoxSideTreeView* beat_box_side_tree_view_construct (GType object_type, BeatBoxLibraryManager* lmm, BeatBoxLibraryWindow* lww);
ElementaryWidgetsTopDisplay* elementary_widgets_top_display_new (BeatBoxLibraryManager* lmm);
ElementaryWidgetsTopDisplay* elementary_widgets_top_display_construct (GType object_type, BeatBoxLibraryManager* lmm);
ElementaryWidgetsElementarySearchEntry* elementary_widgets_elementary_search_entry_new (const gchar* hint_string);
ElementaryWidgetsElementarySearchEntry* elementary_widgets_elementary_search_entry_construct (GType object_type, const gchar* hint_string);
ElementaryWidgetsAppMenu* elementary_widgets_app_menu_new_from_stock (const gchar* stock_image, GtkIconSize size, const gchar* label, GtkMenu* menu);
ElementaryWidgetsAppMenu* elementary_widgets_app_menu_construct_from_stock (GType object_type, const gchar* stock_image, GtkIconSize size, const gchar* label, GtkMenu* menu);
BeatBoxInfoPanel* beat_box_info_panel_new (BeatBoxLibraryManager* lmm, BeatBoxLibraryWindow* lww);
BeatBoxInfoPanel* beat_box_info_panel_construct (GType object_type, BeatBoxLibraryManager* lmm, BeatBoxLibraryWindow* lww);
gint beat_box_settings_getSidebarWidth (BeatBoxSettings* self);
gint beat_box_settings_getMoreWidth (BeatBoxSettings* self);
static void beat_box_library_window_buildSideTree (BeatBoxLibraryWindow* self);
void beat_box_library_window_updateSensitivities (BeatBoxLibraryWindow* self);
void beat_box_library_window_fileImportMusicClick (BeatBoxLibraryWindow* self);
static void _beat_box_library_window_fileImportMusicClick_gtk_menu_item_activate (GtkMenuItem* _sender, gpointer self);
void beat_box_library_window_fileRescanMusicFolderClick (BeatBoxLibraryWindow* self);
static void _beat_box_library_window_fileRescanMusicFolderClick_gtk_menu_item_activate (GtkMenuItem* _sender, gpointer self);
static void _lambda12_ (BeatBoxLibraryWindow* self);
static void __lambda12__gtk_menu_item_activate (GtkMenuItem* _sender, gpointer self);
static void _lambda13_ (BeatBoxLibraryWindow* self);
static void __lambda13__gtk_menu_item_activate (GtkMenuItem* _sender, gpointer self);
static void _lambda14_ (BeatBoxLibraryWindow* self);
static void __lambda14__gtk_menu_item_activate (GtkMenuItem* _sender, gpointer self);
void beat_box_library_window_helpAboutClick (BeatBoxLibraryWindow* self);
static void _beat_box_library_window_helpAboutClick_gtk_menu_item_activate (GtkMenuItem* _sender, gpointer self);
void beat_box_library_window_editPreferencesClick (BeatBoxLibraryWindow* self);
static void _beat_box_library_window_editPreferencesClick_gtk_menu_item_activate (GtkMenuItem* _sender, gpointer self);
void elementary_widgets_welcome_append (ElementaryWidgetsWelcome* self, const gchar* icon_name, const gchar* label_text, const gchar* description_text);
void beat_box_library_window_sourcesToSongsHandleSet (BeatBoxLibraryWindow* self, GdkRectangle* rectangle);
static void _beat_box_library_window_sourcesToSongsHandleSet_gtk_widget_size_allocate (GtkWidget* _sender, GdkRectangle* allocation, gpointer self);
void beat_box_library_window_welcomeScreenActivated (BeatBoxLibraryWindow* self, gint index);
static void _beat_box_library_window_welcomeScreenActivated_elementary_widgets_welcome_activated (ElementaryWidgetsWelcome* _sender, gint index, gpointer self);
void beat_box_library_window_sideListDoubleClick (BeatBoxLibraryWindow* self, GtkTreePath* path, GtkTreeViewColumn* column);
static void _beat_box_library_window_sideListDoubleClick_gtk_tree_view_row_activated (GtkTreeView* _sender, GtkTreePath* path, GtkTreeViewColumn* column, gpointer self);
void beat_box_library_window_previousClicked (BeatBoxLibraryWindow* self);
static void _beat_box_library_window_previousClicked_gtk_tool_button_clicked (GtkToolButton* _sender, gpointer self);
void beat_box_library_window_playClicked (BeatBoxLibraryWindow* self);
static void _beat_box_library_window_playClicked_gtk_tool_button_clicked (GtkToolButton* _sender, gpointer self);
void beat_box_library_window_nextClicked (BeatBoxLibraryWindow* self);
static void _beat_box_library_window_nextClicked_gtk_tool_button_clicked (GtkToolButton* _sender, gpointer self);
static void _beat_box_library_window_shuffleClicked_gtk_button_clicked (GtkButton* _sender, gpointer self);
void beat_box_library_window_loveButtonClicked (BeatBoxLibraryWindow* self);
static void _beat_box_library_window_loveButtonClicked_gtk_button_clicked (GtkButton* _sender, gpointer self);
void beat_box_library_window_banButtonClicked (BeatBoxLibraryWindow* self);
static void _beat_box_library_window_banButtonClicked_gtk_button_clicked (GtkButton* _sender, gpointer self);
void beat_box_library_window_infoPanelResized (BeatBoxLibraryWindow* self, GdkRectangle* rectangle);
static void _beat_box_library_window_infoPanelResized_gtk_widget_size_allocate (GtkWidget* _sender, GdkRectangle* allocation, gpointer self);
void elementary_widgets_top_display_show_scale (ElementaryWidgetsTopDisplay* self);
void elementary_widgets_top_display_set_scale_sensitivity (ElementaryWidgetsTopDisplay* self, gboolean val);
void beat_box_side_tree_view_resetView (BeatBoxSideTreeView* self);
void beat_box_side_tree_view_addBasicItems (BeatBoxSideTreeView* self);
BeatBoxSimilarPane* beat_box_similar_pane_new (BeatBoxLibraryManager* lm, BeatBoxLibraryWindow* lw);
BeatBoxSimilarPane* beat_box_similar_pane_construct (GType object_type, BeatBoxLibraryManager* lm, BeatBoxLibraryWindow* lw);
GType beat_box_similar_pane_get_type (void) G_GNUC_CONST;
GtkTreeIter* beat_box_side_tree_view_addItem (BeatBoxSideTreeView* self, GtkTreeIter* parent, GObject* o, GtkWidget* w, const gchar* name);
const gchar* beat_box_tree_view_setup_get_sort_column (BeatBoxTreeViewSetup* self);
GtkSortType beat_box_tree_view_setup_get_sort_direction (BeatBoxTreeViewSetup* self);
GType beat_box_music_tree_view_hint_get_type (void) G_GNUC_CONST;
BeatBoxMusicTreeView* beat_box_music_tree_view_new (BeatBoxLibraryManager* lmm, BeatBoxLibraryWindow* lww, const gchar* sort, GtkSortType dir, BeatBoxMusicTreeViewHint the_hint, gint id);
BeatBoxMusicTreeView* beat_box_music_tree_view_construct (GType object_type, BeatBoxLibraryManager* lmm, BeatBoxLibraryWindow* lww, const gchar* sort, GtkSortType dir, BeatBoxMusicTreeViewHint the_hint, gint id);
void beat_box_music_tree_view_populateView (BeatBoxMusicTreeView* self, GeeCollection* songs, gboolean is_search);
GeeCollection* beat_box_library_manager_queue (BeatBoxLibraryManager* self);
GeeLinkedList* beat_box_library_manager_already_played (BeatBoxLibraryManager* self);
GeeCollection* beat_box_library_manager_song_ids (BeatBoxLibraryManager* self);
GeeCollection* beat_box_library_manager_smart_playlists (BeatBoxLibraryManager* self);
void beat_box_library_window_addSideListItem (BeatBoxLibraryWindow* self, GObject* o);
GeeCollection* beat_box_library_manager_playlists (BeatBoxLibraryManager* self);
gint beat_box_playlist_get_rowid (BeatBoxPlaylist* self);
GeeLinkedList* beat_box_library_manager_songs_from_playlist (BeatBoxLibraryManager* self, gint id);
const gchar* beat_box_playlist_get_name (BeatBoxPlaylist* self);
gint beat_box_smart_playlist_get_rowid (BeatBoxSmartPlaylist* self);
GeeLinkedList* beat_box_library_manager_songs_from_smart_playlist (BeatBoxLibraryManager* self, gint id);
const gchar* beat_box_smart_playlist_get_name (BeatBoxSmartPlaylist* self);
static void beat_box_library_window_real_progressNotification (BeatBoxLibraryWindow* self, const gchar* message, gdouble progress);
void elementary_widgets_top_display_set_label_markup (ElementaryWidgetsTopDisplay* self, const gchar* markup);
void elementary_widgets_top_display_set_progress_value (ElementaryWidgetsTopDisplay* self, gdouble progress);
static void beat_box_library_window_real_sideListDoubleClick (BeatBoxLibraryWindow* self, GtkTreePath* path, GtkTreeViewColumn* column);
gboolean beat_box_library_window_updateCurrentSong (BeatBoxLibraryWindow* self);
gchar* beat_box_library_manager_get_album_location (BeatBoxLibraryManager* self, gint id);
static void beat_box_library_window_real_song_played (BeatBoxLibraryWindow* self, gint i);
BeatBoxSong* beat_box_library_manager_song_from_id (BeatBoxLibraryManager* self, gint id);
const gchar* beat_box_song_get_album (BeatBoxSong* self);
void elementary_widgets_top_display_set_scale_range (ElementaryWidgetsTopDisplay* self, gdouble min, gdouble max);
void elementary_widgets_top_display_set_scale_value (ElementaryWidgetsTopDisplay* self, gdouble val);
void beat_box_info_panel_updateSong (BeatBoxInfoPanel* self, gint new_id);
static void beat_box_library_window_real_songs_updated (BeatBoxLibraryWindow* self, GeeCollection* ids);
void* beat_box_library_window_lastfm_track_thread_function (BeatBoxLibraryWindow* self);
LastFMTrackInfo* last_fm_track_info_new_basic (void);
LastFMTrackInfo* last_fm_track_info_construct_basic (GType object_type);
gboolean beat_box_library_manager_track_info_exists (BeatBoxLibraryManager* self, const gchar* track_key);
LastFMTrackInfo* last_fm_track_info_new_with_info (const gchar* artist, const gchar* track);
LastFMTrackInfo* last_fm_track_info_construct_with_info (GType object_type, const gchar* artist, const gchar* track);
void beat_box_library_manager_save_track (BeatBoxLibraryManager* self, LastFMTrackInfo* track);
void* beat_box_library_window_lastfm_album_thread_function (BeatBoxLibraryWindow* self);
LastFMAlbumInfo* last_fm_album_info_new_basic (void);
LastFMAlbumInfo* last_fm_album_info_construct_basic (GType object_type);
gboolean beat_box_library_manager_album_info_exists (BeatBoxLibraryManager* self, const gchar* album_key);
LastFMAlbumInfo* last_fm_album_info_new_with_info (const gchar* artist, const gchar* album);
LastFMAlbumInfo* last_fm_album_info_construct_with_info (GType object_type, const gchar* artist, const gchar* album);
void beat_box_library_manager_save_album (BeatBoxLibraryManager* self, LastFMAlbumInfo* album);
GdkPixbuf* beat_box_library_manager_save_album_locally (BeatBoxLibraryManager* self, gint id, const gchar* album);
GType last_fm_image_get_type (void) G_GNUC_CONST;
LastFMImage* last_fm_album_info_get_url_image (LastFMAlbumInfo* self);
const gchar* last_fm_image_get_url (LastFMImage* self);
static gboolean _beat_box_library_window_updateCurrentSong_gsource_func (gpointer self);
void* beat_box_library_window_lastfm_artist_thread_function (BeatBoxLibraryWindow* self);
LastFMArtistInfo* last_fm_artist_info_new_basic (void);
LastFMArtistInfo* last_fm_artist_info_construct_basic (GType object_type);
gboolean beat_box_library_manager_artist_info_exists (BeatBoxLibraryManager* self, const gchar* artist_key);
LastFMArtistInfo* last_fm_artist_info_new_with_artist (const gchar* artist);
LastFMArtistInfo* last_fm_artist_info_construct_with_artist (GType object_type, const gchar* artist);
void beat_box_library_manager_save_artist (BeatBoxLibraryManager* self, LastFMArtistInfo* artist);
gchar* beat_box_library_manager_get_artist_image_location (BeatBoxLibraryManager* self, gint id);
GdkPixbuf* beat_box_library_manager_save_artist_image_locally (BeatBoxLibraryManager* self, gint id, const gchar* image);
LastFMImage* last_fm_artist_info_get_url_image (LastFMArtistInfo* self);
static gboolean _lambda20_ (BeatBoxLibraryWindow* self);
void beat_box_info_panel_updateArtistImage (BeatBoxInfoPanel* self);
static gboolean __lambda20__gsource_func (gpointer self);
gboolean beat_box_library_window_updateSongInfo (BeatBoxLibraryWindow* self);
static void beat_box_library_window_real_previousClicked (BeatBoxLibraryWindow* self);
gint beat_box_library_manager_getPrevious (BeatBoxLibraryManager* self, gboolean play);
static void beat_box_library_window_real_playClicked (BeatBoxLibraryWindow* self);
GtkWidget* beat_box_side_tree_view_getSelectedWidget (BeatBoxSideTreeView* self);
void beat_box_stream_player_play_stream (BeatBoxStreamPlayer* self);
gint beat_box_library_manager_getNext (BeatBoxLibraryManager* self, gboolean play);
void beat_box_stream_player_pause_stream (BeatBoxStreamPlayer* self);
static void beat_box_library_window_real_nextClicked (BeatBoxLibraryWindow* self);
gint beat_box_song_get_skip_count (BeatBoxSong* self);
void beat_box_song_set_skip_count (BeatBoxSong* self, gint value);
static void beat_box_library_window_real_shuffleClicked (BeatBoxLibraryWindow* self);
void beat_box_library_manager_shuffleMusic (BeatBoxLibraryManager* self);
void beat_box_library_manager_unShuffleMusic (BeatBoxLibraryManager* self);
static void beat_box_library_window_real_loveButtonClicked (BeatBoxLibraryWindow* self);
gboolean last_fm_core_loveTrack (LastFMCore* self, const gchar* title, const gchar* artist);
static void beat_box_library_window_real_banButtonClicked (BeatBoxLibraryWindow* self);
gboolean last_fm_core_banTrack (LastFMCore* self, const gchar* title, const gchar* artist);
void beat_box_library_window_searchFieldIconPressed (BeatBoxLibraryWindow* self, GtkEntryIconPosition p0, GdkEvent* p1);
static void beat_box_library_window_real_searchFieldIconPressed (BeatBoxLibraryWindow* self, GtkEntryIconPosition p0, GdkEvent* p1);
static void beat_box_library_window_real_sourcesToSongsHandleSet (BeatBoxLibraryWindow* self, GdkRectangle* rectangle);
void beat_box_settings_setSidebarWidth (BeatBoxSettings* self, gint val);
static void beat_box_library_window_real_on_resize (BeatBoxLibraryWindow* self);
void beat_box_settings_setWindowWidth (BeatBoxSettings* self, gint val);
void beat_box_settings_setWindowHeight (BeatBoxSettings* self, gint val);
static void beat_box_library_window_real_on_quit (BeatBoxLibraryWindow* self);
void beat_box_settings_setLastSongPosition (BeatBoxSettings* self, gint val);
gdouble elementary_widgets_top_display_get_scale_value (ElementaryWidgetsTopDisplay* self);
void beat_box_library_manager_save_songs (BeatBoxLibraryManager* self);
void beat_box_library_manager_save_playlists (BeatBoxLibraryManager* self);
void beat_box_library_manager_save_smart_playlists (BeatBoxLibraryManager* self);
void beat_box_library_manager_save_artists (BeatBoxLibraryManager* self);
void beat_box_library_manager_save_albums (BeatBoxLibraryManager* self);
void beat_box_library_manager_save_tracks (BeatBoxLibraryManager* self);
static void beat_box_library_window_real_fileImportMusicClick (BeatBoxLibraryWindow* self);
void elementary_widgets_top_display_show_progressbar (ElementaryWidgetsTopDisplay* self);
void beat_box_library_manager_add_folder_to_library (BeatBoxLibraryManager* self, const gchar* folder);
static void beat_box_library_window_real_fileRescanMusicFolderClick (BeatBoxLibraryWindow* self);
static void beat_box_library_window_real_musicCounted (BeatBoxLibraryWindow* self, gint count);
static void beat_box_library_window_real_musicAdded (BeatBoxLibraryWindow* self, GeeLinkedList* not_imported);
void elementary_widgets_top_display_set_label_text (ElementaryWidgetsTopDisplay* self, const gchar* text);
BeatBoxNotImportedWindow* beat_box_not_imported_window_new (GeeLinkedList* files);
BeatBoxNotImportedWindow* beat_box_not_imported_window_construct (GType object_type, GeeLinkedList* files);
GType beat_box_not_imported_window_get_type (void) G_GNUC_CONST;
static void beat_box_library_window_real_musicImported (BeatBoxLibraryWindow* self, GeeLinkedList* new_songs, GeeLinkedList* not_imported);
GtkTreeIter* beat_box_music_tree_view_addSong (BeatBoxMusicTreeView* self, BeatBoxSong* s);
void beat_box_music_tree_view_searchFieldChanged (BeatBoxMusicTreeView* self);
static void beat_box_library_window_real_musicRescanned (BeatBoxLibraryWindow* self, GeeLinkedList* new_songs, GeeLinkedList* not_imported);
static void beat_box_library_window_real_song_added (BeatBoxLibraryWindow* self, gint id);
static void beat_box_library_window_real_songs_removed (BeatBoxLibraryWindow* self, GeeLinkedList* removed);
static void beat_box_library_window_real_helpAboutClick (BeatBoxLibraryWindow* self);
static Block8Data* block8_data_ref (Block8Data* _data8_);
static void block8_data_unref (Block8Data* _data8_);
static void _lambda15_ (gint response_id, Block8Data* _data8_);
static void __lambda15__gtk_dialog_response (GtkDialog* _sender, gint response_id, gpointer self);
static void beat_box_library_window_real_editPreferencesClick (BeatBoxLibraryWindow* self);
BeatBoxPreferencesWindow* beat_box_preferences_window_new (BeatBoxLibraryManager* lm, BeatBoxLibraryWindow* lw);
BeatBoxPreferencesWindow* beat_box_preferences_window_construct (GType object_type, BeatBoxLibraryManager* lm, BeatBoxLibraryWindow* lw);
GType beat_box_preferences_window_get_type (void) G_GNUC_CONST;
static void _lambda19_ (const gchar* folder, BeatBoxLibraryWindow* self);
static void __lambda19__beat_box_preferences_window_changed (BeatBoxPreferencesWindow* _sender, const gchar* folder, gpointer self);
void beat_box_library_manager_set_music_folder (BeatBoxLibraryManager* self, const gchar* folder);
static void beat_box_library_window_real_end_of_stream (BeatBoxLibraryWindow* self, BeatBoxSong* s);
static void beat_box_library_window_real_current_position_update (BeatBoxLibraryWindow* self, gint64 position);
void last_fm_similar_songs_queryForSimilar (LastFMSimilarSongs* self, BeatBoxSong* s);
static gpointer _beat_box_library_window_lastfm_track_thread_function_gthread_func (gpointer self);
static gpointer _beat_box_library_window_lastfm_album_thread_function_gthread_func (gpointer self);
static gpointer _beat_box_library_window_lastfm_artist_thread_function_gthread_func (gpointer self);
void beat_box_song_set_last_played (BeatBoxSong* self, gint value);
void beat_box_library_manager_update_song (BeatBoxLibraryManager* self, BeatBoxSong* s, gboolean updateMeta);
void beat_box_library_manager_add_already_played (BeatBoxLibraryManager* self, gint i);
void beat_box_side_tree_view_updateAlreadyPlayed (BeatBoxSideTreeView* self);
gint beat_box_song_get_play_count (BeatBoxSong* self);
void beat_box_song_set_play_count (BeatBoxSong* self, gint value);
static void beat_box_library_window_real_similarRetrieved (BeatBoxLibraryWindow* self, GeeLinkedList* similarIDs, GeeLinkedList* similarDont);
void beat_box_similar_pane_updateSongs (BeatBoxSimilarPane* self, BeatBoxSong* la, GeeCollection* have);
void beat_box_info_panel_updateSongList (BeatBoxInfoPanel* self, GeeCollection* songs);
void beat_box_library_window_setStatusBarText (BeatBoxLibraryWindow* self, const gchar* text);
static void beat_box_library_window_real_infoPanelResized (BeatBoxLibraryWindow* self, GdkRectangle* rectangle);
void beat_box_settings_setMoreWidth (BeatBoxSettings* self, gint val);
static void beat_box_library_window_finalize (GObject* obj);
static void _vala_array_destroy (gpointer array, gint array_length, GDestroyNotify destroy_func);
static void _vala_array_free (gpointer array, gint array_length, GDestroyNotify destroy_func);


static void _beat_box_library_window_end_of_stream_beat_box_stream_player_end_of_stream (BeatBoxStreamPlayer* _sender, BeatBoxSong* s, gpointer self) {
	beat_box_library_window_end_of_stream (self, s);
}


static void _beat_box_library_window_current_position_update_beat_box_stream_player_current_position_update (BeatBoxStreamPlayer* _sender, gint64 position, gpointer self) {
	beat_box_library_window_current_position_update (self, position);
}


static void _beat_box_library_window_musicCounted_beat_box_library_manager_music_counted (BeatBoxLibraryManager* _sender, gint count, gpointer self) {
	beat_box_library_window_musicCounted (self, count);
}


static void _beat_box_library_window_musicAdded_beat_box_library_manager_music_added (BeatBoxLibraryManager* _sender, GeeLinkedList* not_imported, gpointer self) {
	beat_box_library_window_musicAdded (self, not_imported);
}


static void _beat_box_library_window_musicImported_beat_box_library_manager_music_imported (BeatBoxLibraryManager* _sender, GeeLinkedList* new_songs, GeeLinkedList* not_imported, gpointer self) {
	beat_box_library_window_musicImported (self, new_songs, not_imported);
}


static void _beat_box_library_window_musicRescanned_beat_box_library_manager_music_rescanned (BeatBoxLibraryManager* _sender, GeeLinkedList* new_songs, GeeLinkedList* not_imported, gpointer self) {
	beat_box_library_window_musicRescanned (self, new_songs, not_imported);
}


static void _beat_box_library_window_progressNotification_beat_box_library_manager_progress_notification (BeatBoxLibraryManager* _sender, const gchar* message, gdouble progress, gpointer self) {
	beat_box_library_window_progressNotification (self, message, progress);
}


static void _beat_box_library_window_song_added_beat_box_library_manager_song_added (BeatBoxLibraryManager* _sender, gint id, gpointer self) {
	beat_box_library_window_song_added (self, id);
}


static void _beat_box_library_window_songs_removed_beat_box_library_manager_songs_removed (BeatBoxLibraryManager* _sender, GeeLinkedList* ids, gpointer self) {
	beat_box_library_window_songs_removed (self, ids);
}


static void _beat_box_library_window_song_played_beat_box_library_manager_song_played (BeatBoxLibraryManager* _sender, gint id, gint old_id, gpointer self) {
	beat_box_library_window_song_played (self, id);
}


static void _beat_box_library_window_songs_updated_beat_box_library_manager_songs_updated (BeatBoxLibraryManager* _sender, GeeLinkedList* ids, gpointer self) {
	beat_box_library_window_songs_updated (self, ids);
}


static void _beat_box_library_window_similarRetrieved_last_fm_similar_songs_similar_retrieved (LastFMSimilarSongs* _sender, GeeLinkedList* similarIDs, GeeLinkedList* similarDont, gpointer self) {
	beat_box_library_window_similarRetrieved (self, similarIDs, similarDont);
}


static void _beat_box_library_window_on_quit_gtk_object_destroy (GtkObject* _sender, gpointer self) {
	beat_box_library_window_on_quit (self);
}


static void _beat_box_library_window_on_resize_gtk_container_check_resize (GtkContainer* _sender, gpointer self) {
	beat_box_library_window_on_resize (self);
}


static void _gtk_main_quit_gtk_object_destroy (GtkObject* _sender, gpointer self) {
	gtk_main_quit ();
}


static Block6Data* block6_data_ref (Block6Data* _data6_) {
	g_atomic_int_inc (&_data6_->_ref_count_);
	return _data6_;
}


static void block6_data_unref (Block6Data* _data6_) {
	if (g_atomic_int_dec_and_test (&_data6_->_ref_count_)) {
		_g_object_unref0 (_data6_->self);
		_g_object_unref0 (_data6_->s);
		g_slice_free (Block6Data, _data6_);
	}
}


static Block7Data* block7_data_ref (Block7Data* _data7_) {
	g_atomic_int_inc (&_data7_->_ref_count_);
	return _data7_;
}


static void block7_data_unref (Block7Data* _data7_) {
	if (g_atomic_int_dec_and_test (&_data7_->_ref_count_)) {
		block6_data_unref (_data7_->_data6_);
		_data7_->_data6_ = NULL;
		g_slice_free (Block7Data, _data7_);
	}
}


static gboolean _lambda21_ (Block7Data* _data7_) {
	Block6Data* _data6_;
	BeatBoxLibraryWindow * self;
	gboolean result = FALSE;
	gint _tmp0_;
	GtkWidget* _tmp1_ = NULL;
	BeatBoxMusicTreeView* _tmp2_;
	gboolean _tmp3_;
	GtkWidget* _tmp4_ = NULL;
	BeatBoxMusicTreeView* _tmp5_;
	_data6_ = _data7_->_data6_;
	self = _data6_->self;
	_tmp0_ = beat_box_song_get_rowid (_data6_->s);
	beat_box_library_manager_playSong (self->priv->lm, _tmp0_);
	_tmp1_ = beat_box_side_tree_view_getWidget (self->priv->sideTree, &self->priv->sideTree->library_music_iter);
	_tmp2_ = BEAT_BOX_MUSIC_TREE_VIEW (_tmp1_);
	beat_box_music_tree_view_setAsCurrentList (_tmp2_, NULL);
	_g_object_unref0 (_tmp2_);
	_tmp3_ = beat_box_settings_getShuffleEnabled (self->priv->settings);
	if (_tmp3_) {
		beat_box_library_window_shuffleClicked (self);
	}
	_tmp4_ = beat_box_side_tree_view_getWidget (self->priv->sideTree, &self->priv->sideTree->library_music_iter);
	_tmp5_ = BEAT_BOX_MUSIC_TREE_VIEW (_tmp4_);
	beat_box_music_tree_view_scrollToCurrent (_tmp5_);
	_g_object_unref0 (_tmp5_);
	elementary_widgets_top_display_change_value (self->priv->topDisplay, GTK_SCROLL_NONE, (gdouble) _data7_->position);
	result = FALSE;
	return result;
}


static gboolean __lambda21__gsource_func (gpointer self) {
	gboolean result;
	result = _lambda21_ (self);
	return result;
}


BeatBoxLibraryWindow* beat_box_library_window_construct (GType object_type, BeatBoxDataBaseManager* dbm, BeatBoxStreamPlayer* player) {
	BeatBoxLibraryWindow * self = NULL;
	BeatBoxSettings* _tmp0_ = NULL;
	BeatBoxSettings* _tmp1_;
	BeatBoxLibraryManager* _tmp2_ = NULL;
	BeatBoxLibraryManager* _tmp3_;
	LastFMSimilarSongs* _tmp4_ = NULL;
	LastFMSimilarSongs* _tmp5_;
	GeeLinkedList* _tmp6_ = NULL;
	GeeLinkedList* _tmp7_;
	BeatBoxMediaKeyListener* _tmp8_ = NULL;
	BeatBoxMediaKeyListener* _tmp9_;
	gchar* _tmp10_;
	gchar* _tmp11_;
	gboolean _tmp12_ = FALSE;
	gint _tmp13_;
	g_return_val_if_fail (dbm != NULL, NULL);
	g_return_val_if_fail (player != NULL, NULL);
	self = (BeatBoxLibraryWindow*) g_object_new (object_type, NULL);
	_tmp0_ = beat_box_settings_new ();
	_tmp1_ = _tmp0_;
	_g_object_unref0 (self->priv->settings);
	self->priv->settings = _tmp1_;
	_tmp2_ = beat_box_library_manager_new (player, dbm, self->priv->settings);
	_tmp3_ = _tmp2_;
	_g_object_unref0 (self->priv->lm);
	self->priv->lm = _tmp3_;
	_tmp4_ = last_fm_similar_songs_new (self->priv->lm);
	_tmp5_ = _tmp4_;
	_g_object_unref0 (self->priv->similarSongs);
	self->priv->similarSongs = _tmp5_;
	_tmp6_ = gee_linked_list_new (G_TYPE_STRING, (GBoxedCopyFunc) g_strdup, g_free, NULL);
	_tmp7_ = _tmp6_;
	_g_object_unref0 (self->priv->timeout_search);
	self->priv->timeout_search = _tmp7_;
	_tmp8_ = beat_box_media_key_listener_new (self->priv->lm, self);
	_tmp9_ = _tmp8_;
	_g_object_unref0 (self->priv->mkl);
	self->priv->mkl = _tmp9_;
	_tmp10_ = g_strdup ("");
	_tmp11_ = _tmp10_;
	_g_free0 (self->priv->last_search);
	self->priv->last_search = _tmp11_;
	beat_box_library_window_build_ui (self);
	g_signal_connect_object (self->priv->lm->player, "end-of-stream", (GCallback) _beat_box_library_window_end_of_stream_beat_box_stream_player_end_of_stream, self, 0);
	g_signal_connect_object (self->priv->lm->player, "current-position-update", (GCallback) _beat_box_library_window_current_position_update_beat_box_stream_player_current_position_update, self, 0);
	g_signal_connect_object (self->priv->lm, "music-counted", (GCallback) _beat_box_library_window_musicCounted_beat_box_library_manager_music_counted, self, 0);
	g_signal_connect_object (self->priv->lm, "music-added", (GCallback) _beat_box_library_window_musicAdded_beat_box_library_manager_music_added, self, 0);
	g_signal_connect_object (self->priv->lm, "music-imported", (GCallback) _beat_box_library_window_musicImported_beat_box_library_manager_music_imported, self, 0);
	g_signal_connect_object (self->priv->lm, "music-rescanned", (GCallback) _beat_box_library_window_musicRescanned_beat_box_library_manager_music_rescanned, self, 0);
	g_signal_connect_object (self->priv->lm, "progress-notification", (GCallback) _beat_box_library_window_progressNotification_beat_box_library_manager_progress_notification, self, 0);
	g_signal_connect_object (self->priv->lm, "song-added", (GCallback) _beat_box_library_window_song_added_beat_box_library_manager_song_added, self, 0);
	g_signal_connect_object (self->priv->lm, "songs-removed", (GCallback) _beat_box_library_window_songs_removed_beat_box_library_manager_songs_removed, self, 0);
	g_signal_connect_object (self->priv->lm, "song-played", (GCallback) _beat_box_library_window_song_played_beat_box_library_manager_song_played, self, 0);
	g_signal_connect_object (self->priv->lm, "songs-updated", (GCallback) _beat_box_library_window_songs_updated_beat_box_library_manager_songs_updated, self, 0);
	g_signal_connect_object (self->priv->similarSongs, "similar-retrieved", (GCallback) _beat_box_library_window_similarRetrieved_last_fm_similar_songs_similar_retrieved, self, 0);
	g_signal_connect_object ((GtkObject*) self, "destroy", (GCallback) _beat_box_library_window_on_quit_gtk_object_destroy, self, 0);
	g_signal_connect_object ((GtkContainer*) self, "check-resize", (GCallback) _beat_box_library_window_on_resize_gtk_container_check_resize, self, 0);
	g_signal_connect ((GtkObject*) self, "destroy", (GCallback) _gtk_main_quit_gtk_object_destroy, NULL);
	gtk_window_present ((GtkWindow*) self);
	_tmp13_ = beat_box_library_manager_song_count (self->priv->lm);
	if (_tmp13_ == 0) {
		gchar* _tmp14_ = NULL;
		gchar* _tmp15_;
		_tmp14_ = beat_box_settings_getMusicFolder (self->priv->settings);
		_tmp15_ = _tmp14_;
		_tmp12_ = g_strcmp0 (_tmp15_, "") == 0;
		_g_free0 (_tmp15_);
	} else {
		_tmp12_ = FALSE;
	}
	if (_tmp12_) {
		const gchar* _tmp16_ = NULL;
		fprintf (stdout, "First run, setting music folder and importing.\n");
		_tmp16_ = g_get_user_special_dir (G_USER_DIRECTORY_MUSIC);
		beat_box_library_window_setMusicFolder (self, _tmp16_);
	} else {
		gboolean _tmp17_ = FALSE;
		gint _tmp18_;
		_tmp18_ = beat_box_library_manager_song_count (self->priv->lm);
		if (_tmp18_ == 0) {
			gchar* _tmp19_ = NULL;
			gchar* _tmp20_;
			_tmp19_ = beat_box_settings_getMusicFolder (self->priv->settings);
			_tmp20_ = _tmp19_;
			_tmp17_ = g_strcmp0 (_tmp20_, "") != 0;
			_g_free0 (_tmp20_);
		} else {
			_tmp17_ = FALSE;
		}
		if (_tmp17_) {
			const gchar* _tmp21_ = NULL;
			_tmp21_ = g_get_user_special_dir (G_USER_DIRECTORY_MUSIC);
			beat_box_library_window_setMusicFolder (self, _tmp21_);
		} else {
			Block6Data* _data6_;
			gint _tmp22_;
			gint _tmp23_;
			gint _tmp24_;
			gint _tmp25_;
			BeatBoxSong* _tmp26_ = NULL;
			const gchar* _tmp27_ = NULL;
			const gchar* _tmp28_ = NULL;
			BeatBoxSong* _tmp29_ = NULL;
			BeatBoxSong* _tmp30_;
			gint _tmp31_;
			_data6_ = g_slice_new0 (Block6Data);
			_data6_->_ref_count_ = 1;
			_data6_->self = g_object_ref (self);
			beat_box_library_manager_clearCurrent (self->priv->lm);
			_tmp22_ = beat_box_settings_getLastSongPosition (self->priv->settings);
			if (((gint) _tmp22_) > 5) {
				self->priv->queriedlastfm = TRUE;
			}
			_tmp23_ = beat_box_settings_getLastSongPosition (self->priv->settings);
			if (((gint) _tmp23_) > 30) {
				self->priv->song_considered_played = TRUE;
			}
			_tmp24_ = beat_box_settings_getLastSongPosition (self->priv->settings);
			_tmp25_ = beat_box_song_get_length (self->priv->lm->song_info->song);
			if (((gdouble) (((gint) _tmp24_) / ((gdouble) _tmp25_))) > 0.90) {
				self->priv->added_to_play_count = TRUE;
			}
			_tmp26_ = beat_box_settings_getLastSongPlaying (self->priv->settings);
			_data6_->s = _tmp26_;
			_tmp27_ = beat_box_song_get_title (_data6_->s);
			_tmp28_ = beat_box_song_get_artist (_data6_->s);
			_tmp29_ = beat_box_library_manager_song_from_name (self->priv->lm, _tmp27_, _tmp28_);
			_tmp30_ = _tmp29_;
			_g_object_unref0 (_data6_->s);
			_data6_->s = _tmp30_;
			_tmp31_ = beat_box_song_get_rowid (_data6_->s);
			if (_tmp31_ != 0) {
				Block7Data* _data7_;
				gint _tmp32_;
				_data7_ = g_slice_new0 (Block7Data);
				_data7_->_ref_count_ = 1;
				_data7_->_data6_ = block6_data_ref (_data6_);
				_tmp32_ = beat_box_settings_getLastSongPosition (self->priv->settings);
				_data7_->position = (gint) _tmp32_;
				g_timeout_add_full (G_PRIORITY_DEFAULT, (guint) 500, __lambda21__gsource_func, block7_data_ref (_data7_), block7_data_unref);
				block7_data_unref (_data7_);
				_data7_ = NULL;
			}
			beat_box_library_manager_rescan_music_folder (self->priv->lm);
			block6_data_unref (_data6_);
			_data6_ = NULL;
		}
	}
	return self;
}


BeatBoxLibraryWindow* beat_box_library_window_new (BeatBoxDataBaseManager* dbm, BeatBoxStreamPlayer* player) {
	return beat_box_library_window_construct (BEAT_BOX_TYPE_LIBRARY_WINDOW, dbm, player);
}


static void _beat_box_library_window_fileImportMusicClick_gtk_menu_item_activate (GtkMenuItem* _sender, gpointer self) {
	beat_box_library_window_fileImportMusicClick (self);
}


static void _beat_box_library_window_fileRescanMusicFolderClick_gtk_menu_item_activate (GtkMenuItem* _sender, gpointer self) {
	beat_box_library_window_fileRescanMusicFolderClick (self);
}


static void _lambda12_ (BeatBoxLibraryWindow* self) {
	gchar* _tmp0_;
	gchar* auth_uri;
	GError * _inner_error_ = NULL;
	_tmp0_ = g_strdup ("https://answers.launchpad.net/beat-box");
	auth_uri = _tmp0_;
	g_app_info_launch_default_for_uri (auth_uri, NULL, &_inner_error_);
	if (_inner_error_ != NULL) {
		goto __catch57_g_error;
	}
	goto __finally57;
	__catch57_g_error:
	{
		GError * err;
		err = _inner_error_;
		_inner_error_ = NULL;
		fprintf (stdout, "Could not load webpage %s: %s\n", auth_uri, err->message);
		_g_error_free0 (err);
	}
	__finally57:
	if (_inner_error_ != NULL) {
		_g_free0 (auth_uri);
		g_critical ("file %s: line %d: uncaught error: %s (%s, %d)", __FILE__, __LINE__, _inner_error_->message, g_quark_to_string (_inner_error_->domain), _inner_error_->code);
		g_clear_error (&_inner_error_);
		return;
	}
	_g_free0 (auth_uri);
}


static void __lambda12__gtk_menu_item_activate (GtkMenuItem* _sender, gpointer self) {
	_lambda12_ (self);
}


static void _lambda13_ (BeatBoxLibraryWindow* self) {
	gchar* _tmp0_;
	gchar* auth_uri;
	GError * _inner_error_ = NULL;
	_tmp0_ = g_strdup ("https://translations.launchpad.net/beat-box");
	auth_uri = _tmp0_;
	g_app_info_launch_default_for_uri (auth_uri, NULL, &_inner_error_);
	if (_inner_error_ != NULL) {
		goto __catch58_g_error;
	}
	goto __finally58;
	__catch58_g_error:
	{
		GError * err;
		err = _inner_error_;
		_inner_error_ = NULL;
		fprintf (stdout, "Could not load webpage %s: %s\n", auth_uri, err->message);
		_g_error_free0 (err);
	}
	__finally58:
	if (_inner_error_ != NULL) {
		_g_free0 (auth_uri);
		g_critical ("file %s: line %d: uncaught error: %s (%s, %d)", __FILE__, __LINE__, _inner_error_->message, g_quark_to_string (_inner_error_->domain), _inner_error_->code);
		g_clear_error (&_inner_error_);
		return;
	}
	_g_free0 (auth_uri);
}


static void __lambda13__gtk_menu_item_activate (GtkMenuItem* _sender, gpointer self) {
	_lambda13_ (self);
}


static void _lambda14_ (BeatBoxLibraryWindow* self) {
	gchar* _tmp0_;
	gchar* auth_uri;
	GError * _inner_error_ = NULL;
	_tmp0_ = g_strdup ("https://bugs.launchpad.net/beat-box");
	auth_uri = _tmp0_;
	g_app_info_launch_default_for_uri (auth_uri, NULL, &_inner_error_);
	if (_inner_error_ != NULL) {
		goto __catch59_g_error;
	}
	goto __finally59;
	__catch59_g_error:
	{
		GError * err;
		err = _inner_error_;
		_inner_error_ = NULL;
		fprintf (stdout, "Could not load webpage %s: %s\n", auth_uri, err->message);
		_g_error_free0 (err);
	}
	__finally59:
	if (_inner_error_ != NULL) {
		_g_free0 (auth_uri);
		g_critical ("file %s: line %d: uncaught error: %s (%s, %d)", __FILE__, __LINE__, _inner_error_->message, g_quark_to_string (_inner_error_->domain), _inner_error_->code);
		g_clear_error (&_inner_error_);
		return;
	}
	_g_free0 (auth_uri);
}


static void __lambda14__gtk_menu_item_activate (GtkMenuItem* _sender, gpointer self) {
	_lambda14_ (self);
}


static void _beat_box_library_window_helpAboutClick_gtk_menu_item_activate (GtkMenuItem* _sender, gpointer self) {
	beat_box_library_window_helpAboutClick (self);
}


static void _beat_box_library_window_editPreferencesClick_gtk_menu_item_activate (GtkMenuItem* _sender, gpointer self) {
	beat_box_library_window_editPreferencesClick (self);
}


static void _beat_box_library_window_sourcesToSongsHandleSet_gtk_widget_size_allocate (GtkWidget* _sender, GdkRectangle* allocation, gpointer self) {
	beat_box_library_window_sourcesToSongsHandleSet (self, allocation);
}


static void _beat_box_library_window_welcomeScreenActivated_elementary_widgets_welcome_activated (ElementaryWidgetsWelcome* _sender, gint index, gpointer self) {
	beat_box_library_window_welcomeScreenActivated (self, index);
}


static void _beat_box_library_window_sideListDoubleClick_gtk_tree_view_row_activated (GtkTreeView* _sender, GtkTreePath* path, GtkTreeViewColumn* column, gpointer self) {
	beat_box_library_window_sideListDoubleClick (self, path, column);
}


static void _beat_box_library_window_previousClicked_gtk_tool_button_clicked (GtkToolButton* _sender, gpointer self) {
	beat_box_library_window_previousClicked (self);
}


static void _beat_box_library_window_playClicked_gtk_tool_button_clicked (GtkToolButton* _sender, gpointer self) {
	beat_box_library_window_playClicked (self);
}


static void _beat_box_library_window_nextClicked_gtk_tool_button_clicked (GtkToolButton* _sender, gpointer self) {
	beat_box_library_window_nextClicked (self);
}


static void _beat_box_library_window_shuffleClicked_gtk_button_clicked (GtkButton* _sender, gpointer self) {
	beat_box_library_window_shuffleClicked (self);
}


static void _beat_box_library_window_loveButtonClicked_gtk_button_clicked (GtkButton* _sender, gpointer self) {
	beat_box_library_window_loveButtonClicked (self);
}


static void _beat_box_library_window_banButtonClicked_gtk_button_clicked (GtkButton* _sender, gpointer self) {
	beat_box_library_window_banButtonClicked (self);
}


static void _beat_box_library_window_infoPanelResized_gtk_widget_size_allocate (GtkWidget* _sender, GdkRectangle* allocation, gpointer self) {
	beat_box_library_window_infoPanelResized (self, allocation);
}


void beat_box_library_window_build_ui (BeatBoxLibraryWindow* self) {
	gint _tmp0_;
	gint _tmp1_;
	GdkGeometry geo = {0};
	GdkPixbuf* _tmp2_ = NULL;
	GdkPixbuf* _tmp3_;
	GtkVBox* _tmp4_ = NULL;
	GtkVBox* _tmp5_;
	GtkHPaned* _tmp6_ = NULL;
	GtkHPaned* _tmp7_;
	GtkHPaned* _tmp8_ = NULL;
	GtkHPaned* _tmp9_;
	GtkVBox* _tmp10_ = NULL;
	GtkVBox* _tmp11_;
	GtkVBox* _tmp12_ = NULL;
	GtkVBox* _tmp13_;
	ElementaryWidgetsWelcome* _tmp14_ = NULL;
	ElementaryWidgetsWelcome* _tmp15_;
	BeatBoxSideTreeView* _tmp16_ = NULL;
	BeatBoxSideTreeView* _tmp17_;
	GtkScrolledWindow* _tmp18_ = NULL;
	GtkScrolledWindow* _tmp19_;
	GtkImage* _tmp20_ = NULL;
	GtkImage* _tmp21_;
	GtkMenuBar* _tmp22_ = NULL;
	GtkMenuBar* _tmp23_;
	GtkMenuItem* _tmp24_ = NULL;
	GtkMenuItem* _tmp25_;
	GtkMenu* _tmp26_ = NULL;
	GtkMenu* _tmp27_;
	GtkMenuItem* _tmp28_ = NULL;
	GtkMenuItem* _tmp29_;
	GtkMenuItem* _tmp30_ = NULL;
	GtkMenuItem* _tmp31_;
	GtkMenuItem* _tmp32_ = NULL;
	GtkMenuItem* _tmp33_;
	GtkMenuItem* _tmp34_ = NULL;
	GtkMenuItem* _tmp35_;
	GtkMenuItem* _tmp36_ = NULL;
	GtkMenuItem* _tmp37_;
	GtkMenuItem* _tmp38_ = NULL;
	GtkMenuItem* _tmp39_;
	GtkMenuItem* _tmp40_ = NULL;
	GtkMenuItem* _tmp41_;
	GtkMenu* _tmp42_ = NULL;
	GtkMenu* _tmp43_;
	GtkToolbar* _tmp44_ = NULL;
	GtkToolbar* _tmp45_;
	GtkToolButton* _tmp46_ = NULL;
	GtkToolButton* _tmp47_;
	GtkToolButton* _tmp48_ = NULL;
	GtkToolButton* _tmp49_;
	GtkToolButton* _tmp50_ = NULL;
	GtkToolButton* _tmp51_;
	GtkButton* _tmp52_ = NULL;
	GtkButton* _tmp53_;
	GtkButton* _tmp54_ = NULL;
	GtkButton* _tmp55_;
	GtkButton* _tmp56_ = NULL;
	GtkButton* _tmp57_;
	ElementaryWidgetsTopDisplay* _tmp58_ = NULL;
	ElementaryWidgetsTopDisplay* _tmp59_;
	ElementaryWidgetsElementarySearchEntry* _tmp60_ = NULL;
	ElementaryWidgetsElementarySearchEntry* _tmp61_;
	ElementaryWidgetsAppMenu* _tmp62_ = NULL;
	ElementaryWidgetsAppMenu* _tmp63_;
	GtkScrolledWindow* _tmp64_ = NULL;
	GtkScrolledWindow* _tmp65_;
	GtkScrolledWindow* _tmp66_ = NULL;
	GtkScrolledWindow* _tmp67_;
	GtkScrolledWindow* _tmp68_ = NULL;
	GtkScrolledWindow* _tmp69_;
	BeatBoxInfoPanel* _tmp70_ = NULL;
	BeatBoxInfoPanel* _tmp71_;
	GtkVBox* _tmp72_ = NULL;
	GtkVBox* _tmp73_;
	GtkStatusbar* _tmp74_ = NULL;
	GtkStatusbar* _tmp75_;
	GObject* _tmp76_ = NULL;
	GObject* _tmp77_;
	NotifyNotification* _tmp78_;
	gint _tmp79_;
	gint _tmp80_;
	gint _tmp81_;
	gint _tmp82_;
	gint _tmp83_;
	GtkSeparatorMenuItem* _tmp84_ = NULL;
	GtkSeparatorMenuItem* _tmp85_;
	GtkSeparatorMenuItem* _tmp86_ = NULL;
	GtkSeparatorMenuItem* _tmp87_;
	GtkToolItem* _tmp88_ = NULL;
	GtkToolItem* topDisplayBin;
	GtkToolItem* _tmp89_ = NULL;
	GtkToolItem* searchFieldBin;
	GtkToolItem* _tmp90_ = NULL;
	GtkToolItem* appMenuBin;
	g_return_if_fail (self != NULL);
	fprintf (stdout, "Building user interface\n");
	_tmp0_ = beat_box_settings_getWindowWidth (self->priv->settings);
	_tmp1_ = beat_box_settings_getWindowHeight (self->priv->settings);
	gtk_window_set_default_size ((GtkWindow*) self, _tmp0_, _tmp1_);
	memset (&geo, 0, sizeof (GdkGeometry));
	geo.min_width = 700;
	geo.min_height = 400;
	gtk_window_set_geometry_hints ((GtkWindow*) self, (GtkWidget*) self, &geo, GDK_HINT_MIN_SIZE);
	gtk_window_set_title ((GtkWindow*) self, "BeatBox");
	_tmp2_ = gtk_widget_render_icon ((GtkWidget*) self, "beatbox", GTK_ICON_SIZE_DIALOG, NULL);
	_tmp3_ = _tmp2_;
	gtk_window_set_icon ((GtkWindow*) self, _tmp3_);
	_g_object_unref0 (_tmp3_);
	_tmp4_ = (GtkVBox*) gtk_vbox_new (FALSE, 0);
	_tmp5_ = g_object_ref_sink (_tmp4_);
	_g_object_unref0 (self->priv->verticalBox);
	self->priv->verticalBox = _tmp5_;
	_tmp6_ = (GtkHPaned*) gtk_hpaned_new ();
	_tmp7_ = g_object_ref_sink (_tmp6_);
	_g_object_unref0 (self->priv->sourcesToSongs);
	self->priv->sourcesToSongs = _tmp7_;
	_tmp8_ = (GtkHPaned*) gtk_hpaned_new ();
	_tmp9_ = g_object_ref_sink (_tmp8_);
	_g_object_unref0 (self->priv->songsToInfo);
	self->priv->songsToInfo = _tmp9_;
	_tmp10_ = (GtkVBox*) gtk_vbox_new (FALSE, 0);
	_tmp11_ = g_object_ref_sink (_tmp10_);
	_g_object_unref0 (self->priv->contentBox);
	self->priv->contentBox = _tmp11_;
	_tmp12_ = (GtkVBox*) gtk_vbox_new (FALSE, 0);
	_tmp13_ = g_object_ref_sink (_tmp12_);
	_g_object_unref0 (self->priv->mainViews);
	self->priv->mainViews = _tmp13_;
	_tmp14_ = elementary_widgets_welcome_new ("Get some tunes.", "BeatBox can't seem to find your music");
	_tmp15_ = g_object_ref_sink (_tmp14_);
	_g_object_unref0 (self->priv->welcomeScreen);
	self->priv->welcomeScreen = _tmp15_;
	_tmp16_ = beat_box_side_tree_view_new (self->priv->lm, self);
	_tmp17_ = g_object_ref_sink (_tmp16_);
	_g_object_unref0 (self->priv->sideTree);
	self->priv->sideTree = _tmp17_;
	_tmp18_ = (GtkScrolledWindow*) gtk_scrolled_window_new (NULL, NULL);
	_tmp19_ = g_object_ref_sink (_tmp18_);
	_g_object_unref0 (self->priv->sideTreeScroll);
	self->priv->sideTreeScroll = _tmp19_;
	_tmp20_ = (GtkImage*) gtk_image_new ();
	_tmp21_ = g_object_ref_sink (_tmp20_);
	_g_object_unref0 (self->priv->coverArt);
	self->priv->coverArt = _tmp21_;
	_tmp22_ = (GtkMenuBar*) gtk_menu_bar_new ();
	_tmp23_ = g_object_ref_sink (_tmp22_);
	_g_object_unref0 (self->priv->topMenu);
	self->priv->topMenu = _tmp23_;
	_tmp24_ = (GtkMenuItem*) gtk_menu_item_new_with_label ("Library");
	_tmp25_ = g_object_ref_sink (_tmp24_);
	_g_object_unref0 (self->priv->libraryOperations);
	self->priv->libraryOperations = _tmp25_;
	_tmp26_ = (GtkMenu*) gtk_menu_new ();
	_tmp27_ = g_object_ref_sink (_tmp26_);
	_g_object_unref0 (self->priv->libraryOperationsMenu);
	self->priv->libraryOperationsMenu = _tmp27_;
	_tmp28_ = (GtkMenuItem*) gtk_menu_item_new_with_label ("Import to Library");
	_tmp29_ = g_object_ref_sink (_tmp28_);
	_g_object_unref0 (self->priv->fileImportMusic);
	self->priv->fileImportMusic = _tmp29_;
	_tmp30_ = (GtkMenuItem*) gtk_menu_item_new_with_label ("Rescan Music Folder");
	_tmp31_ = g_object_ref_sink (_tmp30_);
	_g_object_unref0 (self->priv->fileRescanMusicFolder);
	self->priv->fileRescanMusicFolder = _tmp31_;
	_tmp32_ = (GtkMenuItem*) gtk_menu_item_new_with_label ("Get Help Online...");
	_tmp33_ = g_object_ref_sink (_tmp32_);
	_g_object_unref0 (self->priv->helpOnline);
	self->priv->helpOnline = _tmp33_;
	_tmp34_ = (GtkMenuItem*) gtk_menu_item_new_with_label ("Translate This Application...");
	_tmp35_ = g_object_ref_sink (_tmp34_);
	_g_object_unref0 (self->priv->helpTranslate);
	self->priv->helpTranslate = _tmp35_;
	_tmp36_ = (GtkMenuItem*) gtk_menu_item_new_with_label ("Report a Problem...");
	_tmp37_ = g_object_ref_sink (_tmp36_);
	_g_object_unref0 (self->priv->helpReport);
	self->priv->helpReport = _tmp37_;
	_tmp38_ = (GtkMenuItem*) gtk_menu_item_new_with_label ("About");
	_tmp39_ = g_object_ref_sink (_tmp38_);
	_g_object_unref0 (self->priv->helpAbout);
	self->priv->helpAbout = _tmp39_;
	_tmp40_ = (GtkMenuItem*) gtk_menu_item_new_with_label ("Preferences");
	_tmp41_ = g_object_ref_sink (_tmp40_);
	_g_object_unref0 (self->priv->editPreferences);
	self->priv->editPreferences = _tmp41_;
	_tmp42_ = (GtkMenu*) gtk_menu_new ();
	_tmp43_ = g_object_ref_sink (_tmp42_);
	_g_object_unref0 (self->priv->settingsMenu);
	self->priv->settingsMenu = _tmp43_;
	_tmp44_ = (GtkToolbar*) gtk_toolbar_new ();
	_tmp45_ = g_object_ref_sink (_tmp44_);
	_g_object_unref0 (self->priv->topControls);
	self->priv->topControls = _tmp45_;
	_tmp46_ = (GtkToolButton*) gtk_tool_button_new_from_stock (GTK_STOCK_MEDIA_PREVIOUS);
	_tmp47_ = g_object_ref_sink (_tmp46_);
	_g_object_unref0 (self->priv->previousButton);
	self->priv->previousButton = _tmp47_;
	_tmp48_ = (GtkToolButton*) gtk_tool_button_new_from_stock (GTK_STOCK_MEDIA_PLAY);
	_tmp49_ = g_object_ref_sink (_tmp48_);
	_g_object_unref0 (self->priv->playButton);
	self->priv->playButton = _tmp49_;
	_tmp50_ = (GtkToolButton*) gtk_tool_button_new_from_stock (GTK_STOCK_MEDIA_NEXT);
	_tmp51_ = g_object_ref_sink (_tmp50_);
	_g_object_unref0 (self->priv->nextButton);
	self->priv->nextButton = _tmp51_;
	_tmp52_ = (GtkButton*) gtk_button_new_with_label ("Shuffle");
	_tmp53_ = g_object_ref_sink (_tmp52_);
	_g_object_unref0 (self->priv->shuffleButton);
	self->priv->shuffleButton = _tmp53_;
	_tmp54_ = (GtkButton*) gtk_button_new_with_label ("Love");
	_tmp55_ = g_object_ref_sink (_tmp54_);
	_g_object_unref0 (self->priv->loveButton);
	self->priv->loveButton = _tmp55_;
	_tmp56_ = (GtkButton*) gtk_button_new_with_label ("Ban");
	_tmp57_ = g_object_ref_sink (_tmp56_);
	_g_object_unref0 (self->priv->banButton);
	self->priv->banButton = _tmp57_;
	_tmp58_ = elementary_widgets_top_display_new (self->priv->lm);
	_tmp59_ = g_object_ref_sink (_tmp58_);
	_g_object_unref0 (self->priv->topDisplay);
	self->priv->topDisplay = _tmp59_;
	_tmp60_ = elementary_widgets_elementary_search_entry_new ("Search...");
	_tmp61_ = g_object_ref_sink (_tmp60_);
	_g_object_unref0 (self->searchField);
	self->searchField = _tmp61_;
	_tmp62_ = elementary_widgets_app_menu_new_from_stock (GTK_STOCK_PROPERTIES, GTK_ICON_SIZE_MENU, "Menu", self->priv->settingsMenu);
	_tmp63_ = g_object_ref_sink (_tmp62_);
	_g_object_unref0 (self->priv->appMenu);
	self->priv->appMenu = _tmp63_;
	_tmp64_ = (GtkScrolledWindow*) gtk_scrolled_window_new (NULL, NULL);
	_tmp65_ = g_object_ref_sink (_tmp64_);
	_g_object_unref0 (self->priv->songInfoScroll);
	self->priv->songInfoScroll = _tmp65_;
	_tmp66_ = (GtkScrolledWindow*) gtk_scrolled_window_new (NULL, NULL);
	_tmp67_ = g_object_ref_sink (_tmp66_);
	_g_object_unref0 (self->priv->pandoraScroll);
	self->priv->pandoraScroll = _tmp67_;
	_tmp68_ = (GtkScrolledWindow*) gtk_scrolled_window_new (NULL, NULL);
	_tmp69_ = g_object_ref_sink (_tmp68_);
	_g_object_unref0 (self->priv->grooveSharkScroll);
	self->priv->grooveSharkScroll = _tmp69_;
	_tmp70_ = beat_box_info_panel_new (self->priv->lm, self);
	_tmp71_ = g_object_ref_sink (_tmp70_);
	_g_object_unref0 (self->priv->infoPanel);
	self->priv->infoPanel = _tmp71_;
	_tmp72_ = (GtkVBox*) gtk_vbox_new (FALSE, 0);
	_tmp73_ = g_object_ref_sink (_tmp72_);
	_g_object_unref0 (self->priv->sideBar);
	self->priv->sideBar = _tmp73_;
	_tmp74_ = (GtkStatusbar*) gtk_statusbar_new ();
	_tmp75_ = g_object_ref_sink (_tmp74_);
	_g_object_unref0 (self->priv->statusBar);
	self->priv->statusBar = _tmp75_;
	_tmp76_ = g_object_new (NOTIFY_TYPE_NOTIFICATION, "summary", "Title", "body", "Artist\nAlbum", NULL);
	_tmp78_ = NOTIFY_NOTIFICATION ((_tmp77_ = _tmp76_, G_IS_INITIALLY_UNOWNED (_tmp77_) ? g_object_ref_sink (_tmp77_) : _tmp77_));
	_g_object_unref0 (self->priv->notification);
	self->priv->notification = _tmp78_;
	_tmp79_ = beat_box_settings_getSidebarWidth (self->priv->settings);
	gtk_widget_set_size_request ((GtkWidget*) self->priv->sideBar, _tmp79_, -1);
	_tmp80_ = beat_box_settings_getSidebarWidth (self->priv->settings);
	gtk_paned_set_position ((GtkPaned*) self->priv->sourcesToSongs, _tmp80_);
	_tmp81_ = beat_box_settings_getWindowWidth (self->priv->lm->settings);
	_tmp82_ = beat_box_settings_getSidebarWidth (self->priv->lm->settings);
	_tmp83_ = beat_box_settings_getMoreWidth (self->priv->lm->settings);
	gtk_paned_set_position ((GtkPaned*) self->priv->songsToInfo, (_tmp81_ - _tmp82_) - _tmp83_);
	beat_box_library_window_buildSideTree (self);
	gtk_button_set_relief (self->priv->shuffleButton, GTK_RELIEF_NONE);
	gtk_button_set_relief (self->priv->loveButton, GTK_RELIEF_NONE);
	gtk_button_set_relief (self->priv->banButton, GTK_RELIEF_NONE);
	beat_box_library_window_updateSensitivities (self);
	gtk_menu_shell_append ((GtkMenuShell*) self->priv->libraryOperationsMenu, (GtkWidget*) self->priv->fileImportMusic);
	gtk_menu_shell_append ((GtkMenuShell*) self->priv->libraryOperationsMenu, (GtkWidget*) self->priv->fileRescanMusicFolder);
	gtk_menu_item_set_submenu (self->priv->libraryOperations, self->priv->libraryOperationsMenu);
	gtk_menu_shell_append ((GtkMenuShell*) self->priv->settingsMenu, (GtkWidget*) self->priv->libraryOperations);
	_tmp84_ = (GtkSeparatorMenuItem*) gtk_separator_menu_item_new ();
	_tmp85_ = g_object_ref_sink (_tmp84_);
	gtk_menu_shell_append ((GtkMenuShell*) self->priv->settingsMenu, (GtkWidget*) ((GtkMenuItem*) _tmp85_));
	_g_object_unref0 (_tmp85_);
	gtk_menu_shell_append ((GtkMenuShell*) self->priv->settingsMenu, (GtkWidget*) self->priv->helpOnline);
	gtk_menu_shell_append ((GtkMenuShell*) self->priv->settingsMenu, (GtkWidget*) self->priv->helpTranslate);
	gtk_menu_shell_append ((GtkMenuShell*) self->priv->settingsMenu, (GtkWidget*) self->priv->helpReport);
	_tmp86_ = (GtkSeparatorMenuItem*) gtk_separator_menu_item_new ();
	_tmp87_ = g_object_ref_sink (_tmp86_);
	gtk_menu_shell_append ((GtkMenuShell*) self->priv->settingsMenu, (GtkWidget*) ((GtkMenuItem*) _tmp87_));
	_g_object_unref0 (_tmp87_);
	gtk_menu_shell_append ((GtkMenuShell*) self->priv->settingsMenu, (GtkWidget*) self->priv->helpAbout);
	gtk_menu_shell_append ((GtkMenuShell*) self->priv->settingsMenu, (GtkWidget*) self->priv->editPreferences);
	g_signal_connect_object (self->priv->fileImportMusic, "activate", (GCallback) _beat_box_library_window_fileImportMusicClick_gtk_menu_item_activate, self, 0);
	g_signal_connect_object (self->priv->fileRescanMusicFolder, "activate", (GCallback) _beat_box_library_window_fileRescanMusicFolderClick_gtk_menu_item_activate, self, 0);
	g_signal_connect_object (self->priv->helpOnline, "activate", (GCallback) __lambda12__gtk_menu_item_activate, self, 0);
	g_signal_connect_object (self->priv->helpTranslate, "activate", (GCallback) __lambda13__gtk_menu_item_activate, self, 0);
	g_signal_connect_object (self->priv->helpReport, "activate", (GCallback) __lambda14__gtk_menu_item_activate, self, 0);
	g_signal_connect_object (self->priv->helpAbout, "activate", (GCallback) _beat_box_library_window_helpAboutClick_gtk_menu_item_activate, self, 0);
	g_signal_connect_object (self->priv->editPreferences, "activate", (GCallback) _beat_box_library_window_editPreferencesClick_gtk_menu_item_activate, self, 0);
	gtk_statusbar_set_has_resize_grip (self->priv->statusBar, TRUE);
	gtk_container_add ((GtkContainer*) self, (GtkWidget*) self->priv->verticalBox);
	gtk_box_pack_start ((GtkBox*) self->priv->verticalBox, (GtkWidget*) self->priv->topMenu, FALSE, TRUE, (guint) 0);
	gtk_box_pack_start ((GtkBox*) self->priv->verticalBox, (GtkWidget*) self->priv->topControls, FALSE, TRUE, (guint) 0);
	gtk_box_pack_start ((GtkBox*) self->priv->verticalBox, (GtkWidget*) self->priv->sourcesToSongs, TRUE, TRUE, (guint) 0);
	_tmp88_ = gtk_tool_item_new ();
	topDisplayBin = g_object_ref_sink (_tmp88_);
	_tmp89_ = gtk_tool_item_new ();
	searchFieldBin = g_object_ref_sink (_tmp89_);
	_tmp90_ = gtk_tool_item_new ();
	appMenuBin = g_object_ref_sink (_tmp90_);
	gtk_container_add ((GtkContainer*) topDisplayBin, (GtkWidget*) self->priv->topDisplay);
	gtk_container_set_border_width ((GtkContainer*) topDisplayBin, (guint) 5);
	gtk_container_add ((GtkContainer*) searchFieldBin, (GtkWidget*) self->searchField);
	gtk_container_add ((GtkContainer*) appMenuBin, (GtkWidget*) self->priv->appMenu);
	gtk_tool_item_set_expand (topDisplayBin, TRUE);
	gtk_toolbar_insert (self->priv->topControls, (GtkToolItem*) self->priv->previousButton, 0);
	gtk_toolbar_insert (self->priv->topControls, (GtkToolItem*) self->priv->playButton, 1);
	gtk_toolbar_insert (self->priv->topControls, (GtkToolItem*) self->priv->nextButton, 2);
	gtk_toolbar_insert (self->priv->topControls, topDisplayBin, 3);
	gtk_toolbar_insert (self->priv->topControls, searchFieldBin, 4);
	gtk_toolbar_insert (self->priv->topControls, appMenuBin, 5);
	gtk_widget_set_name ((GtkWidget*) self->priv->sourcesToSongs, "SidebarHandleLeft");
	gtk_widget_set_name ((GtkWidget*) self->priv->sideTree, "SidebarContent");
	gtk_box_pack_start ((GtkBox*) self->priv->contentBox, (GtkWidget*) self->priv->welcomeScreen, TRUE, TRUE, (guint) 0);
	elementary_widgets_welcome_append (self->priv->welcomeScreen, "folder-music", "Import", "Select your music folder to import from.");
	gtk_box_pack_start ((GtkBox*) self->priv->contentBox, (GtkWidget*) self->priv->mainViews, TRUE, TRUE, (guint) 0);
	gtk_box_pack_start ((GtkBox*) self->priv->contentBox, (GtkWidget*) self->priv->statusBar, FALSE, TRUE, (guint) 0);
	gtk_paned_pack1 ((GtkPaned*) self->priv->songsToInfo, (GtkWidget*) self->priv->contentBox, TRUE, TRUE);
	gtk_paned_pack2 ((GtkPaned*) self->priv->songsToInfo, (GtkWidget*) self->priv->infoPanel, TRUE, FALSE);
	gtk_paned_pack1 ((GtkPaned*) self->priv->sourcesToSongs, (GtkWidget*) self->priv->sideBar, TRUE, TRUE);
	gtk_paned_pack2 ((GtkPaned*) self->priv->sourcesToSongs, (GtkWidget*) self->priv->songsToInfo, TRUE, FALSE);
	gtk_box_pack_start ((GtkBox*) self->priv->sideBar, (GtkWidget*) self->priv->sideTreeScroll, TRUE, TRUE, (guint) 0);
	gtk_box_pack_end ((GtkBox*) self->priv->sideBar, (GtkWidget*) self->priv->coverArt, FALSE, TRUE, (guint) 0);
	gtk_box_pack_start ((GtkBox*) self->priv->statusBar, (GtkWidget*) self->priv->shuffleButton, TRUE, TRUE, (guint) 0);
	g_signal_connect_object (((GtkPaned*) self->priv->sourcesToSongs)->child1, "size-allocate", (GCallback) _beat_box_library_window_sourcesToSongsHandleSet_gtk_widget_size_allocate, self, 0);
	g_signal_connect_object (self->priv->welcomeScreen, "activated", (GCallback) _beat_box_library_window_welcomeScreenActivated_elementary_widgets_welcome_activated, self, 0);
	g_signal_connect_object ((GtkTreeView*) self->priv->sideTree, "row-activated", (GCallback) _beat_box_library_window_sideListDoubleClick_gtk_tree_view_row_activated, self, 0);
	g_signal_connect_object (self->priv->previousButton, "clicked", (GCallback) _beat_box_library_window_previousClicked_gtk_tool_button_clicked, self, 0);
	g_signal_connect_object (self->priv->playButton, "clicked", (GCallback) _beat_box_library_window_playClicked_gtk_tool_button_clicked, self, 0);
	g_signal_connect_object (self->priv->nextButton, "clicked", (GCallback) _beat_box_library_window_nextClicked_gtk_tool_button_clicked, self, 0);
	g_signal_connect_object (self->priv->shuffleButton, "clicked", (GCallback) _beat_box_library_window_shuffleClicked_gtk_button_clicked, self, 0);
	g_signal_connect_object (self->priv->loveButton, "clicked", (GCallback) _beat_box_library_window_loveButtonClicked_gtk_button_clicked, self, 0);
	g_signal_connect_object (self->priv->banButton, "clicked", (GCallback) _beat_box_library_window_banButtonClicked_gtk_button_clicked, self, 0);
	g_signal_connect_object ((GtkWidget*) self->priv->infoPanel, "size-allocate", (GCallback) _beat_box_library_window_infoPanelResized_gtk_widget_size_allocate, self, 0);
	gtk_widget_show_all ((GtkWidget*) self);
	gtk_widget_hide ((GtkWidget*) self->priv->topMenu);
	elementary_widgets_top_display_show_scale (self->priv->topDisplay);
	elementary_widgets_top_display_set_scale_sensitivity (self->priv->topDisplay, FALSE);
	gtk_widget_hide ((GtkWidget*) self->priv->coverArt);
	beat_box_side_tree_view_resetView (self->priv->sideTree);
	gtk_widget_hide ((GtkWidget*) self->priv->welcomeScreen);
	beat_box_library_window_updateSensitivities (self);
	_g_object_unref0 (appMenuBin);
	_g_object_unref0 (searchFieldBin);
	_g_object_unref0 (topDisplayBin);
}


/** Builds the side tree on TreeView view
 * @param view The side tree to build it on
 */
static void beat_box_library_window_buildSideTree (BeatBoxLibraryWindow* self) {
	BeatBoxMusicTreeView* mtv = NULL;
	BeatBoxSimilarPane* _tmp0_ = NULL;
	BeatBoxSimilarPane* sp;
	GtkTreeIter* _tmp1_ = NULL;
	GtkTreeIter* _tmp2_;
	const gchar* _tmp3_ = NULL;
	GtkSortType _tmp4_;
	BeatBoxMusicTreeView* _tmp5_ = NULL;
	BeatBoxMusicTreeView* _tmp6_;
	GeeCollection* _tmp7_ = NULL;
	GeeCollection* _tmp8_;
	GtkTreeIter* _tmp9_ = NULL;
	GtkTreeIter* _tmp10_;
	const gchar* _tmp11_ = NULL;
	GtkSortType _tmp12_;
	BeatBoxMusicTreeView* _tmp13_ = NULL;
	BeatBoxMusicTreeView* _tmp14_;
	GeeLinkedList* _tmp15_ = NULL;
	GeeLinkedList* _tmp16_;
	GtkTreeIter* _tmp17_ = NULL;
	GtkTreeIter* _tmp18_;
	const gchar* _tmp19_ = NULL;
	GtkSortType _tmp20_;
	BeatBoxMusicTreeView* _tmp21_ = NULL;
	BeatBoxMusicTreeView* _tmp22_;
	GeeCollection* _tmp23_ = NULL;
	GeeCollection* _tmp24_;
	GtkTreeIter* _tmp25_ = NULL;
	GtkTreeIter* _tmp26_;
	GtkScrolledWindow* _tmp39_ = NULL;
	GtkScrolledWindow* _tmp40_;
	g_return_if_fail (self != NULL);
	beat_box_side_tree_view_addBasicItems (self->priv->sideTree);
	_tmp0_ = beat_box_similar_pane_new (self->priv->lm, self);
	sp = g_object_ref_sink (_tmp0_);
	_tmp1_ = beat_box_side_tree_view_addItem (self->priv->sideTree, &self->priv->sideTree->playlists_iter, NULL, (GtkWidget*) sp, "Similar");
	_tmp2_ = _tmp1_;
	_g_free0 (_tmp2_);
	gtk_box_pack_start ((GtkBox*) self->priv->mainViews, (GtkWidget*) sp, TRUE, TRUE, (guint) 0);
	_tmp3_ = beat_box_tree_view_setup_get_sort_column (self->priv->lm->queue_setup);
	_tmp4_ = beat_box_tree_view_setup_get_sort_direction (self->priv->lm->queue_setup);
	_tmp5_ = beat_box_music_tree_view_new (self->priv->lm, self, _tmp3_, _tmp4_, BEAT_BOX_MUSIC_TREE_VIEW_HINT_QUEUE, -1);
	_tmp6_ = g_object_ref_sink (_tmp5_);
	_g_object_unref0 (mtv);
	mtv = _tmp6_;
	_tmp7_ = beat_box_library_manager_queue (self->priv->lm);
	_tmp8_ = _tmp7_;
	beat_box_music_tree_view_populateView (mtv, _tmp8_, FALSE);
	_g_object_unref0 (_tmp8_);
	_tmp9_ = beat_box_side_tree_view_addItem (self->priv->sideTree, &self->priv->sideTree->playlists_iter, NULL, (GtkWidget*) mtv, "Queue");
	_tmp10_ = _tmp9_;
	_g_free0 (_tmp10_);
	gtk_box_pack_start ((GtkBox*) self->priv->mainViews, (GtkWidget*) mtv, TRUE, TRUE, (guint) 0);
	_tmp11_ = beat_box_tree_view_setup_get_sort_column (self->priv->lm->history_setup);
	_tmp12_ = beat_box_tree_view_setup_get_sort_direction (self->priv->lm->history_setup);
	_tmp13_ = beat_box_music_tree_view_new (self->priv->lm, self, _tmp11_, _tmp12_, BEAT_BOX_MUSIC_TREE_VIEW_HINT_HISTORY, -1);
	_tmp14_ = g_object_ref_sink (_tmp13_);
	_g_object_unref0 (mtv);
	mtv = _tmp14_;
	_tmp15_ = beat_box_library_manager_already_played (self->priv->lm);
	_tmp16_ = _tmp15_;
	beat_box_music_tree_view_populateView (mtv, (GeeCollection*) _tmp16_, FALSE);
	_g_object_unref0 (_tmp16_);
	_tmp17_ = beat_box_side_tree_view_addItem (self->priv->sideTree, &self->priv->sideTree->playlists_iter, NULL, (GtkWidget*) mtv, "History");
	_tmp18_ = _tmp17_;
	_g_free0 (_tmp18_);
	gtk_box_pack_start ((GtkBox*) self->priv->mainViews, (GtkWidget*) mtv, TRUE, TRUE, (guint) 0);
	_tmp19_ = beat_box_tree_view_setup_get_sort_column (self->priv->lm->music_setup);
	_tmp20_ = beat_box_tree_view_setup_get_sort_direction (self->priv->lm->music_setup);
	_tmp21_ = beat_box_music_tree_view_new (self->priv->lm, self, _tmp19_, _tmp20_, BEAT_BOX_MUSIC_TREE_VIEW_HINT_MUSIC, -1);
	_tmp22_ = g_object_ref_sink (_tmp21_);
	_g_object_unref0 (mtv);
	mtv = _tmp22_;
	_tmp23_ = beat_box_library_manager_song_ids (self->priv->lm);
	_tmp24_ = _tmp23_;
	beat_box_music_tree_view_populateView (mtv, _tmp24_, FALSE);
	_g_object_unref0 (_tmp24_);
	_tmp25_ = beat_box_side_tree_view_addItem (self->priv->sideTree, &self->priv->sideTree->library_iter, NULL, (GtkWidget*) mtv, "Music");
	_tmp26_ = _tmp25_;
	_g_free0 (_tmp26_);
	gtk_box_pack_start ((GtkBox*) self->priv->mainViews, (GtkWidget*) mtv, TRUE, TRUE, (guint) 0);
	{
		GeeCollection* _tmp27_ = NULL;
		GeeCollection* _tmp28_;
		GeeIterator* _tmp29_ = NULL;
		GeeIterator* _tmp30_;
		GeeIterator* _p_it;
		_tmp27_ = beat_box_library_manager_smart_playlists (self->priv->lm);
		_tmp28_ = _tmp27_;
		_tmp29_ = gee_iterable_iterator ((GeeIterable*) _tmp28_);
		_p_it = (_tmp30_ = _tmp29_, _g_object_unref0 (_tmp28_), _tmp30_);
		while (TRUE) {
			gboolean _tmp31_;
			gpointer _tmp32_ = NULL;
			BeatBoxSmartPlaylist* p;
			_tmp31_ = gee_iterator_next (_p_it);
			if (!_tmp31_) {
				break;
			}
			_tmp32_ = gee_iterator_get (_p_it);
			p = (BeatBoxSmartPlaylist*) _tmp32_;
			beat_box_library_window_addSideListItem (self, (GObject*) p);
			_g_object_unref0 (p);
		}
		_g_object_unref0 (_p_it);
	}
	{
		GeeCollection* _tmp33_ = NULL;
		GeeCollection* _tmp34_;
		GeeIterator* _tmp35_ = NULL;
		GeeIterator* _tmp36_;
		GeeIterator* _p_it;
		_tmp33_ = beat_box_library_manager_playlists (self->priv->lm);
		_tmp34_ = _tmp33_;
		_tmp35_ = gee_iterable_iterator ((GeeIterable*) _tmp34_);
		_p_it = (_tmp36_ = _tmp35_, _g_object_unref0 (_tmp34_), _tmp36_);
		while (TRUE) {
			gboolean _tmp37_;
			gpointer _tmp38_ = NULL;
			BeatBoxPlaylist* p;
			_tmp37_ = gee_iterator_next (_p_it);
			if (!_tmp37_) {
				break;
			}
			_tmp38_ = gee_iterator_get (_p_it);
			p = (BeatBoxPlaylist*) _tmp38_;
			beat_box_library_window_addSideListItem (self, (GObject*) p);
			_g_object_unref0 (p);
		}
		_g_object_unref0 (_p_it);
	}
	beat_box_side_tree_view_resetView (self->priv->sideTree);
	gtk_tree_view_expand_all ((GtkTreeView*) self->priv->sideTree);
	_tmp39_ = (GtkScrolledWindow*) gtk_scrolled_window_new (NULL, NULL);
	_tmp40_ = g_object_ref_sink (_tmp39_);
	_g_object_unref0 (self->priv->sideTreeScroll);
	self->priv->sideTreeScroll = _tmp40_;
	gtk_scrolled_window_set_policy (self->priv->sideTreeScroll, GTK_POLICY_AUTOMATIC, GTK_POLICY_AUTOMATIC);
	gtk_container_add ((GtkContainer*) self->priv->sideTreeScroll, (GtkWidget*) self->priv->sideTree);
	_g_object_unref0 (sp);
	_g_object_unref0 (mtv);
}


static gpointer _g_object_ref0 (gpointer self) {
	return self ? g_object_ref (self) : NULL;
}


void beat_box_library_window_addSideListItem (BeatBoxLibraryWindow* self, GObject* o) {
	GtkTreeIter item;
	BeatBoxMusicTreeView* mtv;
	g_return_if_fail (self != NULL);
	g_return_if_fail (o != NULL);
	item = self->priv->sideTree->library_music_iter;
	mtv = NULL;
	if (BEAT_BOX_IS_PLAYLIST (o)) {
		BeatBoxPlaylist* _tmp0_;
		BeatBoxPlaylist* p;
		const gchar* _tmp1_ = NULL;
		GtkSortType _tmp2_;
		gint _tmp3_;
		BeatBoxMusicTreeView* _tmp4_ = NULL;
		BeatBoxMusicTreeView* _tmp5_;
		gint _tmp6_;
		GeeLinkedList* _tmp7_ = NULL;
		GeeLinkedList* _tmp8_;
		const gchar* _tmp9_ = NULL;
		GtkTreeIter* _tmp10_ = NULL;
		GtkTreeIter* _tmp11_;
		_tmp0_ = _g_object_ref0 (BEAT_BOX_PLAYLIST (o));
		p = _tmp0_;
		_tmp1_ = beat_box_tree_view_setup_get_sort_column (p->tvs);
		_tmp2_ = beat_box_tree_view_setup_get_sort_direction (p->tvs);
		_tmp3_ = beat_box_playlist_get_rowid (p);
		_tmp4_ = beat_box_music_tree_view_new (self->priv->lm, self, _tmp1_, _tmp2_, BEAT_BOX_MUSIC_TREE_VIEW_HINT_PLAYLIST, _tmp3_);
		_tmp5_ = g_object_ref_sink (_tmp4_);
		_g_object_unref0 (mtv);
		mtv = _tmp5_;
		_tmp6_ = beat_box_playlist_get_rowid (p);
		_tmp7_ = beat_box_library_manager_songs_from_playlist (self->priv->lm, _tmp6_);
		_tmp8_ = _tmp7_;
		beat_box_music_tree_view_populateView (mtv, (GeeCollection*) _tmp8_, FALSE);
		_g_object_unref0 (_tmp8_);
		_tmp9_ = beat_box_playlist_get_name (p);
		_tmp10_ = beat_box_side_tree_view_addItem (self->priv->sideTree, &self->priv->sideTree->playlists_iter, (GObject*) p, (GtkWidget*) mtv, _tmp9_);
		_tmp11_ = _tmp10_;
		item = *_tmp11_;
		_g_free0 (_tmp11_);
		gtk_box_pack_start ((GtkBox*) self->priv->mainViews, (GtkWidget*) mtv, TRUE, TRUE, (guint) 0);
		_g_object_unref0 (p);
	} else {
		if (BEAT_BOX_IS_SMART_PLAYLIST (o)) {
			BeatBoxSmartPlaylist* _tmp12_;
			BeatBoxSmartPlaylist* p;
			const gchar* _tmp13_ = NULL;
			GtkSortType _tmp14_;
			gint _tmp15_;
			BeatBoxMusicTreeView* _tmp16_ = NULL;
			BeatBoxMusicTreeView* _tmp17_;
			gint _tmp18_;
			GeeLinkedList* _tmp19_ = NULL;
			GeeLinkedList* _tmp20_;
			const gchar* _tmp21_ = NULL;
			GtkTreeIter* _tmp22_ = NULL;
			GtkTreeIter* _tmp23_;
			_tmp12_ = _g_object_ref0 (BEAT_BOX_SMART_PLAYLIST (o));
			p = _tmp12_;
			_tmp13_ = beat_box_tree_view_setup_get_sort_column (p->tvs);
			_tmp14_ = beat_box_tree_view_setup_get_sort_direction (p->tvs);
			_tmp15_ = beat_box_smart_playlist_get_rowid (p);
			_tmp16_ = beat_box_music_tree_view_new (self->priv->lm, self, _tmp13_, _tmp14_, BEAT_BOX_MUSIC_TREE_VIEW_HINT_SMART_PLAYLIST, _tmp15_);
			_tmp17_ = g_object_ref_sink (_tmp16_);
			_g_object_unref0 (mtv);
			mtv = _tmp17_;
			_tmp18_ = beat_box_smart_playlist_get_rowid (p);
			_tmp19_ = beat_box_library_manager_songs_from_smart_playlist (self->priv->lm, _tmp18_);
			_tmp20_ = _tmp19_;
			beat_box_music_tree_view_populateView (mtv, (GeeCollection*) _tmp20_, FALSE);
			_g_object_unref0 (_tmp20_);
			_tmp21_ = beat_box_smart_playlist_get_name (p);
			_tmp22_ = beat_box_side_tree_view_addItem (self->priv->sideTree, &self->priv->sideTree->playlists_iter, (GObject*) p, (GtkWidget*) mtv, _tmp21_);
			_tmp23_ = _tmp22_;
			item = *_tmp23_;
			_g_free0 (_tmp23_);
			gtk_box_pack_start ((GtkBox*) self->priv->mainViews, (GtkWidget*) mtv, TRUE, TRUE, (guint) 0);
			_g_object_unref0 (p);
		}
	}
	gtk_widget_show_all ((GtkWidget*) mtv);
	_g_object_unref0 (mtv);
}


void beat_box_library_window_updateSensitivities (BeatBoxLibraryWindow* self) {
	gint _tmp0_;
	g_return_if_fail (self != NULL);
	_tmp0_ = beat_box_library_manager_song_count (self->priv->lm);
	if (_tmp0_ == 0) {
		gchar* _tmp1_ = NULL;
		gchar* _tmp2_;
		gboolean _tmp3_;
		elementary_widgets_top_display_set_scale_sensitivity (self->priv->topDisplay, FALSE);
		gtk_widget_set_sensitive ((GtkWidget*) self->priv->previousButton, FALSE);
		gtk_widget_set_sensitive ((GtkWidget*) self->priv->playButton, FALSE);
		gtk_widget_set_sensitive ((GtkWidget*) self->priv->nextButton, FALSE);
		gtk_widget_set_sensitive ((GtkWidget*) self->searchField, FALSE);
		gtk_widget_hide ((GtkWidget*) self->priv->statusBar);
		_tmp1_ = beat_box_settings_getMusicFolder (self->priv->settings);
		_tmp2_ = _tmp1_;
		if ((_tmp3_ = g_strcmp0 (_tmp2_, "") != 0, _g_free0 (_tmp2_), _tmp3_)) {
			gtk_widget_hide ((GtkWidget*) self->priv->mainViews);
			gtk_widget_hide ((GtkWidget*) self->priv->songInfoScroll);
			gtk_widget_show ((GtkWidget*) self->priv->welcomeScreen);
		}
	} else {
		if (self->priv->lm->song_info->song != NULL) {
			elementary_widgets_top_display_set_scale_sensitivity (self->priv->topDisplay, TRUE);
		}
		gtk_widget_set_sensitive ((GtkWidget*) self->priv->previousButton, TRUE);
		gtk_widget_set_sensitive ((GtkWidget*) self->priv->playButton, TRUE);
		gtk_widget_set_sensitive ((GtkWidget*) self->priv->nextButton, TRUE);
		gtk_widget_set_sensitive ((GtkWidget*) self->searchField, TRUE);
		gtk_widget_show ((GtkWidget*) self->priv->statusBar);
	}
	if (self->priv->lm->doing_file_operations) {
		gtk_widget_set_sensitive ((GtkWidget*) self->priv->fileImportMusic, FALSE);
		gtk_widget_set_sensitive ((GtkWidget*) self->priv->fileRescanMusicFolder, FALSE);
	} else {
		gtk_widget_set_sensitive ((GtkWidget*) self->priv->fileImportMusic, TRUE);
		gtk_widget_set_sensitive ((GtkWidget*) self->priv->fileRescanMusicFolder, TRUE);
	}
}


static void beat_box_library_window_real_progressNotification (BeatBoxLibraryWindow* self, const gchar* message, gdouble progress) {
	gboolean _tmp0_ = FALSE;
	gboolean _tmp1_ = FALSE;
	g_return_if_fail (self != NULL);
	if (message != NULL) {
		elementary_widgets_top_display_set_label_markup (self->priv->topDisplay, message);
	}
	if (progress != 0.0) {
		_tmp1_ = progress > 0.0;
	} else {
		_tmp1_ = FALSE;
	}
	if (_tmp1_) {
		_tmp0_ = progress < 1.0;
	} else {
		_tmp0_ = FALSE;
	}
	if (_tmp0_) {
		elementary_widgets_top_display_set_progress_value (self->priv->topDisplay, progress);
	}
}


void beat_box_library_window_progressNotification (BeatBoxLibraryWindow* self, const gchar* message, gdouble progress) {
	BEAT_BOX_LIBRARY_WINDOW_GET_CLASS (self)->progressNotification (self, message, progress);
}


static void beat_box_library_window_real_sideListDoubleClick (BeatBoxLibraryWindow* self, GtkTreePath* path, GtkTreeViewColumn* column) {
	g_return_if_fail (self != NULL);
	g_return_if_fail (path != NULL);
	g_return_if_fail (column != NULL);
}


void beat_box_library_window_sideListDoubleClick (BeatBoxLibraryWindow* self, GtkTreePath* path, GtkTreeViewColumn* column) {
	BEAT_BOX_LIBRARY_WINDOW_GET_CLASS (self)->sideListDoubleClick (self, path, column);
}


gboolean beat_box_library_window_updateCurrentSong (BeatBoxLibraryWindow* self) {
	gboolean result = FALSE;
	GError * _inner_error_ = NULL;
	g_return_val_if_fail (self != NULL, FALSE);
	if (self->priv->lm->song_info->song != NULL) {
		gchar* _tmp0_;
		gchar* file;
		gint _tmp1_;
		gchar* _tmp2_ = NULL;
		gchar* _tmp3_;
		_tmp0_ = g_strdup ("");
		file = _tmp0_;
		_tmp1_ = beat_box_song_get_rowid (self->priv->lm->song_info->song);
		_tmp2_ = beat_box_library_manager_get_album_location (self->priv->lm, _tmp1_);
		_tmp3_ = _tmp2_;
		_g_free0 (file);
		file = _tmp3_;
		if (file != NULL) {
			gint _tmp4_;
			gint _tmp5_;
			GdkPixbuf* _tmp6_ = NULL;
			GdkPixbuf* _tmp7_;
			GdkPixbuf* _tmp8_;
			gtk_widget_show ((GtkWidget*) self->priv->coverArt);
			_tmp4_ = gtk_paned_get_position ((GtkPaned*) self->priv->sourcesToSongs);
			_tmp5_ = gtk_paned_get_position ((GtkPaned*) self->priv->sourcesToSongs);
			_tmp6_ = gdk_pixbuf_new_from_file_at_size (file, _tmp4_, _tmp5_, &_inner_error_);
			_tmp7_ = _tmp6_;
			if (_inner_error_ != NULL) {
				goto __catch60_g_error;
			}
			_tmp8_ = _tmp7_;
			gtk_image_set_from_pixbuf (self->priv->coverArt, _tmp8_);
			_g_object_unref0 (_tmp8_);
			goto __finally60;
			__catch60_g_error:
			{
				GError * err;
				err = _inner_error_;
				_inner_error_ = NULL;
				fprintf (stdout, "Could not set image art: %s\n", err->message);
				_g_error_free0 (err);
			}
			__finally60:
			if (_inner_error_ != NULL) {
				_g_free0 (file);
				g_critical ("file %s: line %d: uncaught error: %s (%s, %d)", __FILE__, __LINE__, _inner_error_->message, g_quark_to_string (_inner_error_->domain), _inner_error_->code);
				g_clear_error (&_inner_error_);
				return FALSE;
			}
		} else {
			gtk_widget_hide ((GtkWidget*) self->priv->coverArt);
		}
		_g_free0 (file);
	}
	result = FALSE;
	return result;
}


/** This should be used whenever a call to play a new song is made
 * @param s The song that is now playing
 */
static gchar* string_replace (const gchar* self, const gchar* old, const gchar* replacement) {
	gchar* result = NULL;
	gchar* _tmp0_ = NULL;
	gchar* _tmp1_;
	GRegex* _tmp2_ = NULL;
	GRegex* _tmp3_;
	GRegex* regex;
	gchar* _tmp4_ = NULL;
	gchar* _tmp5_;
	GError * _inner_error_ = NULL;
	g_return_val_if_fail (self != NULL, NULL);
	g_return_val_if_fail (old != NULL, NULL);
	g_return_val_if_fail (replacement != NULL, NULL);
	_tmp0_ = g_regex_escape_string (old, -1);
	_tmp1_ = _tmp0_;
	_tmp2_ = g_regex_new (_tmp1_, 0, 0, &_inner_error_);
	regex = (_tmp3_ = _tmp2_, _g_free0 (_tmp1_), _tmp3_);
	if (_inner_error_ != NULL) {
		if (_inner_error_->domain == G_REGEX_ERROR) {
			goto __catch61_g_regex_error;
		}
		g_critical ("file %s: line %d: unexpected error: %s (%s, %d)", __FILE__, __LINE__, _inner_error_->message, g_quark_to_string (_inner_error_->domain), _inner_error_->code);
		g_clear_error (&_inner_error_);
		return NULL;
	}
	_tmp4_ = g_regex_replace_literal (regex, self, (gssize) (-1), 0, replacement, 0, &_inner_error_);
	_tmp5_ = _tmp4_;
	if (_inner_error_ != NULL) {
		_g_regex_unref0 (regex);
		if (_inner_error_->domain == G_REGEX_ERROR) {
			goto __catch61_g_regex_error;
		}
		_g_regex_unref0 (regex);
		g_critical ("file %s: line %d: unexpected error: %s (%s, %d)", __FILE__, __LINE__, _inner_error_->message, g_quark_to_string (_inner_error_->domain), _inner_error_->code);
		g_clear_error (&_inner_error_);
		return NULL;
	}
	result = _tmp5_;
	_g_regex_unref0 (regex);
	return result;
	_g_regex_unref0 (regex);
	goto __finally61;
	__catch61_g_regex_error:
	{
		GError * e;
		e = _inner_error_;
		_inner_error_ = NULL;
		g_assert_not_reached ();
		_g_error_free0 (e);
	}
	__finally61:
	if (_inner_error_ != NULL) {
		g_critical ("file %s: line %d: uncaught error: %s (%s, %d)", __FILE__, __LINE__, _inner_error_->message, g_quark_to_string (_inner_error_->domain), _inner_error_->code);
		g_clear_error (&_inner_error_);
		return NULL;
	}
}


static void beat_box_library_window_real_song_played (BeatBoxLibraryWindow* self, gint i) {
	BeatBoxSong* _tmp0_ = NULL;
	BeatBoxSong* _tmp1_;
	const gchar* _tmp2_ = NULL;
	gchar* _tmp3_ = NULL;
	gchar* _tmp4_;
	gchar* _tmp5_;
	gchar* _tmp6_;
	gchar* _tmp7_;
	gchar* _tmp8_;
	BeatBoxSong* _tmp9_ = NULL;
	BeatBoxSong* _tmp10_;
	const gchar* _tmp11_ = NULL;
	gchar* _tmp12_ = NULL;
	gchar* _tmp13_;
	gchar* _tmp14_;
	gchar* _tmp15_;
	gchar* _tmp16_;
	gchar* _tmp17_;
	BeatBoxSong* _tmp18_ = NULL;
	BeatBoxSong* _tmp19_;
	const gchar* _tmp20_ = NULL;
	gchar* _tmp21_ = NULL;
	gchar* _tmp22_;
	gchar* _tmp23_;
	gchar* _tmp24_;
	gchar* song_label;
	gint _tmp25_;
	gboolean _tmp26_;
	gint _tmp49_;
	GError * _inner_error_ = NULL;
	g_return_if_fail (self != NULL);
	_tmp0_ = beat_box_library_manager_song_from_id (self->priv->lm, i);
	_tmp1_ = _tmp0_;
	_tmp2_ = beat_box_song_get_title (_tmp1_);
	_tmp3_ = string_replace (_tmp2_, "&", "&amp;");
	_tmp4_ = _tmp3_;
	_tmp5_ = g_strconcat ("<b>", _tmp4_, NULL);
	_tmp6_ = g_strconcat (_tmp5_, "</b>", NULL);
	_tmp7_ = g_strconcat (_tmp6_, " by ", NULL);
	_tmp8_ = g_strconcat (_tmp7_, "<b>", NULL);
	_tmp9_ = beat_box_library_manager_song_from_id (self->priv->lm, i);
	_tmp10_ = _tmp9_;
	_tmp11_ = beat_box_song_get_artist (_tmp10_);
	_tmp12_ = string_replace (_tmp11_, "&", "&amp;");
	_tmp13_ = _tmp12_;
	_tmp14_ = g_strconcat (_tmp8_, _tmp13_, NULL);
	_tmp15_ = g_strconcat (_tmp14_, "</b>", NULL);
	_tmp16_ = g_strconcat (_tmp15_, " on ", NULL);
	_tmp17_ = g_strconcat (_tmp16_, "<b>", NULL);
	_tmp18_ = beat_box_library_manager_song_from_id (self->priv->lm, i);
	_tmp19_ = _tmp18_;
	_tmp20_ = beat_box_song_get_album (_tmp19_);
	_tmp21_ = string_replace (_tmp20_, "&", "&amp;");
	_tmp22_ = _tmp21_;
	_tmp23_ = g_strconcat (_tmp17_, _tmp22_, NULL);
	song_label = (_tmp24_ = g_strconcat (_tmp23_, "</b>", NULL), _g_free0 (_tmp23_), _g_free0 (_tmp22_), _g_object_unref0 (_tmp19_), _g_free0 (_tmp17_), _g_free0 (_tmp16_), _g_free0 (_tmp15_), _g_free0 (_tmp14_), _g_free0 (_tmp13_), _g_object_unref0 (_tmp10_), _g_free0 (_tmp8_), _g_free0 (_tmp7_), _g_free0 (_tmp6_), _g_free0 (_tmp5_), _g_free0 (_tmp4_), _g_object_unref0 (_tmp1_), _tmp24_);
	elementary_widgets_top_display_set_label_markup (self->priv->topDisplay, song_label);
	elementary_widgets_top_display_set_scale_sensitivity (self->priv->topDisplay, TRUE);
	_tmp25_ = beat_box_song_get_length (self->priv->lm->song_info->song);
	elementary_widgets_top_display_set_scale_range (self->priv->topDisplay, 0.0, (gdouble) _tmp25_);
	elementary_widgets_top_display_set_scale_value (self->priv->topDisplay, 0.0);
	self->priv->queriedlastfm = FALSE;
	self->priv->song_considered_played = FALSE;
	self->priv->added_to_play_count = FALSE;
	if (!(g_object_get ((GtkWindow*) self, "has-toplevel-focus", &_tmp26_, NULL), _tmp26_)) {
		BeatBoxSong* _tmp27_ = NULL;
		BeatBoxSong* _tmp28_;
		const gchar* _tmp29_ = NULL;
		BeatBoxSong* _tmp30_ = NULL;
		BeatBoxSong* _tmp31_;
		const gchar* _tmp32_ = NULL;
		gchar* _tmp33_;
		BeatBoxSong* _tmp34_ = NULL;
		BeatBoxSong* _tmp35_;
		const gchar* _tmp36_ = NULL;
		gchar* _tmp37_;
		gchar* _tmp38_ = NULL;
		gchar* _tmp39_;
		gboolean _tmp40_;
		notify_notification_set_timeout (self->priv->notification, 1);
		_tmp27_ = beat_box_library_manager_song_from_id (self->priv->lm, i);
		_tmp28_ = _tmp27_;
		_tmp29_ = beat_box_song_get_title (_tmp28_);
		_tmp30_ = beat_box_library_manager_song_from_id (self->priv->lm, i);
		_tmp31_ = _tmp30_;
		_tmp32_ = beat_box_song_get_artist (_tmp31_);
		_tmp33_ = g_strconcat (_tmp32_, "\n", NULL);
		_tmp34_ = beat_box_library_manager_song_from_id (self->priv->lm, i);
		_tmp35_ = _tmp34_;
		_tmp36_ = beat_box_song_get_album (_tmp35_);
		_tmp37_ = g_strconcat (_tmp33_, _tmp36_, NULL);
		notify_notification_update (self->priv->notification, _tmp29_, _tmp37_, "");
		_g_free0 (_tmp37_);
		_g_object_unref0 (_tmp35_);
		_g_free0 (_tmp33_);
		_g_object_unref0 (_tmp31_);
		_g_object_unref0 (_tmp28_);
		_tmp38_ = beat_box_library_manager_get_album_location (self->priv->lm, i);
		_tmp39_ = _tmp38_;
		if ((_tmp40_ = _tmp39_ != NULL, _g_free0 (_tmp39_), _tmp40_)) {
			gchar* _tmp41_ = NULL;
			gchar* _tmp42_;
			GdkPixbuf* _tmp43_ = NULL;
			GdkPixbuf* _tmp44_;
			GdkPixbuf* _tmp45_;
			GdkPixbuf* _tmp46_;
			_tmp41_ = beat_box_library_manager_get_album_location (self->priv->lm, i);
			_tmp42_ = _tmp41_;
			_tmp43_ = gdk_pixbuf_new_from_file (_tmp42_, &_inner_error_);
			_tmp45_ = (_tmp44_ = _tmp43_, _g_free0 (_tmp42_), _tmp44_);
			if (_inner_error_ != NULL) {
				goto __catch62_g_error;
			}
			_tmp46_ = _tmp45_;
			notify_notification_set_image_from_pixbuf (self->priv->notification, _tmp46_);
			_g_object_unref0 (_tmp46_);
		} else {
			GdkPixbuf* _tmp47_ = NULL;
			GdkPixbuf* _tmp48_;
			_tmp47_ = gtk_widget_render_icon ((GtkWidget*) self, "beatbox", GTK_ICON_SIZE_DIALOG, NULL);
			_tmp48_ = _tmp47_;
			notify_notification_set_image_from_pixbuf (self->priv->notification, _tmp48_);
			_g_object_unref0 (_tmp48_);
		}
		notify_notification_show (self->priv->notification, &_inner_error_);
		if (_inner_error_ != NULL) {
			goto __catch62_g_error;
		}
		notify_notification_set_timeout (self->priv->notification, 5000);
		goto __finally62;
		__catch62_g_error:
		{
			GError * err;
			err = _inner_error_;
			_inner_error_ = NULL;
			fprintf (stderr, "Could not show notification: %s\n", err->message);
			_g_error_free0 (err);
		}
		__finally62:
		if (_inner_error_ != NULL) {
			_g_free0 (song_label);
			g_critical ("file %s: line %d: uncaught error: %s (%s, %d)", __FILE__, __LINE__, _inner_error_->message, g_quark_to_string (_inner_error_->domain), _inner_error_->code);
			g_clear_error (&_inner_error_);
			return;
		}
	}
	beat_box_library_window_updateCurrentSong (self);
	_tmp49_ = beat_box_song_get_rowid (self->priv->lm->song_info->song);
	beat_box_info_panel_updateSong (self->priv->infoPanel, _tmp49_);
	_g_free0 (song_label);
}


void beat_box_library_window_song_played (BeatBoxLibraryWindow* self, gint i) {
	BEAT_BOX_LIBRARY_WINDOW_GET_CLASS (self)->song_played (self, i);
}


static void beat_box_library_window_real_songs_updated (BeatBoxLibraryWindow* self, GeeCollection* ids) {
	gboolean _tmp0_ = FALSE;
	g_return_if_fail (self != NULL);
	g_return_if_fail (ids != NULL);
	if (self->priv->lm->song_info->song != NULL) {
		gint _tmp1_;
		gboolean _tmp2_;
		_tmp1_ = beat_box_song_get_rowid (self->priv->lm->song_info->song);
		_tmp2_ = gee_collection_contains (ids, GINT_TO_POINTER (_tmp1_));
		_tmp0_ = _tmp2_;
	} else {
		_tmp0_ = FALSE;
	}
	if (_tmp0_) {
		const gchar* _tmp3_ = NULL;
		gchar* _tmp4_ = NULL;
		gchar* _tmp5_;
		gchar* _tmp6_;
		gchar* _tmp7_;
		gchar* _tmp8_;
		gchar* _tmp9_;
		const gchar* _tmp10_ = NULL;
		gchar* _tmp11_ = NULL;
		gchar* _tmp12_;
		gchar* _tmp13_;
		gchar* _tmp14_;
		gchar* _tmp15_;
		gchar* _tmp16_;
		const gchar* _tmp17_ = NULL;
		gchar* _tmp18_ = NULL;
		gchar* _tmp19_;
		gchar* _tmp20_;
		gchar* _tmp21_;
		gchar* song_label;
		_tmp3_ = beat_box_song_get_title (self->priv->lm->song_info->song);
		_tmp4_ = string_replace (_tmp3_, "&", "&amp;");
		_tmp5_ = _tmp4_;
		_tmp6_ = g_strconcat ("<b>", _tmp5_, NULL);
		_tmp7_ = g_strconcat (_tmp6_, "</b>", NULL);
		_tmp8_ = g_strconcat (_tmp7_, " by ", NULL);
		_tmp9_ = g_strconcat (_tmp8_, "<b>", NULL);
		_tmp10_ = beat_box_song_get_artist (self->priv->lm->song_info->song);
		_tmp11_ = string_replace (_tmp10_, "&", "&amp;");
		_tmp12_ = _tmp11_;
		_tmp13_ = g_strconcat (_tmp9_, _tmp12_, NULL);
		_tmp14_ = g_strconcat (_tmp13_, "</b>", NULL);
		_tmp15_ = g_strconcat (_tmp14_, " on ", NULL);
		_tmp16_ = g_strconcat (_tmp15_, "<b>", NULL);
		_tmp17_ = beat_box_song_get_album (self->priv->lm->song_info->song);
		_tmp18_ = string_replace (_tmp17_, "&", "&amp;");
		_tmp19_ = _tmp18_;
		_tmp20_ = g_strconcat (_tmp16_, _tmp19_, NULL);
		song_label = (_tmp21_ = g_strconcat (_tmp20_, "</b>", NULL), _g_free0 (_tmp20_), _g_free0 (_tmp19_), _g_free0 (_tmp16_), _g_free0 (_tmp15_), _g_free0 (_tmp14_), _g_free0 (_tmp13_), _g_free0 (_tmp12_), _g_free0 (_tmp9_), _g_free0 (_tmp8_), _g_free0 (_tmp7_), _g_free0 (_tmp6_), _g_free0 (_tmp5_), _tmp21_);
		elementary_widgets_top_display_set_label_markup (self->priv->topDisplay, song_label);
		_g_free0 (song_label);
	}
}


void beat_box_library_window_songs_updated (BeatBoxLibraryWindow* self, GeeCollection* ids) {
	BEAT_BOX_LIBRARY_WINDOW_GET_CLASS (self)->songs_updated (self, ids);
}


void* beat_box_library_window_lastfm_track_thread_function (BeatBoxLibraryWindow* self) {
	void* result = NULL;
	LastFMTrackInfo* _tmp0_ = NULL;
	LastFMTrackInfo* track;
	const gchar* _tmp1_ = NULL;
	gchar* _tmp2_;
	gchar* artist_s;
	const gchar* _tmp3_ = NULL;
	gchar* _tmp4_;
	gchar* track_s;
	gchar* _tmp5_;
	gchar* _tmp6_;
	gboolean _tmp7_;
	gboolean _tmp8_;
	g_return_val_if_fail (self != NULL, NULL);
	_tmp0_ = last_fm_track_info_new_basic ();
	track = _tmp0_;
	_tmp1_ = beat_box_song_get_artist (self->priv->lm->song_info->song);
	_tmp2_ = g_strdup (_tmp1_);
	artist_s = _tmp2_;
	_tmp3_ = beat_box_song_get_title (self->priv->lm->song_info->song);
	_tmp4_ = g_strdup (_tmp3_);
	track_s = _tmp4_;
	_tmp5_ = g_strconcat (track_s, " by ", NULL);
	_tmp6_ = g_strconcat (_tmp5_, artist_s, NULL);
	_tmp7_ = beat_box_library_manager_track_info_exists (self->priv->lm, _tmp6_);
	if ((_tmp8_ = !_tmp7_, _g_free0 (_tmp6_), _g_free0 (_tmp5_), _tmp8_)) {
		LastFMTrackInfo* _tmp9_ = NULL;
		LastFMTrackInfo* _tmp10_;
		gboolean _tmp11_ = FALSE;
		const gchar* _tmp12_ = NULL;
		fprintf (stdout, "fetching track info...\n");
		_tmp9_ = last_fm_track_info_new_with_info (artist_s, track_s);
		_tmp10_ = _tmp9_;
		_g_object_unref0 (track);
		track = _tmp10_;
		if (track != NULL) {
			beat_box_library_manager_save_track (self->priv->lm, track);
		}
		_tmp12_ = beat_box_song_get_title (self->priv->lm->song_info->song);
		if (g_strcmp0 (track_s, _tmp12_) == 0) {
			const gchar* _tmp13_ = NULL;
			_tmp13_ = beat_box_song_get_artist (self->priv->lm->song_info->song);
			_tmp11_ = g_strcmp0 (artist_s, _tmp13_) == 0;
		} else {
			_tmp11_ = FALSE;
		}
		if (_tmp11_) {
			LastFMTrackInfo* _tmp14_;
			LastFMTrackInfo* _tmp15_;
			_tmp14_ = _g_object_ref0 (track);
			_tmp15_ = _tmp14_;
			_g_object_unref0 (self->priv->lm->song_info->track);
			self->priv->lm->song_info->track = _tmp15_;
		}
		fprintf (stdout, "track info fetched\n");
	}
	result = NULL;
	_g_free0 (track_s);
	_g_free0 (artist_s);
	_g_object_unref0 (track);
	return result;
}


static gboolean _beat_box_library_window_updateCurrentSong_gsource_func (gpointer self) {
	gboolean result;
	result = beat_box_library_window_updateCurrentSong (self);
	return result;
}


void* beat_box_library_window_lastfm_album_thread_function (BeatBoxLibraryWindow* self) {
	void* result = NULL;
	LastFMAlbumInfo* _tmp0_ = NULL;
	LastFMAlbumInfo* album;
	const gchar* _tmp1_ = NULL;
	gchar* _tmp2_;
	gchar* artist_s;
	const gchar* _tmp3_ = NULL;
	gchar* _tmp4_;
	gchar* album_s;
	gchar* _tmp5_;
	gchar* _tmp6_;
	gboolean _tmp7_;
	gboolean _tmp8_;
	g_return_val_if_fail (self != NULL, NULL);
	_tmp0_ = last_fm_album_info_new_basic ();
	album = _tmp0_;
	_tmp1_ = beat_box_song_get_artist (self->priv->lm->song_info->song);
	_tmp2_ = g_strdup (_tmp1_);
	artist_s = _tmp2_;
	_tmp3_ = beat_box_song_get_album (self->priv->lm->song_info->song);
	_tmp4_ = g_strdup (_tmp3_);
	album_s = _tmp4_;
	_tmp5_ = g_strconcat (album_s, " by ", NULL);
	_tmp6_ = g_strconcat (_tmp5_, artist_s, NULL);
	_tmp7_ = beat_box_library_manager_album_info_exists (self->priv->lm, _tmp6_);
	if ((_tmp8_ = !_tmp7_, _g_free0 (_tmp6_), _g_free0 (_tmp5_), _tmp8_)) {
		LastFMAlbumInfo* _tmp9_ = NULL;
		LastFMAlbumInfo* _tmp10_;
		gboolean _tmp11_ = FALSE;
		gboolean _tmp12_ = FALSE;
		gboolean _tmp13_ = FALSE;
		gboolean _tmp14_ = FALSE;
		fprintf (stdout, "fetching album info...\n");
		_tmp9_ = last_fm_album_info_new_with_info (artist_s, album_s);
		_tmp10_ = _tmp9_;
		_g_object_unref0 (album);
		album = _tmp10_;
		if (album != NULL) {
			beat_box_library_manager_save_album (self->priv->lm, album);
		}
		if (self->priv->lm->song_info->song != NULL) {
			_tmp14_ = album != NULL;
		} else {
			_tmp14_ = FALSE;
		}
		if (_tmp14_) {
			const gchar* _tmp15_ = NULL;
			_tmp15_ = beat_box_song_get_album (self->priv->lm->song_info->song);
			_tmp13_ = g_strcmp0 (album_s, _tmp15_) == 0;
		} else {
			_tmp13_ = FALSE;
		}
		if (_tmp13_) {
			const gchar* _tmp16_ = NULL;
			_tmp16_ = beat_box_song_get_artist (self->priv->lm->song_info->song);
			_tmp12_ = g_strcmp0 (artist_s, _tmp16_) == 0;
		} else {
			_tmp12_ = FALSE;
		}
		if (_tmp12_) {
			gint _tmp17_;
			gchar* _tmp18_ = NULL;
			gchar* _tmp19_;
			_tmp17_ = beat_box_song_get_rowid (self->priv->lm->song_info->song);
			_tmp18_ = beat_box_library_manager_get_album_location (self->priv->lm, _tmp17_);
			_tmp19_ = _tmp18_;
			_tmp11_ = _tmp19_ == NULL;
			_g_free0 (_tmp19_);
		} else {
			_tmp11_ = FALSE;
		}
		if (_tmp11_) {
			LastFMAlbumInfo* _tmp20_;
			LastFMAlbumInfo* _tmp21_;
			gint _tmp22_;
			LastFMImage* _tmp23_ = NULL;
			const gchar* _tmp24_ = NULL;
			GdkPixbuf* _tmp25_ = NULL;
			GdkPixbuf* _tmp26_;
			_tmp20_ = _g_object_ref0 (album);
			_tmp21_ = _tmp20_;
			_g_object_unref0 (self->priv->lm->song_info->album);
			self->priv->lm->song_info->album = _tmp21_;
			_tmp22_ = beat_box_song_get_rowid (self->priv->lm->song_info->song);
			_tmp23_ = last_fm_album_info_get_url_image (album);
			_tmp24_ = last_fm_image_get_url (_tmp23_);
			_tmp25_ = beat_box_library_manager_save_album_locally (self->priv->lm, _tmp22_, _tmp24_);
			_tmp26_ = _tmp25_;
			_g_object_unref0 (_tmp26_);
		} else {
			fprintf (stdout, "song has changed, exiting\n");
			result = NULL;
			_g_free0 (album_s);
			_g_free0 (artist_s);
			_g_object_unref0 (album);
			return result;
		}
	}
	g_idle_add_full (G_PRIORITY_DEFAULT_IDLE, _beat_box_library_window_updateCurrentSong_gsource_func, g_object_ref (self), g_object_unref);
	result = NULL;
	_g_free0 (album_s);
	_g_free0 (artist_s);
	_g_object_unref0 (album);
	return result;
}


static gboolean _lambda20_ (BeatBoxLibraryWindow* self) {
	gboolean result = FALSE;
	beat_box_info_panel_updateArtistImage (self->priv->infoPanel);
	result = FALSE;
	return result;
}


static gboolean __lambda20__gsource_func (gpointer self) {
	gboolean result;
	result = _lambda20_ (self);
	return result;
}


void* beat_box_library_window_lastfm_artist_thread_function (BeatBoxLibraryWindow* self) {
	void* result = NULL;
	LastFMArtistInfo* _tmp0_ = NULL;
	LastFMArtistInfo* artist;
	const gchar* _tmp1_ = NULL;
	gchar* _tmp2_;
	gchar* artist_s;
	gboolean _tmp3_;
	g_return_val_if_fail (self != NULL, NULL);
	_tmp0_ = last_fm_artist_info_new_basic ();
	artist = _tmp0_;
	_tmp1_ = beat_box_song_get_artist (self->priv->lm->song_info->song);
	_tmp2_ = g_strdup (_tmp1_);
	artist_s = _tmp2_;
	_tmp3_ = beat_box_library_manager_artist_info_exists (self->priv->lm, artist_s);
	if (!_tmp3_) {
		LastFMArtistInfo* _tmp4_ = NULL;
		LastFMArtistInfo* _tmp5_;
		gboolean _tmp6_ = FALSE;
		gboolean _tmp7_ = FALSE;
		gboolean _tmp8_ = FALSE;
		fprintf (stdout, "fetching artist info...\n");
		_tmp4_ = last_fm_artist_info_new_with_artist (artist_s);
		_tmp5_ = _tmp4_;
		_g_object_unref0 (artist);
		artist = _tmp5_;
		if (artist != NULL) {
			beat_box_library_manager_save_artist (self->priv->lm, artist);
		}
		if (self->priv->lm->song_info->song != NULL) {
			_tmp8_ = artist != NULL;
		} else {
			_tmp8_ = FALSE;
		}
		if (_tmp8_) {
			const gchar* _tmp9_ = NULL;
			_tmp9_ = beat_box_song_get_artist (self->priv->lm->song_info->song);
			_tmp7_ = g_strcmp0 (artist_s, _tmp9_) == 0;
		} else {
			_tmp7_ = FALSE;
		}
		if (_tmp7_) {
			gint _tmp10_;
			gchar* _tmp11_ = NULL;
			gchar* _tmp12_;
			_tmp10_ = beat_box_song_get_rowid (self->priv->lm->song_info->song);
			_tmp11_ = beat_box_library_manager_get_artist_image_location (self->priv->lm, _tmp10_);
			_tmp12_ = _tmp11_;
			_tmp6_ = _tmp12_ == NULL;
			_g_free0 (_tmp12_);
		} else {
			_tmp6_ = FALSE;
		}
		if (_tmp6_) {
			LastFMArtistInfo* _tmp13_;
			LastFMArtistInfo* _tmp14_;
			gint _tmp15_;
			LastFMImage* _tmp16_ = NULL;
			const gchar* _tmp17_ = NULL;
			GdkPixbuf* _tmp18_ = NULL;
			GdkPixbuf* _tmp19_;
			_tmp13_ = _g_object_ref0 (artist);
			_tmp14_ = _tmp13_;
			_g_object_unref0 (self->priv->lm->song_info->artist);
			self->priv->lm->song_info->artist = _tmp14_;
			_tmp15_ = beat_box_song_get_rowid (self->priv->lm->song_info->song);
			_tmp16_ = last_fm_artist_info_get_url_image (artist);
			_tmp17_ = last_fm_image_get_url (_tmp16_);
			_tmp18_ = beat_box_library_manager_save_artist_image_locally (self->priv->lm, _tmp15_, _tmp17_);
			_tmp19_ = _tmp18_;
			_g_object_unref0 (_tmp19_);
		} else {
			fprintf (stdout, "song has changed, exiting\n");
			result = NULL;
			_g_free0 (artist_s);
			_g_object_unref0 (artist);
			return result;
		}
	}
	g_idle_add_full (G_PRIORITY_DEFAULT_IDLE, __lambda20__gsource_func, g_object_ref (self), g_object_unref);
	result = NULL;
	_g_free0 (artist_s);
	_g_object_unref0 (artist);
	return result;
}


gboolean beat_box_library_window_updateSongInfo (BeatBoxLibraryWindow* self) {
	gboolean result = FALSE;
	gint _tmp0_;
	g_return_val_if_fail (self != NULL, FALSE);
	_tmp0_ = beat_box_song_get_rowid (self->priv->lm->song_info->song);
	beat_box_info_panel_updateSong (self->priv->infoPanel, _tmp0_);
	result = FALSE;
	return result;
}


static void beat_box_library_window_real_previousClicked (BeatBoxLibraryWindow* self) {
	g_return_if_fail (self != NULL);
	if (!self->priv->queriedlastfm) {
		beat_box_library_manager_getPrevious (self->priv->lm, TRUE);
	} else {
		elementary_widgets_top_display_change_value (self->priv->topDisplay, GTK_SCROLL_NONE, (gdouble) 0);
	}
}


void beat_box_library_window_previousClicked (BeatBoxLibraryWindow* self) {
	BEAT_BOX_LIBRARY_WINDOW_GET_CLASS (self)->previousClicked (self);
}


static void beat_box_library_window_real_playClicked (BeatBoxLibraryWindow* self) {
	g_return_if_fail (self != NULL);
	if (self->priv->lm->song_info->song == NULL) {
		GtkWidget* _tmp0_ = NULL;
		GtkWidget* w;
		_tmp0_ = beat_box_side_tree_view_getSelectedWidget (self->priv->sideTree);
		w = _tmp0_;
		if (BEAT_BOX_IS_MUSIC_TREE_VIEW (w)) {
			beat_box_music_tree_view_setAsCurrentList (BEAT_BOX_MUSIC_TREE_VIEW (w), "0");
		} else {
			GtkWidget* _tmp1_ = NULL;
			GtkWidget* _tmp2_;
			_tmp1_ = beat_box_side_tree_view_getWidget (self->priv->sideTree, &self->priv->sideTree->library_music_iter);
			_tmp2_ = _tmp1_;
			_g_object_unref0 (w);
			w = _tmp2_;
			beat_box_music_tree_view_setAsCurrentList (BEAT_BOX_MUSIC_TREE_VIEW (w), "0");
		}
		self->priv->lm->playing = TRUE;
		gtk_tool_button_set_stock_id (self->priv->playButton, GTK_STOCK_MEDIA_PAUSE);
		beat_box_stream_player_play_stream (self->priv->lm->player);
		beat_box_library_manager_getNext (self->priv->lm, TRUE);
		_g_object_unref0 (w);
	} else {
		if (self->priv->lm->playing) {
			self->priv->lm->playing = FALSE;
			beat_box_stream_player_pause_stream (self->priv->lm->player);
			gtk_tool_button_set_stock_id (self->priv->playButton, GTK_STOCK_MEDIA_PLAY);
		} else {
			self->priv->lm->playing = TRUE;
			beat_box_stream_player_play_stream (self->priv->lm->player);
			gtk_tool_button_set_stock_id (self->priv->playButton, GTK_STOCK_MEDIA_PAUSE);
		}
	}
}


void beat_box_library_window_playClicked (BeatBoxLibraryWindow* self) {
	BEAT_BOX_LIBRARY_WINDOW_GET_CLASS (self)->playClicked (self);
}


static void beat_box_library_window_real_nextClicked (BeatBoxLibraryWindow* self) {
	g_return_if_fail (self != NULL);
	beat_box_library_manager_getNext (self->priv->lm, TRUE);
	if (!self->priv->added_to_play_count) {
		gint _tmp0_;
		gint _tmp1_;
		_tmp0_ = beat_box_song_get_skip_count (self->priv->lm->song_info->song);
		_tmp1_ = _tmp0_;
		beat_box_song_set_skip_count (self->priv->lm->song_info->song, _tmp1_ + 1);
	}
}


void beat_box_library_window_nextClicked (BeatBoxLibraryWindow* self) {
	BEAT_BOX_LIBRARY_WINDOW_GET_CLASS (self)->nextClicked (self);
}


static void beat_box_library_window_real_shuffleClicked (BeatBoxLibraryWindow* self) {
	const gchar* _tmp0_ = NULL;
	g_return_if_fail (self != NULL);
	_tmp0_ = gtk_button_get_label (self->priv->shuffleButton);
	if (g_strcmp0 (_tmp0_, "Shuffle") == 0) {
		gtk_button_set_label (self->priv->shuffleButton, "Unshuffle");
		beat_box_library_manager_shuffleMusic (self->priv->lm);
	} else {
		gtk_button_set_label (self->priv->shuffleButton, "Shuffle");
		beat_box_library_manager_unShuffleMusic (self->priv->lm);
	}
}


void beat_box_library_window_shuffleClicked (BeatBoxLibraryWindow* self) {
	BEAT_BOX_LIBRARY_WINDOW_GET_CLASS (self)->shuffleClicked (self);
}


static void beat_box_library_window_real_loveButtonClicked (BeatBoxLibraryWindow* self) {
	const gchar* _tmp0_ = NULL;
	const gchar* _tmp1_ = NULL;
	g_return_if_fail (self != NULL);
	_tmp0_ = beat_box_song_get_title (self->priv->lm->song_info->song);
	_tmp1_ = beat_box_song_get_artist (self->priv->lm->song_info->song);
	last_fm_core_loveTrack (self->priv->lm->lfm, _tmp0_, _tmp1_);
}


void beat_box_library_window_loveButtonClicked (BeatBoxLibraryWindow* self) {
	BEAT_BOX_LIBRARY_WINDOW_GET_CLASS (self)->loveButtonClicked (self);
}


static void beat_box_library_window_real_banButtonClicked (BeatBoxLibraryWindow* self) {
	const gchar* _tmp0_ = NULL;
	const gchar* _tmp1_ = NULL;
	g_return_if_fail (self != NULL);
	_tmp0_ = beat_box_song_get_title (self->priv->lm->song_info->song);
	_tmp1_ = beat_box_song_get_artist (self->priv->lm->song_info->song);
	last_fm_core_banTrack (self->priv->lm->lfm, _tmp0_, _tmp1_);
}


void beat_box_library_window_banButtonClicked (BeatBoxLibraryWindow* self) {
	BEAT_BOX_LIBRARY_WINDOW_GET_CLASS (self)->banButtonClicked (self);
}


static void beat_box_library_window_real_searchFieldIconPressed (BeatBoxLibraryWindow* self, GtkEntryIconPosition p0, GdkEvent* p1) {
	GtkWidget* _tmp0_ = NULL;
	GtkWidget* w;
	gboolean _tmp1_;
	g_return_if_fail (self != NULL);
	g_return_if_fail (p1 != NULL);
	_tmp0_ = beat_box_side_tree_view_getSelectedWidget (self->priv->sideTree);
	w = _tmp0_;
	g_signal_emit_by_name (w, "focus", GTK_DIR_UP, &_tmp1_);
	_tmp1_;
	_g_object_unref0 (w);
}


void beat_box_library_window_searchFieldIconPressed (BeatBoxLibraryWindow* self, GtkEntryIconPosition p0, GdkEvent* p1) {
	BEAT_BOX_LIBRARY_WINDOW_GET_CLASS (self)->searchFieldIconPressed (self, p0, p1);
}


static void beat_box_library_window_real_sourcesToSongsHandleSet (BeatBoxLibraryWindow* self, GdkRectangle* rectangle) {
	gint height = 0;
	gint width = 0;
	gint _tmp0_;
	gint _tmp1_;
	gint _tmp2_;
	g_return_if_fail (self != NULL);
	gtk_window_get_size ((GtkWindow*) self, &_tmp0_, &_tmp1_);
	width = _tmp0_;
	height = _tmp1_;
	if ((*rectangle).width > (height / 2)) {
		gtk_paned_set_position ((GtkPaned*) self->priv->sourcesToSongs, height / 2);
		return;
	}
	_tmp2_ = beat_box_settings_getSidebarWidth (self->priv->settings);
	if (_tmp2_ != (*rectangle).width) {
		beat_box_library_window_updateCurrentSong (self);
		beat_box_settings_setSidebarWidth (self->priv->settings, (*rectangle).width);
	}
}


void beat_box_library_window_sourcesToSongsHandleSet (BeatBoxLibraryWindow* self, GdkRectangle* rectangle) {
	BEAT_BOX_LIBRARY_WINDOW_GET_CLASS (self)->sourcesToSongsHandleSet (self, rectangle);
}


static void beat_box_library_window_real_on_resize (BeatBoxLibraryWindow* self) {
	gint width = 0;
	gint height = 0;
	gint _tmp0_;
	gint _tmp1_;
	g_return_if_fail (self != NULL);
	gtk_window_get_size ((GtkWindow*) self, &_tmp0_, &_tmp1_);
	width = _tmp0_;
	height = _tmp1_;
	beat_box_settings_setWindowWidth (self->priv->settings, width);
	beat_box_settings_setWindowHeight (self->priv->settings, height);
}


void beat_box_library_window_on_resize (BeatBoxLibraryWindow* self) {
	BEAT_BOX_LIBRARY_WINDOW_GET_CLASS (self)->on_resize (self);
}


static void beat_box_library_window_real_on_quit (BeatBoxLibraryWindow* self) {
	gdouble _tmp0_;
	g_return_if_fail (self != NULL);
	gtk_widget_hide ((GtkWidget*) self);
	fprintf (stdout, "Stopping playback\n");
	beat_box_stream_player_pause_stream (self->priv->lm->player);
	_tmp0_ = elementary_widgets_top_display_get_scale_value (self->priv->topDisplay);
	beat_box_settings_setLastSongPosition (self->priv->lm->settings, (gint) _tmp0_);
	fprintf (stdout, "Saving songs\n");
	beat_box_library_manager_save_songs (self->priv->lm);
	fprintf (stdout, "Saving playlists\n");
	beat_box_library_manager_save_playlists (self->priv->lm);
	beat_box_library_manager_save_smart_playlists (self->priv->lm);
	fprintf (stdout, "Saving LastFM Info\n");
	beat_box_library_manager_save_artists (self->priv->lm);
	beat_box_library_manager_save_albums (self->priv->lm);
	beat_box_library_manager_save_tracks (self->priv->lm);
}


void beat_box_library_window_on_quit (BeatBoxLibraryWindow* self) {
	BEAT_BOX_LIBRARY_WINDOW_GET_CLASS (self)->on_quit (self);
}


static void beat_box_library_window_real_fileImportMusicClick (BeatBoxLibraryWindow* self) {
	g_return_if_fail (self != NULL);
	if (!self->priv->lm->doing_file_operations) {
		gchar* _tmp0_;
		gchar* folder;
		GtkFileChooserDialog* _tmp1_ = NULL;
		GtkFileChooserDialog* file_chooser;
		gint _tmp2_;
		gboolean _tmp5_ = FALSE;
		_tmp0_ = g_strdup ("");
		folder = _tmp0_;
		_tmp1_ = (GtkFileChooserDialog*) gtk_file_chooser_dialog_new ("Choose Music Folder", (GtkWindow*) self, GTK_FILE_CHOOSER_ACTION_SELECT_FOLDER, GTK_STOCK_CANCEL, GTK_RESPONSE_CANCEL, GTK_STOCK_OPEN, GTK_RESPONSE_ACCEPT, NULL);
		file_chooser = g_object_ref_sink (_tmp1_);
		_tmp2_ = gtk_dialog_run ((GtkDialog*) file_chooser);
		if (_tmp2_ == GTK_RESPONSE_ACCEPT) {
			gchar* _tmp3_ = NULL;
			gchar* _tmp4_;
			_tmp3_ = gtk_file_chooser_get_filename ((GtkFileChooser*) file_chooser);
			_tmp4_ = _tmp3_;
			_g_free0 (folder);
			folder = _tmp4_;
		}
		gtk_object_destroy ((GtkObject*) file_chooser);
		if (g_strcmp0 (folder, "") != 0) {
			gchar* _tmp6_ = NULL;
			gchar* _tmp7_;
			_tmp6_ = beat_box_settings_getMusicFolder (self->priv->settings);
			_tmp7_ = _tmp6_;
			_tmp5_ = g_strcmp0 (folder, _tmp7_) != 0;
			_g_free0 (_tmp7_);
		} else {
			_tmp5_ = FALSE;
		}
		if (_tmp5_) {
			gchar* _tmp8_;
			gchar* _tmp9_;
			_tmp8_ = g_strconcat ("<b>Importing</b> music from <b>", folder, NULL);
			_tmp9_ = g_strconcat (_tmp8_, "</b> to library.", NULL);
			elementary_widgets_top_display_set_label_markup (self->priv->topDisplay, _tmp9_);
			_g_free0 (_tmp9_);
			_g_free0 (_tmp8_);
			elementary_widgets_top_display_show_progressbar (self->priv->topDisplay);
			beat_box_library_manager_add_folder_to_library (self->priv->lm, folder);
			beat_box_library_window_updateSensitivities (self);
		}
		_g_object_unref0 (file_chooser);
		_g_free0 (folder);
	} else {
		fprintf (stdout, "Can't add to library.. already doing file operations\n");
	}
}


void beat_box_library_window_fileImportMusicClick (BeatBoxLibraryWindow* self) {
	BEAT_BOX_LIBRARY_WINDOW_GET_CLASS (self)->fileImportMusicClick (self);
}


static void beat_box_library_window_real_fileRescanMusicFolderClick (BeatBoxLibraryWindow* self) {
	g_return_if_fail (self != NULL);
	if (!self->priv->lm->doing_file_operations) {
		elementary_widgets_top_display_set_label_markup (self->priv->topDisplay, "<b>Rescanning music folder for changes</b>");
		elementary_widgets_top_display_show_progressbar (self->priv->topDisplay);
		beat_box_library_manager_rescan_music_folder (self->priv->lm);
		beat_box_library_window_updateSensitivities (self);
	} else {
		fprintf (stdout, "Can't rescan.. doing file operations already\n");
	}
}


void beat_box_library_window_fileRescanMusicFolderClick (BeatBoxLibraryWindow* self) {
	BEAT_BOX_LIBRARY_WINDOW_GET_CLASS (self)->fileRescanMusicFolderClick (self);
}


static void beat_box_library_window_real_musicCounted (BeatBoxLibraryWindow* self, gint count) {
	g_return_if_fail (self != NULL);
	fprintf (stdout, "taha!\n");
	if (count > 0) {
		gtk_widget_hide ((GtkWidget*) self->priv->welcomeScreen);
		gtk_widget_show ((GtkWidget*) self->priv->mainViews);
	}
}


void beat_box_library_window_musicCounted (BeatBoxLibraryWindow* self, gint count) {
	BEAT_BOX_LIBRARY_WINDOW_GET_CLASS (self)->musicCounted (self, count);
}


static void beat_box_library_window_real_musicAdded (BeatBoxLibraryWindow* self, GeeLinkedList* not_imported) {
	GtkWidget* _tmp13_ = NULL;
	GtkWidget* w;
	GeeCollection* _tmp14_ = NULL;
	GeeCollection* _tmp15_;
	gint _tmp16_;
	gboolean _tmp18_;
	GError * _inner_error_ = NULL;
	g_return_if_fail (self != NULL);
	g_return_if_fail (not_imported != NULL);
	beat_box_side_tree_view_resetView (self->priv->sideTree);
	elementary_widgets_top_display_show_scale (self->priv->topDisplay);
	if (self->priv->lm->song_info->song != NULL) {
		const gchar* _tmp0_ = NULL;
		gchar* _tmp1_;
		gchar* _tmp2_;
		gchar* _tmp3_;
		gchar* _tmp4_;
		const gchar* _tmp5_ = NULL;
		gchar* _tmp6_;
		gchar* _tmp7_;
		gchar* _tmp8_;
		gchar* _tmp9_;
		const gchar* _tmp10_ = NULL;
		gchar* _tmp11_;
		gchar* _tmp12_;
		gchar* song_label;
		_tmp0_ = beat_box_song_get_title (self->priv->lm->song_info->song);
		_tmp1_ = g_strconcat ("<b>", _tmp0_, NULL);
		_tmp2_ = g_strconcat (_tmp1_, "</b>", NULL);
		_tmp3_ = g_strconcat (_tmp2_, " by ", NULL);
		_tmp4_ = g_strconcat (_tmp3_, "<b>", NULL);
		_tmp5_ = beat_box_song_get_artist (self->priv->lm->song_info->song);
		_tmp6_ = g_strconcat (_tmp4_, _tmp5_, NULL);
		_tmp7_ = g_strconcat (_tmp6_, "</b>", NULL);
		_tmp8_ = g_strconcat (_tmp7_, " on ", NULL);
		_tmp9_ = g_strconcat (_tmp8_, "<b>", NULL);
		_tmp10_ = beat_box_song_get_album (self->priv->lm->song_info->song);
		_tmp11_ = g_strconcat (_tmp9_, _tmp10_, NULL);
		song_label = (_tmp12_ = g_strconcat (_tmp11_, "</b>", NULL), _g_free0 (_tmp11_), _g_free0 (_tmp9_), _g_free0 (_tmp8_), _g_free0 (_tmp7_), _g_free0 (_tmp6_), _g_free0 (_tmp4_), _g_free0 (_tmp3_), _g_free0 (_tmp2_), _g_free0 (_tmp1_), _tmp12_);
		elementary_widgets_top_display_set_label_markup (self->priv->topDisplay, song_label);
		_g_free0 (song_label);
	} else {
		elementary_widgets_top_display_set_label_text (self->priv->topDisplay, "");
	}
	_tmp13_ = beat_box_side_tree_view_getWidget (self->priv->sideTree, &self->priv->sideTree->library_music_iter);
	w = _tmp13_;
	_tmp14_ = beat_box_library_manager_song_ids (self->priv->lm);
	_tmp15_ = _tmp14_;
	beat_box_music_tree_view_populateView (BEAT_BOX_MUSIC_TREE_VIEW (w), _tmp15_, FALSE);
	_g_object_unref0 (_tmp15_);
	_tmp16_ = gee_collection_get_size ((GeeCollection*) not_imported);
	if (_tmp16_ > 0) {
		BeatBoxNotImportedWindow* _tmp17_ = NULL;
		BeatBoxNotImportedWindow* nim;
		_tmp17_ = beat_box_not_imported_window_new (not_imported);
		nim = g_object_ref_sink (_tmp17_);
		gtk_widget_show ((GtkWidget*) nim);
		_g_object_unref0 (nim);
	}
	beat_box_library_window_updateSensitivities (self);
	beat_box_library_manager_save_songs (self->priv->lm);
	notify_notification_close (self->priv->notification, &_inner_error_);
	if (_inner_error_ != NULL) {
		goto __catch63_g_error;
	}
	if (!(g_object_get ((GtkWindow*) self, "has-toplevel-focus", &_tmp18_, NULL), _tmp18_)) {
		GdkPixbuf* _tmp19_ = NULL;
		GdkPixbuf* _tmp20_;
		notify_notification_update (self->priv->notification, "Import Complete", "BeatBox has imported your library", "music-folder");
		_tmp19_ = gtk_widget_render_icon ((GtkWidget*) self, "beatbox", GTK_ICON_SIZE_DIALOG, NULL);
		_tmp20_ = _tmp19_;
		notify_notification_set_image_from_pixbuf (self->priv->notification, _tmp20_);
		_g_object_unref0 (_tmp20_);
		notify_notification_show (self->priv->notification, &_inner_error_);
		if (_inner_error_ != NULL) {
			goto __catch63_g_error;
		}
		notify_notification_set_timeout (self->priv->notification, 5000);
	}
	goto __finally63;
	__catch63_g_error:
	{
		GError * err;
		err = _inner_error_;
		_inner_error_ = NULL;
		fprintf (stderr, "Could not show notification: %s\n", err->message);
		_g_error_free0 (err);
	}
	__finally63:
	if (_inner_error_ != NULL) {
		_g_object_unref0 (w);
		g_critical ("file %s: line %d: uncaught error: %s (%s, %d)", __FILE__, __LINE__, _inner_error_->message, g_quark_to_string (_inner_error_->domain), _inner_error_->code);
		g_clear_error (&_inner_error_);
		return;
	}
	_g_object_unref0 (w);
}


void beat_box_library_window_musicAdded (BeatBoxLibraryWindow* self, GeeLinkedList* not_imported) {
	BEAT_BOX_LIBRARY_WINDOW_GET_CLASS (self)->musicAdded (self, not_imported);
}


static void beat_box_library_window_real_musicImported (BeatBoxLibraryWindow* self, GeeLinkedList* new_songs, GeeLinkedList* not_imported) {
	gboolean _tmp20_ = FALSE;
	const gchar* _tmp21_ = NULL;
	g_return_if_fail (self != NULL);
	g_return_if_fail (new_songs != NULL);
	g_return_if_fail (not_imported != NULL);
	elementary_widgets_top_display_show_scale (self->priv->topDisplay);
	if (self->priv->lm->song_info->song != NULL) {
		const gchar* _tmp0_ = NULL;
		gchar* _tmp1_;
		gchar* _tmp2_;
		gchar* _tmp3_;
		gchar* _tmp4_;
		const gchar* _tmp5_ = NULL;
		gchar* _tmp6_;
		gchar* _tmp7_;
		gchar* _tmp8_;
		gchar* _tmp9_;
		const gchar* _tmp10_ = NULL;
		gchar* _tmp11_;
		gchar* _tmp12_;
		gchar* song_label;
		_tmp0_ = beat_box_song_get_title (self->priv->lm->song_info->song);
		_tmp1_ = g_strconcat ("<b>", _tmp0_, NULL);
		_tmp2_ = g_strconcat (_tmp1_, "</b>", NULL);
		_tmp3_ = g_strconcat (_tmp2_, " by ", NULL);
		_tmp4_ = g_strconcat (_tmp3_, "<b>", NULL);
		_tmp5_ = beat_box_song_get_artist (self->priv->lm->song_info->song);
		_tmp6_ = g_strconcat (_tmp4_, _tmp5_, NULL);
		_tmp7_ = g_strconcat (_tmp6_, "</b>", NULL);
		_tmp8_ = g_strconcat (_tmp7_, " on ", NULL);
		_tmp9_ = g_strconcat (_tmp8_, "<b>", NULL);
		_tmp10_ = beat_box_song_get_album (self->priv->lm->song_info->song);
		_tmp11_ = g_strconcat (_tmp9_, _tmp10_, NULL);
		song_label = (_tmp12_ = g_strconcat (_tmp11_, "</b>", NULL), _g_free0 (_tmp11_), _g_free0 (_tmp9_), _g_free0 (_tmp8_), _g_free0 (_tmp7_), _g_free0 (_tmp6_), _g_free0 (_tmp4_), _g_free0 (_tmp3_), _g_free0 (_tmp2_), _g_free0 (_tmp1_), _tmp12_);
		elementary_widgets_top_display_set_label_markup (self->priv->topDisplay, song_label);
		_g_free0 (song_label);
	} else {
		elementary_widgets_top_display_set_label_text (self->priv->topDisplay, "");
	}
	fprintf (stdout, "Adding new songs\n");
	{
		GeeLinkedList* _tmp13_;
		GeeLinkedList* _s_list;
		gint _tmp14_;
		gint _s_size;
		gint _s_index;
		_tmp13_ = _g_object_ref0 (new_songs);
		_s_list = _tmp13_;
		_tmp14_ = gee_collection_get_size ((GeeCollection*) _s_list);
		_s_size = _tmp14_;
		_s_index = -1;
		while (TRUE) {
			gpointer _tmp15_ = NULL;
			BeatBoxSong* s;
			GtkWidget* _tmp16_ = NULL;
			BeatBoxMusicTreeView* _tmp17_;
			GtkTreeIter* _tmp18_ = NULL;
			GtkTreeIter* _tmp19_;
			_s_index = _s_index + 1;
			if (!(_s_index < _s_size)) {
				break;
			}
			_tmp15_ = gee_abstract_list_get ((GeeAbstractList*) _s_list, _s_index);
			s = (BeatBoxSong*) _tmp15_;
			_tmp16_ = beat_box_side_tree_view_getWidget (self->priv->sideTree, &self->priv->sideTree->library_music_iter);
			_tmp17_ = BEAT_BOX_MUSIC_TREE_VIEW (_tmp16_);
			_tmp18_ = beat_box_music_tree_view_addSong (_tmp17_, s);
			_tmp19_ = _tmp18_;
			_g_free0 (_tmp19_);
			_g_object_unref0 (_tmp17_);
			_g_object_unref0 (s);
		}
		_g_object_unref0 (_s_list);
	}
	_tmp21_ = gtk_entry_get_text ((GtkEntry*) self->searchField);
	if (g_strcmp0 (_tmp21_, "") != 0) {
		const gchar* _tmp22_ = NULL;
		_tmp22_ = gtk_entry_get_text ((GtkEntry*) self->searchField);
		_tmp20_ = g_strcmp0 (_tmp22_, ((ElementaryWidgetsElementaryEntry*) self->searchField)->hint_string) != 0;
	} else {
		_tmp20_ = FALSE;
	}
	if (_tmp20_) {
		GtkWidget* _tmp23_ = NULL;
		BeatBoxMusicTreeView* _tmp24_;
		GtkWidget* _tmp25_ = NULL;
		BeatBoxMusicTreeView* _tmp26_;
		_tmp23_ = beat_box_side_tree_view_getWidget (self->priv->sideTree, &self->priv->sideTree->library_music_iter);
		_tmp24_ = BEAT_BOX_MUSIC_TREE_VIEW (_tmp23_);
		beat_box_music_tree_view_searchFieldChanged (_tmp24_);
		_g_object_unref0 (_tmp24_);
		_tmp25_ = beat_box_side_tree_view_getWidget (self->priv->sideTree, &self->priv->sideTree->library_music_iter);
		_tmp26_ = BEAT_BOX_MUSIC_TREE_VIEW (_tmp25_);
		beat_box_music_tree_view_searchFieldChanged (_tmp26_);
		_g_object_unref0 (_tmp26_);
	}
	beat_box_library_window_updateSensitivities (self);
}


void beat_box_library_window_musicImported (BeatBoxLibraryWindow* self, GeeLinkedList* new_songs, GeeLinkedList* not_imported) {
	BEAT_BOX_LIBRARY_WINDOW_GET_CLASS (self)->musicImported (self, new_songs, not_imported);
}


static void beat_box_library_window_real_musicRescanned (BeatBoxLibraryWindow* self, GeeLinkedList* new_songs, GeeLinkedList* not_imported) {
	gboolean _tmp13_ = FALSE;
	const gchar* _tmp14_ = NULL;
	g_return_if_fail (self != NULL);
	g_return_if_fail (new_songs != NULL);
	g_return_if_fail (not_imported != NULL);
	elementary_widgets_top_display_show_scale (self->priv->topDisplay);
	if (self->priv->lm->song_info->song != NULL) {
		const gchar* _tmp0_ = NULL;
		gchar* _tmp1_;
		gchar* _tmp2_;
		gchar* _tmp3_;
		gchar* _tmp4_;
		const gchar* _tmp5_ = NULL;
		gchar* _tmp6_;
		gchar* _tmp7_;
		gchar* _tmp8_;
		gchar* _tmp9_;
		const gchar* _tmp10_ = NULL;
		gchar* _tmp11_;
		gchar* _tmp12_;
		gchar* song_label;
		_tmp0_ = beat_box_song_get_title (self->priv->lm->song_info->song);
		_tmp1_ = g_strconcat ("<b>", _tmp0_, NULL);
		_tmp2_ = g_strconcat (_tmp1_, "</b>", NULL);
		_tmp3_ = g_strconcat (_tmp2_, " by ", NULL);
		_tmp4_ = g_strconcat (_tmp3_, "<b>", NULL);
		_tmp5_ = beat_box_song_get_artist (self->priv->lm->song_info->song);
		_tmp6_ = g_strconcat (_tmp4_, _tmp5_, NULL);
		_tmp7_ = g_strconcat (_tmp6_, "</b>", NULL);
		_tmp8_ = g_strconcat (_tmp7_, " on ", NULL);
		_tmp9_ = g_strconcat (_tmp8_, "<b>", NULL);
		_tmp10_ = beat_box_song_get_album (self->priv->lm->song_info->song);
		_tmp11_ = g_strconcat (_tmp9_, _tmp10_, NULL);
		song_label = (_tmp12_ = g_strconcat (_tmp11_, "</b>", NULL), _g_free0 (_tmp11_), _g_free0 (_tmp9_), _g_free0 (_tmp8_), _g_free0 (_tmp7_), _g_free0 (_tmp6_), _g_free0 (_tmp4_), _g_free0 (_tmp3_), _g_free0 (_tmp2_), _g_free0 (_tmp1_), _tmp12_);
		elementary_widgets_top_display_set_label_markup (self->priv->topDisplay, song_label);
		_g_free0 (song_label);
	} else {
		elementary_widgets_top_display_set_label_text (self->priv->topDisplay, "");
	}
	fprintf (stdout, "TODO: re-populate view without freezing view\n");
	_tmp14_ = gtk_entry_get_text ((GtkEntry*) self->searchField);
	if (g_strcmp0 (_tmp14_, "") != 0) {
		const gchar* _tmp15_ = NULL;
		_tmp15_ = gtk_entry_get_text ((GtkEntry*) self->searchField);
		_tmp13_ = g_strcmp0 (_tmp15_, ((ElementaryWidgetsElementaryEntry*) self->searchField)->hint_string) != 0;
	} else {
		_tmp13_ = FALSE;
	}
	if (_tmp13_) {
		GtkWidget* _tmp16_ = NULL;
		BeatBoxMusicTreeView* _tmp17_;
		GtkWidget* _tmp18_ = NULL;
		BeatBoxMusicTreeView* _tmp19_;
		_tmp16_ = beat_box_side_tree_view_getWidget (self->priv->sideTree, &self->priv->sideTree->library_music_iter);
		_tmp17_ = BEAT_BOX_MUSIC_TREE_VIEW (_tmp16_);
		beat_box_music_tree_view_searchFieldChanged (_tmp17_);
		_g_object_unref0 (_tmp17_);
		_tmp18_ = beat_box_side_tree_view_getWidget (self->priv->sideTree, &self->priv->sideTree->library_music_iter);
		_tmp19_ = BEAT_BOX_MUSIC_TREE_VIEW (_tmp18_);
		beat_box_music_tree_view_searchFieldChanged (_tmp19_);
		_g_object_unref0 (_tmp19_);
	}
	beat_box_library_window_updateSensitivities (self);
}


void beat_box_library_window_musicRescanned (BeatBoxLibraryWindow* self, GeeLinkedList* new_songs, GeeLinkedList* not_imported) {
	BEAT_BOX_LIBRARY_WINDOW_GET_CLASS (self)->musicRescanned (self, new_songs, not_imported);
}


static void beat_box_library_window_real_song_added (BeatBoxLibraryWindow* self, gint id) {
	g_return_if_fail (self != NULL);
}


void beat_box_library_window_song_added (BeatBoxLibraryWindow* self, gint id) {
	BEAT_BOX_LIBRARY_WINDOW_GET_CLASS (self)->song_added (self, id);
}


static void beat_box_library_window_real_songs_removed (BeatBoxLibraryWindow* self, GeeLinkedList* removed) {
	g_return_if_fail (self != NULL);
	g_return_if_fail (removed != NULL);
	beat_box_library_window_updateSensitivities (self);
}


void beat_box_library_window_songs_removed (BeatBoxLibraryWindow* self, GeeLinkedList* removed) {
	BEAT_BOX_LIBRARY_WINDOW_GET_CLASS (self)->songs_removed (self, removed);
}


static Block8Data* block8_data_ref (Block8Data* _data8_) {
	g_atomic_int_inc (&_data8_->_ref_count_);
	return _data8_;
}


static void block8_data_unref (Block8Data* _data8_) {
	if (g_atomic_int_dec_and_test (&_data8_->_ref_count_)) {
		_g_object_unref0 (_data8_->self);
		_g_object_unref0 (_data8_->ad);
		g_slice_free (Block8Data, _data8_);
	}
}


static void _lambda15_ (gint response_id, Block8Data* _data8_) {
	BeatBoxLibraryWindow * self;
	self = _data8_->self;
	gtk_object_destroy ((GtkObject*) _data8_->ad);
}


static void __lambda15__gtk_dialog_response (GtkDialog* _sender, gint response_id, gpointer self) {
	_lambda15_ (response_id, self);
}


static void beat_box_library_window_real_helpAboutClick (BeatBoxLibraryWindow* self) {
	Block8Data* _data8_;
	GtkAboutDialog* _tmp0_ = NULL;
	GdkPixbuf* _tmp1_ = NULL;
	GdkPixbuf* _tmp2_;
	GdkPixbuf* _tmp3_ = NULL;
	GdkPixbuf* _tmp4_;
	gchar** _tmp5_ = NULL;
	gchar** authors;
	gint authors_length1;
	gint _authors_size_;
	gchar* _tmp6_;
	gchar* _tmp7_;
	GeeLinkedList* _tmp8_ = NULL;
	GeeLinkedList* fakes;
	BeatBoxNotImportedWindow* _tmp9_ = NULL;
	BeatBoxNotImportedWindow* npw;
	g_return_if_fail (self != NULL);
	_data8_ = g_slice_new0 (Block8Data);
	_data8_->_ref_count_ = 1;
	_data8_->self = g_object_ref (self);
	_tmp0_ = (GtkAboutDialog*) gtk_about_dialog_new ();
	_data8_->ad = g_object_ref_sink (_tmp0_);
	gtk_about_dialog_set_program_name (_data8_->ad, "BeatBox");
	gtk_about_dialog_set_version (_data8_->ad, "0.1");
	gtk_about_dialog_set_website (_data8_->ad, "https://launchpad.net/beat-box");
	gtk_about_dialog_set_website_label (_data8_->ad, "Launchpad");
	_tmp1_ = gtk_widget_render_icon ((GtkWidget*) self, GTK_STOCK_ABOUT, GTK_ICON_SIZE_DIALOG, NULL);
	_tmp2_ = _tmp1_;
	gtk_window_set_icon ((GtkWindow*) _data8_->ad, _tmp2_);
	_g_object_unref0 (_tmp2_);
	_tmp3_ = gtk_widget_render_icon ((GtkWidget*) self, "beatbox", GTK_ICON_SIZE_DIALOG, NULL);
	_tmp4_ = _tmp3_;
	gtk_about_dialog_set_logo (_data8_->ad, _tmp4_);
	_g_object_unref0 (_tmp4_);
	_tmp5_ = g_new0 (gchar*, 1 + 1);
	authors = _tmp5_;
	authors_length1 = 1;
	_authors_size_ = 1;
	_tmp6_ = g_strdup ("Scott Ringwelski");
	_tmp7_ = _tmp6_;
	_g_free0 (authors[0]);
	authors[0] = _tmp7_;
	gtk_about_dialog_set_authors (_data8_->ad, authors);
	g_signal_connect_data ((GtkDialog*) _data8_->ad, "response", (GCallback) __lambda15__gtk_dialog_response, block8_data_ref (_data8_), (GClosureNotify) block8_data_unref, 0);
	gtk_widget_show ((GtkWidget*) _data8_->ad);
	_tmp8_ = gee_linked_list_new (G_TYPE_STRING, (GBoxedCopyFunc) g_strdup, g_free, NULL);
	fakes = _tmp8_;
	gee_abstract_collection_add ((GeeAbstractCollection*) fakes, "blah/bla;lfkj/asd;lkjf/a;sdfj.mp3");
	gee_abstract_collection_add ((GeeAbstractCollection*) fakes, "blah/bla;lfkj/asd;lkjf/a;sdfj.mp3");
	gee_abstract_collection_add ((GeeAbstractCollection*) fakes, "blah/bla;lfkj/asd;lkjf/a;sdfj.mp3");
	gee_abstract_collection_add ((GeeAbstractCollection*) fakes, "blah/bla;lfkj/asd;lkjf/a;sdfj.mp3");
	gee_abstract_collection_add ((GeeAbstractCollection*) fakes, "blah/bla;lfkj/asd;lkjf/a;sdfj.mp3");
	gee_abstract_collection_add ((GeeAbstractCollection*) fakes, "blah/bla;lfkj/asd;lkjf/a;sdfj.mp3");
	gee_abstract_collection_add ((GeeAbstractCollection*) fakes, "blah/bla;lfkj/asd;lkjf/a;sdfj.mp3");
	gee_abstract_collection_add ((GeeAbstractCollection*) fakes, "blah/bla;lfkj/asd;lkjf/a;sdfj.mp3");
	gee_abstract_collection_add ((GeeAbstractCollection*) fakes, "blah/bla;lfkj/asd;lkjf/a;sdfj.mp3");
	gee_abstract_collection_add ((GeeAbstractCollection*) fakes, "blah/bla;lfkj/asd;lkjf/a;sdfj.mp3");
	gee_abstract_collection_add ((GeeAbstractCollection*) fakes, "blah/bla;lfkj/asd;lkjf/a;sdfj.mp3");
	gee_abstract_collection_add ((GeeAbstractCollection*) fakes, "blah/bla;lfkj/asd;lkjf/a;sdfj.mp3");
	gee_abstract_collection_add ((GeeAbstractCollection*) fakes, "blah/bla;lfkj/asd;lkjf/a;sdfj.mp3");
	gee_abstract_collection_add ((GeeAbstractCollection*) fakes, "blah/bla;lfkj/asd;lkjf/a;sdfj.mp3");
	gee_abstract_collection_add ((GeeAbstractCollection*) fakes, "blah/bla;lfkj/asd;lkjf/a;sdfj.mp3");
	gee_abstract_collection_add ((GeeAbstractCollection*) fakes, "blah/bla;lfkj/asd;lkjf/a;sdfj.mp3");
	gee_abstract_collection_add ((GeeAbstractCollection*) fakes, "blah/bla;lfkj/asd;lkjf/a;sdfj.mp3");
	gee_abstract_collection_add ((GeeAbstractCollection*) fakes, "blah/bla;lfkj/asd;lkjf/a;sdfj.mp3");
	gee_abstract_collection_add ((GeeAbstractCollection*) fakes, "blah/bla;lfkj/asd;lkjf/a;sdfj.mp3");
	gee_abstract_collection_add ((GeeAbstractCollection*) fakes, "blah/bla;lfkj/asd;lkjf/a;sdfj.mp3");
	gee_abstract_collection_add ((GeeAbstractCollection*) fakes, "blah/bla;lfkj/asd;lkjf/a;sdfj.mp3");
	gee_abstract_collection_add ((GeeAbstractCollection*) fakes, "blah/bla;lfkj/asd;lkjf/a;sdfj.mp3");
	gee_abstract_collection_add ((GeeAbstractCollection*) fakes, "blah/bla;lfkj/asd;lkjf/a;sdfj.mp3");
	gee_abstract_collection_add ((GeeAbstractCollection*) fakes, "blah/bla;lfkj/asd;lkjf/a;sdfj.mp3");
	gee_abstract_collection_add ((GeeAbstractCollection*) fakes, "blah/bla;lfkj/asd;lkjf/a;sdfj.mp3");
	gee_abstract_collection_add ((GeeAbstractCollection*) fakes, "blah/bla;lfkj/asd;lkjf/a;sdfj.mp3");
	gee_abstract_collection_add ((GeeAbstractCollection*) fakes, "blah/bla;lfkj/asd;lkjf/a;sdfj.mp3");
	gee_abstract_collection_add ((GeeAbstractCollection*) fakes, "blah/bla;lfkj/asd;lkjf/a;sdfj.mp3");
	gee_abstract_collection_add ((GeeAbstractCollection*) fakes, "blah/bla;lfkj/asd;lkjf/a;sdfj.mp3");
	gee_abstract_collection_add ((GeeAbstractCollection*) fakes, "blah/bla;lfkj/asd;lkjf/a;sdfj.mp3");
	gee_abstract_collection_add ((GeeAbstractCollection*) fakes, "blah/bla;lfkj/asd;lkjf/a;sdfj.mp3");
	gee_abstract_collection_add ((GeeAbstractCollection*) fakes, "blah/bla;lfkj/asd;lkjf/a;sdfj.mp3");
	gee_abstract_collection_add ((GeeAbstractCollection*) fakes, "blah/bla;lfkj/asd;lkjf/a;sdfj.mp3");
	gee_abstract_collection_add ((GeeAbstractCollection*) fakes, "blah/bla;lfkj/asd;lkjf/a;sdfj.mp3");
	gee_abstract_collection_add ((GeeAbstractCollection*) fakes, "blah/bla;lfkj/asd;lkjf/a;sdfj.mp3");
	_tmp9_ = beat_box_not_imported_window_new (fakes);
	npw = g_object_ref_sink (_tmp9_);
	gtk_widget_show ((GtkWidget*) npw);
	_g_object_unref0 (npw);
	_g_object_unref0 (fakes);
	authors = (_vala_array_free (authors, authors_length1, (GDestroyNotify) g_free), NULL);
	block8_data_unref (_data8_);
	_data8_ = NULL;
}


void beat_box_library_window_helpAboutClick (BeatBoxLibraryWindow* self) {
	BEAT_BOX_LIBRARY_WINDOW_GET_CLASS (self)->helpAboutClick (self);
}


static void _lambda19_ (const gchar* folder, BeatBoxLibraryWindow* self) {
	g_return_if_fail (folder != NULL);
	beat_box_library_window_setMusicFolder (self, folder);
}


static void __lambda19__beat_box_preferences_window_changed (BeatBoxPreferencesWindow* _sender, const gchar* folder, gpointer self) {
	_lambda19_ (folder, self);
}


static void beat_box_library_window_real_editPreferencesClick (BeatBoxLibraryWindow* self) {
	BeatBoxPreferencesWindow* _tmp0_ = NULL;
	BeatBoxPreferencesWindow* pw;
	g_return_if_fail (self != NULL);
	_tmp0_ = beat_box_preferences_window_new (self->priv->lm, self);
	pw = g_object_ref_sink (_tmp0_);
	g_signal_connect_object (pw, "changed", (GCallback) __lambda19__beat_box_preferences_window_changed, self, 0);
	_g_object_unref0 (pw);
}


void beat_box_library_window_editPreferencesClick (BeatBoxLibraryWindow* self) {
	BEAT_BOX_LIBRARY_WINDOW_GET_CLASS (self)->editPreferencesClick (self);
}


void beat_box_library_window_setMusicFolder (BeatBoxLibraryWindow* self, const gchar* folder) {
	gchar* _tmp0_;
	gchar* _tmp1_;
	g_return_if_fail (self != NULL);
	g_return_if_fail (folder != NULL);
	_tmp0_ = g_strconcat ("<b>Importing</b> music from <b>", folder, NULL);
	_tmp1_ = g_strconcat (_tmp0_, "</b>", NULL);
	elementary_widgets_top_display_set_label_markup (self->priv->topDisplay, _tmp1_);
	_g_free0 (_tmp1_);
	_g_free0 (_tmp0_);
	elementary_widgets_top_display_show_progressbar (self->priv->topDisplay);
	beat_box_library_manager_set_music_folder (self->priv->lm, folder);
}


static void beat_box_library_window_real_end_of_stream (BeatBoxLibraryWindow* self, BeatBoxSong* s) {
	g_return_if_fail (self != NULL);
	g_return_if_fail (s != NULL);
	beat_box_library_window_nextClicked (self);
}


void beat_box_library_window_end_of_stream (BeatBoxLibraryWindow* self, BeatBoxSong* s) {
	BEAT_BOX_LIBRARY_WINDOW_GET_CLASS (self)->end_of_stream (self, s);
}


static gpointer _beat_box_library_window_lastfm_track_thread_function_gthread_func (gpointer self) {
	gpointer result;
	result = beat_box_library_window_lastfm_track_thread_function (self);
	return result;
}


static gpointer _beat_box_library_window_lastfm_album_thread_function_gthread_func (gpointer self) {
	gpointer result;
	result = beat_box_library_window_lastfm_album_thread_function (self);
	return result;
}


static gpointer _beat_box_library_window_lastfm_artist_thread_function_gthread_func (gpointer self) {
	gpointer result;
	result = beat_box_library_window_lastfm_artist_thread_function (self);
	return result;
}


static void beat_box_library_window_real_current_position_update (BeatBoxLibraryWindow* self, gint64 position) {
	gdouble sec;
	GError * _inner_error_ = NULL;
	g_return_if_fail (self != NULL);
	sec = 0.0;
	if (self->priv->lm->song_info->song != NULL) {
		gboolean _tmp0_ = FALSE;
		gboolean _tmp1_ = FALSE;
		gboolean _tmp4_ = FALSE;
		gint _tmp5_;
		sec = ((gdouble) position) / 1000000000;
		if (position > 5000000000LL) {
			_tmp0_ = !self->priv->queriedlastfm;
		} else {
			_tmp0_ = FALSE;
		}
		if (_tmp0_) {
			self->priv->queriedlastfm = TRUE;
			last_fm_similar_songs_queryForSimilar (self->priv->similarSongs, self->priv->lm->song_info->song);
			g_thread_create (_beat_box_library_window_lastfm_track_thread_function_gthread_func, self, FALSE, &_inner_error_);
			if (_inner_error_ != NULL) {
				if (_inner_error_->domain == G_THREAD_ERROR) {
					goto __catch64_g_thread_error;
				}
				g_critical ("file %s: line %d: unexpected error: %s (%s, %d)", __FILE__, __LINE__, _inner_error_->message, g_quark_to_string (_inner_error_->domain), _inner_error_->code);
				g_clear_error (&_inner_error_);
				return;
			}
			g_thread_create (_beat_box_library_window_lastfm_album_thread_function_gthread_func, self, FALSE, &_inner_error_);
			if (_inner_error_ != NULL) {
				if (_inner_error_->domain == G_THREAD_ERROR) {
					goto __catch64_g_thread_error;
				}
				g_critical ("file %s: line %d: unexpected error: %s (%s, %d)", __FILE__, __LINE__, _inner_error_->message, g_quark_to_string (_inner_error_->domain), _inner_error_->code);
				g_clear_error (&_inner_error_);
				return;
			}
			g_thread_create (_beat_box_library_window_lastfm_artist_thread_function_gthread_func, self, FALSE, &_inner_error_);
			if (_inner_error_ != NULL) {
				if (_inner_error_->domain == G_THREAD_ERROR) {
					goto __catch64_g_thread_error;
				}
				g_critical ("file %s: line %d: unexpected error: %s (%s, %d)", __FILE__, __LINE__, _inner_error_->message, g_quark_to_string (_inner_error_->domain), _inner_error_->code);
				g_clear_error (&_inner_error_);
				return;
			}
			goto __finally64;
			__catch64_g_thread_error:
			{
				GError * err;
				err = _inner_error_;
				_inner_error_ = NULL;
				fprintf (stdout, "ERROR: Could not create last fm thread: %s \n", err->message);
				_g_error_free0 (err);
			}
			__finally64:
			if (_inner_error_ != NULL) {
				g_critical ("file %s: line %d: uncaught error: %s (%s, %d)", __FILE__, __LINE__, _inner_error_->message, g_quark_to_string (_inner_error_->domain), _inner_error_->code);
				g_clear_error (&_inner_error_);
				return;
			}
		}
		if (position > 30000000000LL) {
			_tmp1_ = !self->priv->song_considered_played;
		} else {
			_tmp1_ = FALSE;
		}
		if (_tmp1_) {
			time_t _tmp2_;
			gint _tmp3_;
			self->priv->song_considered_played = TRUE;
			_tmp2_ = time (NULL);
			beat_box_song_set_last_played (self->priv->lm->song_info->song, (gint) _tmp2_);
			beat_box_library_manager_update_song (self->priv->lm, self->priv->lm->song_info->song, FALSE);
			_tmp3_ = beat_box_song_get_rowid (self->priv->lm->song_info->song);
			beat_box_library_manager_add_already_played (self->priv->lm, _tmp3_);
			beat_box_side_tree_view_updateAlreadyPlayed (self->priv->sideTree);
		}
		_tmp5_ = beat_box_song_get_length (self->priv->lm->song_info->song);
		if (((gdouble) (sec / ((gdouble) _tmp5_))) > 0.90) {
			_tmp4_ = !self->priv->added_to_play_count;
		} else {
			_tmp4_ = FALSE;
		}
		if (_tmp4_) {
			gint _tmp6_;
			gint _tmp7_;
			self->priv->added_to_play_count = TRUE;
			_tmp6_ = beat_box_song_get_play_count (self->priv->lm->song_info->song);
			_tmp7_ = _tmp6_;
			beat_box_song_set_play_count (self->priv->lm->song_info->song, _tmp7_ + 1);
			beat_box_library_manager_update_song (self->priv->lm, self->priv->lm->song_info->song, FALSE);
		}
	} else {
	}
}


void beat_box_library_window_current_position_update (BeatBoxLibraryWindow* self, gint64 position) {
	BEAT_BOX_LIBRARY_WINDOW_GET_CLASS (self)->current_position_update (self, position);
}


static void beat_box_library_window_real_similarRetrieved (BeatBoxLibraryWindow* self, GeeLinkedList* similarIDs, GeeLinkedList* similarDont) {
	GtkWidget* _tmp0_ = NULL;
	GtkWidget* w;
	g_return_if_fail (self != NULL);
	g_return_if_fail (similarIDs != NULL);
	g_return_if_fail (similarDont != NULL);
	_tmp0_ = beat_box_side_tree_view_getWidget (self->priv->sideTree, &self->priv->sideTree->playlists_similar_iter);
	w = _tmp0_;
	beat_box_similar_pane_updateSongs (BEAT_BOX_SIMILAR_PANE (w), self->priv->lm->song_info->song, (GeeCollection*) similarIDs);
	beat_box_info_panel_updateSongList (self->priv->infoPanel, (GeeCollection*) similarDont);
	_g_object_unref0 (w);
}


void beat_box_library_window_similarRetrieved (BeatBoxLibraryWindow* self, GeeLinkedList* similarIDs, GeeLinkedList* similarDont) {
	BEAT_BOX_LIBRARY_WINDOW_GET_CLASS (self)->similarRetrieved (self, similarIDs, similarDont);
}


void beat_box_library_window_setStatusBarText (BeatBoxLibraryWindow* self, const gchar* text) {
	g_return_if_fail (self != NULL);
	g_return_if_fail (text != NULL);
	fprintf (stdout, "View changed, set text to %s\n", text);
}


void beat_box_library_window_welcomeScreenActivated (BeatBoxLibraryWindow* self, gint index) {
	gboolean _tmp0_ = FALSE;
	g_return_if_fail (self != NULL);
	if (!self->priv->lm->doing_file_operations) {
		_tmp0_ = index == 0;
	} else {
		_tmp0_ = FALSE;
	}
	if (_tmp0_) {
		gchar* _tmp1_;
		gchar* folder;
		GtkFileChooserDialog* _tmp2_ = NULL;
		GtkFileChooserDialog* file_chooser;
		gint _tmp3_;
		gboolean _tmp6_ = FALSE;
		_tmp1_ = g_strdup ("");
		folder = _tmp1_;
		_tmp2_ = (GtkFileChooserDialog*) gtk_file_chooser_dialog_new ("Choose Music Folder", (GtkWindow*) self, GTK_FILE_CHOOSER_ACTION_SELECT_FOLDER, GTK_STOCK_CANCEL, GTK_RESPONSE_CANCEL, GTK_STOCK_OPEN, GTK_RESPONSE_ACCEPT, NULL);
		file_chooser = g_object_ref_sink (_tmp2_);
		_tmp3_ = gtk_dialog_run ((GtkDialog*) file_chooser);
		if (_tmp3_ == GTK_RESPONSE_ACCEPT) {
			gchar* _tmp4_ = NULL;
			gchar* _tmp5_;
			_tmp4_ = gtk_file_chooser_get_filename ((GtkFileChooser*) file_chooser);
			_tmp5_ = _tmp4_;
			_g_free0 (folder);
			folder = _tmp5_;
		}
		gtk_object_destroy ((GtkObject*) file_chooser);
		if (g_strcmp0 (folder, "") != 0) {
			gchar* _tmp7_ = NULL;
			gchar* _tmp8_;
			_tmp7_ = beat_box_settings_getMusicFolder (self->priv->settings);
			_tmp8_ = _tmp7_;
			_tmp6_ = g_strcmp0 (folder, _tmp8_) != 0;
			_g_free0 (_tmp8_);
		} else {
			_tmp6_ = FALSE;
		}
		if (_tmp6_) {
			beat_box_library_window_setMusicFolder (self, folder);
		}
		_g_object_unref0 (file_chooser);
		_g_free0 (folder);
	}
}


static void beat_box_library_window_real_infoPanelResized (BeatBoxLibraryWindow* self, GdkRectangle* rectangle) {
	gint _tmp0_;
	gint _tmp1_;
	gint _tmp2_;
	gint _tmp10_;
	g_return_if_fail (self != NULL);
	_tmp0_ = gtk_paned_get_position ((GtkPaned*) self->priv->songsToInfo);
	_tmp1_ = beat_box_settings_getWindowWidth (self->priv->lm->settings);
	_tmp2_ = beat_box_settings_getSidebarWidth (self->priv->lm->settings);
	if (_tmp0_ < ((_tmp1_ - _tmp2_) - 250)) {
		gint _tmp3_;
		gint _tmp4_;
		_tmp3_ = beat_box_settings_getWindowWidth (self->priv->lm->settings);
		_tmp4_ = beat_box_settings_getSidebarWidth (self->priv->lm->settings);
		gtk_paned_set_position ((GtkPaned*) self->priv->songsToInfo, (_tmp3_ - _tmp4_) - 250);
		return;
	} else {
		gint _tmp5_;
		gint _tmp6_;
		gint _tmp7_;
		_tmp5_ = gtk_paned_get_position ((GtkPaned*) self->priv->songsToInfo);
		_tmp6_ = beat_box_settings_getWindowWidth (self->priv->lm->settings);
		_tmp7_ = beat_box_settings_getSidebarWidth (self->priv->lm->settings);
		if (_tmp5_ > ((_tmp6_ - _tmp7_) - 150)) {
			gint _tmp8_;
			gint _tmp9_;
			_tmp8_ = beat_box_settings_getWindowWidth (self->priv->lm->settings);
			_tmp9_ = beat_box_settings_getSidebarWidth (self->priv->lm->settings);
			gtk_paned_set_position ((GtkPaned*) self->priv->songsToInfo, (_tmp8_ - _tmp9_) - 150);
			return;
		}
	}
	_tmp10_ = beat_box_settings_getMoreWidth (self->priv->lm->settings);
	if (_tmp10_ != (*rectangle).width) {
		beat_box_settings_setMoreWidth (self->priv->lm->settings, (*rectangle).width);
	}
}


void beat_box_library_window_infoPanelResized (BeatBoxLibraryWindow* self, GdkRectangle* rectangle) {
	BEAT_BOX_LIBRARY_WINDOW_GET_CLASS (self)->infoPanelResized (self, rectangle);
}


static void beat_box_library_window_class_init (BeatBoxLibraryWindowClass * klass) {
	beat_box_library_window_parent_class = g_type_class_peek_parent (klass);
	g_type_class_add_private (klass, sizeof (BeatBoxLibraryWindowPrivate));
	BEAT_BOX_LIBRARY_WINDOW_CLASS (klass)->progressNotification = beat_box_library_window_real_progressNotification;
	BEAT_BOX_LIBRARY_WINDOW_CLASS (klass)->sideListDoubleClick = beat_box_library_window_real_sideListDoubleClick;
	BEAT_BOX_LIBRARY_WINDOW_CLASS (klass)->song_played = beat_box_library_window_real_song_played;
	BEAT_BOX_LIBRARY_WINDOW_CLASS (klass)->songs_updated = beat_box_library_window_real_songs_updated;
	BEAT_BOX_LIBRARY_WINDOW_CLASS (klass)->previousClicked = beat_box_library_window_real_previousClicked;
	BEAT_BOX_LIBRARY_WINDOW_CLASS (klass)->playClicked = beat_box_library_window_real_playClicked;
	BEAT_BOX_LIBRARY_WINDOW_CLASS (klass)->nextClicked = beat_box_library_window_real_nextClicked;
	BEAT_BOX_LIBRARY_WINDOW_CLASS (klass)->shuffleClicked = beat_box_library_window_real_shuffleClicked;
	BEAT_BOX_LIBRARY_WINDOW_CLASS (klass)->loveButtonClicked = beat_box_library_window_real_loveButtonClicked;
	BEAT_BOX_LIBRARY_WINDOW_CLASS (klass)->banButtonClicked = beat_box_library_window_real_banButtonClicked;
	BEAT_BOX_LIBRARY_WINDOW_CLASS (klass)->searchFieldIconPressed = beat_box_library_window_real_searchFieldIconPressed;
	BEAT_BOX_LIBRARY_WINDOW_CLASS (klass)->sourcesToSongsHandleSet = beat_box_library_window_real_sourcesToSongsHandleSet;
	BEAT_BOX_LIBRARY_WINDOW_CLASS (klass)->on_resize = beat_box_library_window_real_on_resize;
	BEAT_BOX_LIBRARY_WINDOW_CLASS (klass)->on_quit = beat_box_library_window_real_on_quit;
	BEAT_BOX_LIBRARY_WINDOW_CLASS (klass)->fileImportMusicClick = beat_box_library_window_real_fileImportMusicClick;
	BEAT_BOX_LIBRARY_WINDOW_CLASS (klass)->fileRescanMusicFolderClick = beat_box_library_window_real_fileRescanMusicFolderClick;
	BEAT_BOX_LIBRARY_WINDOW_CLASS (klass)->musicCounted = beat_box_library_window_real_musicCounted;
	BEAT_BOX_LIBRARY_WINDOW_CLASS (klass)->musicAdded = beat_box_library_window_real_musicAdded;
	BEAT_BOX_LIBRARY_WINDOW_CLASS (klass)->musicImported = beat_box_library_window_real_musicImported;
	BEAT_BOX_LIBRARY_WINDOW_CLASS (klass)->musicRescanned = beat_box_library_window_real_musicRescanned;
	BEAT_BOX_LIBRARY_WINDOW_CLASS (klass)->song_added = beat_box_library_window_real_song_added;
	BEAT_BOX_LIBRARY_WINDOW_CLASS (klass)->songs_removed = beat_box_library_window_real_songs_removed;
	BEAT_BOX_LIBRARY_WINDOW_CLASS (klass)->helpAboutClick = beat_box_library_window_real_helpAboutClick;
	BEAT_BOX_LIBRARY_WINDOW_CLASS (klass)->editPreferencesClick = beat_box_library_window_real_editPreferencesClick;
	BEAT_BOX_LIBRARY_WINDOW_CLASS (klass)->end_of_stream = beat_box_library_window_real_end_of_stream;
	BEAT_BOX_LIBRARY_WINDOW_CLASS (klass)->current_position_update = beat_box_library_window_real_current_position_update;
	BEAT_BOX_LIBRARY_WINDOW_CLASS (klass)->similarRetrieved = beat_box_library_window_real_similarRetrieved;
	BEAT_BOX_LIBRARY_WINDOW_CLASS (klass)->infoPanelResized = beat_box_library_window_real_infoPanelResized;
	G_OBJECT_CLASS (klass)->finalize = beat_box_library_window_finalize;
}


static void beat_box_library_window_instance_init (BeatBoxLibraryWindow * self) {
	self->priv = BEAT_BOX_LIBRARY_WINDOW_GET_PRIVATE (self);
}


static void beat_box_library_window_finalize (GObject* obj) {
	BeatBoxLibraryWindow * self;
	self = BEAT_BOX_LIBRARY_WINDOW (obj);
	_g_object_unref0 (self->priv->lm);
	_g_object_unref0 (self->priv->settings);
	_g_object_unref0 (self->priv->similarSongs);
	_g_object_unref0 (self->priv->mkl);
	_g_object_unref0 (self->priv->timeout_search);
	_g_free0 (self->priv->last_search);
	_g_object_unref0 (self->priv->verticalBox);
	_g_object_unref0 (self->priv->mainViews);
	_g_object_unref0 (self->priv->welcomeScreen);
	_g_object_unref0 (self->priv->sourcesToSongs);
	_g_object_unref0 (self->priv->songsToInfo);
	_g_object_unref0 (self->priv->sideTreeScroll);
	_g_object_unref0 (self->priv->sideBar);
	_g_object_unref0 (self->priv->contentBox);
	_g_object_unref0 (self->priv->sideTree);
	_g_object_unref0 (self->priv->songInfoScroll);
	_g_object_unref0 (self->priv->pandoraScroll);
	_g_object_unref0 (self->priv->grooveSharkScroll);
	_g_object_unref0 (self->priv->infoPanel);
	_g_object_unref0 (self->priv->coverArt);
	_g_object_unref0 (self->priv->topControls);
	_g_object_unref0 (self->priv->previousButton);
	_g_object_unref0 (self->priv->playButton);
	_g_object_unref0 (self->priv->nextButton);
	_g_object_unref0 (self->priv->shuffleButton);
	_g_object_unref0 (self->priv->loveButton);
	_g_object_unref0 (self->priv->banButton);
	_g_object_unref0 (self->priv->topDisplay);
	_g_object_unref0 (self->searchField);
	_g_object_unref0 (self->priv->appMenu);
	_g_object_unref0 (self->priv->statusBar);
	_g_object_unref0 (self->priv->topMenu);
	_g_object_unref0 (self->priv->libraryOperations);
	_g_object_unref0 (self->priv->libraryOperationsMenu);
	_g_object_unref0 (self->priv->fileImportMusic);
	_g_object_unref0 (self->priv->fileRescanMusicFolder);
	_g_object_unref0 (self->priv->helpOnline);
	_g_object_unref0 (self->priv->helpTranslate);
	_g_object_unref0 (self->priv->helpReport);
	_g_object_unref0 (self->priv->helpAbout);
	_g_object_unref0 (self->priv->editPreferences);
	_g_object_unref0 (self->priv->settingsMenu);
	_g_object_unref0 (self->priv->notification);
	G_OBJECT_CLASS (beat_box_library_window_parent_class)->finalize (obj);
}


GType beat_box_library_window_get_type (void) {
	static volatile gsize beat_box_library_window_type_id__volatile = 0;
	if (g_once_init_enter (&beat_box_library_window_type_id__volatile)) {
		static const GTypeInfo g_define_type_info = { sizeof (BeatBoxLibraryWindowClass), (GBaseInitFunc) NULL, (GBaseFinalizeFunc) NULL, (GClassInitFunc) beat_box_library_window_class_init, (GClassFinalizeFunc) NULL, NULL, sizeof (BeatBoxLibraryWindow), 0, (GInstanceInitFunc) beat_box_library_window_instance_init, NULL };
		GType beat_box_library_window_type_id;
		beat_box_library_window_type_id = g_type_register_static (GTK_TYPE_WINDOW, "BeatBoxLibraryWindow", &g_define_type_info, 0);
		g_once_init_leave (&beat_box_library_window_type_id__volatile, beat_box_library_window_type_id);
	}
	return beat_box_library_window_type_id__volatile;
}


static void _vala_array_destroy (gpointer array, gint array_length, GDestroyNotify destroy_func) {
	if ((array != NULL) && (destroy_func != NULL)) {
		int i;
		for (i = 0; i < array_length; i = i + 1) {
			if (((gpointer*) array)[i] != NULL) {
				destroy_func (((gpointer*) array)[i]);
			}
		}
	}
}


static void _vala_array_free (gpointer array, gint array_length, GDestroyNotify destroy_func) {
	_vala_array_destroy (array, array_length, destroy_func);
	g_free (array);
}



