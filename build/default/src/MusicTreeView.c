/* MusicTreeView.c generated by valac 0.11.6, the Vala compiler
 * generated from MusicTreeView.vala, do not modify */


#include <glib.h>
#include <glib-object.h>
#include <gtk/gtk.h>
#include <gee.h>
#include <gdk/gdk.h>
#include <stdlib.h>
#include <string.h>
#include <gdk-pixbuf/gdk-pixdata.h>
#include <float.h>
#include <math.h>
#include <stdio.h>
#include <gio/gio.h>


#define BEAT_BOX_TYPE_MUSIC_TREE_VIEW (beat_box_music_tree_view_get_type ())
#define BEAT_BOX_MUSIC_TREE_VIEW(obj) (G_TYPE_CHECK_INSTANCE_CAST ((obj), BEAT_BOX_TYPE_MUSIC_TREE_VIEW, BeatBoxMusicTreeView))
#define BEAT_BOX_MUSIC_TREE_VIEW_CLASS(klass) (G_TYPE_CHECK_CLASS_CAST ((klass), BEAT_BOX_TYPE_MUSIC_TREE_VIEW, BeatBoxMusicTreeViewClass))
#define BEAT_BOX_IS_MUSIC_TREE_VIEW(obj) (G_TYPE_CHECK_INSTANCE_TYPE ((obj), BEAT_BOX_TYPE_MUSIC_TREE_VIEW))
#define BEAT_BOX_IS_MUSIC_TREE_VIEW_CLASS(klass) (G_TYPE_CHECK_CLASS_TYPE ((klass), BEAT_BOX_TYPE_MUSIC_TREE_VIEW))
#define BEAT_BOX_MUSIC_TREE_VIEW_GET_CLASS(obj) (G_TYPE_INSTANCE_GET_CLASS ((obj), BEAT_BOX_TYPE_MUSIC_TREE_VIEW, BeatBoxMusicTreeViewClass))

typedef struct _BeatBoxMusicTreeView BeatBoxMusicTreeView;
typedef struct _BeatBoxMusicTreeViewClass BeatBoxMusicTreeViewClass;
typedef struct _BeatBoxMusicTreeViewPrivate BeatBoxMusicTreeViewPrivate;

#define BEAT_BOX_TYPE_SONG (beat_box_song_get_type ())
#define BEAT_BOX_SONG(obj) (G_TYPE_CHECK_INSTANCE_CAST ((obj), BEAT_BOX_TYPE_SONG, BeatBoxSong))
#define BEAT_BOX_SONG_CLASS(klass) (G_TYPE_CHECK_CLASS_CAST ((klass), BEAT_BOX_TYPE_SONG, BeatBoxSongClass))
#define BEAT_BOX_IS_SONG(obj) (G_TYPE_CHECK_INSTANCE_TYPE ((obj), BEAT_BOX_TYPE_SONG))
#define BEAT_BOX_IS_SONG_CLASS(klass) (G_TYPE_CHECK_CLASS_TYPE ((klass), BEAT_BOX_TYPE_SONG))
#define BEAT_BOX_SONG_GET_CLASS(obj) (G_TYPE_INSTANCE_GET_CLASS ((obj), BEAT_BOX_TYPE_SONG, BeatBoxSongClass))

typedef struct _BeatBoxSong BeatBoxSong;
typedef struct _BeatBoxSongClass BeatBoxSongClass;

#define BEAT_BOX_MUSIC_TREE_VIEW_TYPE_HINT (beat_box_music_tree_view_hint_get_type ())

#define BEAT_BOX_TYPE_LIBRARY_MANAGER (beat_box_library_manager_get_type ())
#define BEAT_BOX_LIBRARY_MANAGER(obj) (G_TYPE_CHECK_INSTANCE_CAST ((obj), BEAT_BOX_TYPE_LIBRARY_MANAGER, BeatBoxLibraryManager))
#define BEAT_BOX_LIBRARY_MANAGER_CLASS(klass) (G_TYPE_CHECK_CLASS_CAST ((klass), BEAT_BOX_TYPE_LIBRARY_MANAGER, BeatBoxLibraryManagerClass))
#define BEAT_BOX_IS_LIBRARY_MANAGER(obj) (G_TYPE_CHECK_INSTANCE_TYPE ((obj), BEAT_BOX_TYPE_LIBRARY_MANAGER))
#define BEAT_BOX_IS_LIBRARY_MANAGER_CLASS(klass) (G_TYPE_CHECK_CLASS_TYPE ((klass), BEAT_BOX_TYPE_LIBRARY_MANAGER))
#define BEAT_BOX_LIBRARY_MANAGER_GET_CLASS(obj) (G_TYPE_INSTANCE_GET_CLASS ((obj), BEAT_BOX_TYPE_LIBRARY_MANAGER, BeatBoxLibraryManagerClass))

typedef struct _BeatBoxLibraryManager BeatBoxLibraryManager;
typedef struct _BeatBoxLibraryManagerClass BeatBoxLibraryManagerClass;

#define BEAT_BOX_TYPE_LIBRARY_WINDOW (beat_box_library_window_get_type ())
#define BEAT_BOX_LIBRARY_WINDOW(obj) (G_TYPE_CHECK_INSTANCE_CAST ((obj), BEAT_BOX_TYPE_LIBRARY_WINDOW, BeatBoxLibraryWindow))
#define BEAT_BOX_LIBRARY_WINDOW_CLASS(klass) (G_TYPE_CHECK_CLASS_CAST ((klass), BEAT_BOX_TYPE_LIBRARY_WINDOW, BeatBoxLibraryWindowClass))
#define BEAT_BOX_IS_LIBRARY_WINDOW(obj) (G_TYPE_CHECK_INSTANCE_TYPE ((obj), BEAT_BOX_TYPE_LIBRARY_WINDOW))
#define BEAT_BOX_IS_LIBRARY_WINDOW_CLASS(klass) (G_TYPE_CHECK_CLASS_TYPE ((klass), BEAT_BOX_TYPE_LIBRARY_WINDOW))
#define BEAT_BOX_LIBRARY_WINDOW_GET_CLASS(obj) (G_TYPE_INSTANCE_GET_CLASS ((obj), BEAT_BOX_TYPE_LIBRARY_WINDOW, BeatBoxLibraryWindowClass))

typedef struct _BeatBoxLibraryWindow BeatBoxLibraryWindow;
typedef struct _BeatBoxLibraryWindowClass BeatBoxLibraryWindowClass;
#define _g_object_unref0(var) ((var == NULL) ? NULL : (var = (g_object_unref (var), NULL)))
#define _g_free0(var) (var = (g_free (var), NULL))
#define _g_list_free0(var) ((var == NULL) ? NULL : (var = (g_list_free (var), NULL)))
typedef struct _BeatBoxLibraryManagerPrivate BeatBoxLibraryManagerPrivate;

#define BEAT_BOX_TYPE_SETTINGS (beat_box_settings_get_type ())
#define BEAT_BOX_SETTINGS(obj) (G_TYPE_CHECK_INSTANCE_CAST ((obj), BEAT_BOX_TYPE_SETTINGS, BeatBoxSettings))
#define BEAT_BOX_SETTINGS_CLASS(klass) (G_TYPE_CHECK_CLASS_CAST ((klass), BEAT_BOX_TYPE_SETTINGS, BeatBoxSettingsClass))
#define BEAT_BOX_IS_SETTINGS(obj) (G_TYPE_CHECK_INSTANCE_TYPE ((obj), BEAT_BOX_TYPE_SETTINGS))
#define BEAT_BOX_IS_SETTINGS_CLASS(klass) (G_TYPE_CHECK_CLASS_TYPE ((klass), BEAT_BOX_TYPE_SETTINGS))
#define BEAT_BOX_SETTINGS_GET_CLASS(obj) (G_TYPE_INSTANCE_GET_CLASS ((obj), BEAT_BOX_TYPE_SETTINGS, BeatBoxSettingsClass))

typedef struct _BeatBoxSettings BeatBoxSettings;
typedef struct _BeatBoxSettingsClass BeatBoxSettingsClass;

#define BEAT_BOX_TYPE_DATA_BASE_MANAGER (beat_box_data_base_manager_get_type ())
#define BEAT_BOX_DATA_BASE_MANAGER(obj) (G_TYPE_CHECK_INSTANCE_CAST ((obj), BEAT_BOX_TYPE_DATA_BASE_MANAGER, BeatBoxDataBaseManager))
#define BEAT_BOX_DATA_BASE_MANAGER_CLASS(klass) (G_TYPE_CHECK_CLASS_CAST ((klass), BEAT_BOX_TYPE_DATA_BASE_MANAGER, BeatBoxDataBaseManagerClass))
#define BEAT_BOX_IS_DATA_BASE_MANAGER(obj) (G_TYPE_CHECK_INSTANCE_TYPE ((obj), BEAT_BOX_TYPE_DATA_BASE_MANAGER))
#define BEAT_BOX_IS_DATA_BASE_MANAGER_CLASS(klass) (G_TYPE_CHECK_CLASS_TYPE ((klass), BEAT_BOX_TYPE_DATA_BASE_MANAGER))
#define BEAT_BOX_DATA_BASE_MANAGER_GET_CLASS(obj) (G_TYPE_INSTANCE_GET_CLASS ((obj), BEAT_BOX_TYPE_DATA_BASE_MANAGER, BeatBoxDataBaseManagerClass))

typedef struct _BeatBoxDataBaseManager BeatBoxDataBaseManager;
typedef struct _BeatBoxDataBaseManagerClass BeatBoxDataBaseManagerClass;

#define BEAT_BOX_TYPE_DATA_BASE_UPDATER (beat_box_data_base_updater_get_type ())
#define BEAT_BOX_DATA_BASE_UPDATER(obj) (G_TYPE_CHECK_INSTANCE_CAST ((obj), BEAT_BOX_TYPE_DATA_BASE_UPDATER, BeatBoxDataBaseUpdater))
#define BEAT_BOX_DATA_BASE_UPDATER_CLASS(klass) (G_TYPE_CHECK_CLASS_CAST ((klass), BEAT_BOX_TYPE_DATA_BASE_UPDATER, BeatBoxDataBaseUpdaterClass))
#define BEAT_BOX_IS_DATA_BASE_UPDATER(obj) (G_TYPE_CHECK_INSTANCE_TYPE ((obj), BEAT_BOX_TYPE_DATA_BASE_UPDATER))
#define BEAT_BOX_IS_DATA_BASE_UPDATER_CLASS(klass) (G_TYPE_CHECK_CLASS_TYPE ((klass), BEAT_BOX_TYPE_DATA_BASE_UPDATER))
#define BEAT_BOX_DATA_BASE_UPDATER_GET_CLASS(obj) (G_TYPE_INSTANCE_GET_CLASS ((obj), BEAT_BOX_TYPE_DATA_BASE_UPDATER, BeatBoxDataBaseUpdaterClass))

typedef struct _BeatBoxDataBaseUpdater BeatBoxDataBaseUpdater;
typedef struct _BeatBoxDataBaseUpdaterClass BeatBoxDataBaseUpdaterClass;

#define BEAT_BOX_TYPE_FILE_OPERATOR (beat_box_file_operator_get_type ())
#define BEAT_BOX_FILE_OPERATOR(obj) (G_TYPE_CHECK_INSTANCE_CAST ((obj), BEAT_BOX_TYPE_FILE_OPERATOR, BeatBoxFileOperator))
#define BEAT_BOX_FILE_OPERATOR_CLASS(klass) (G_TYPE_CHECK_CLASS_CAST ((klass), BEAT_BOX_TYPE_FILE_OPERATOR, BeatBoxFileOperatorClass))
#define BEAT_BOX_IS_FILE_OPERATOR(obj) (G_TYPE_CHECK_INSTANCE_TYPE ((obj), BEAT_BOX_TYPE_FILE_OPERATOR))
#define BEAT_BOX_IS_FILE_OPERATOR_CLASS(klass) (G_TYPE_CHECK_CLASS_TYPE ((klass), BEAT_BOX_TYPE_FILE_OPERATOR))
#define BEAT_BOX_FILE_OPERATOR_GET_CLASS(obj) (G_TYPE_INSTANCE_GET_CLASS ((obj), BEAT_BOX_TYPE_FILE_OPERATOR, BeatBoxFileOperatorClass))

typedef struct _BeatBoxFileOperator BeatBoxFileOperator;
typedef struct _BeatBoxFileOperatorClass BeatBoxFileOperatorClass;

#define BEAT_BOX_TYPE_STREAM_PLAYER (beat_box_stream_player_get_type ())
#define BEAT_BOX_STREAM_PLAYER(obj) (G_TYPE_CHECK_INSTANCE_CAST ((obj), BEAT_BOX_TYPE_STREAM_PLAYER, BeatBoxStreamPlayer))
#define BEAT_BOX_STREAM_PLAYER_CLASS(klass) (G_TYPE_CHECK_CLASS_CAST ((klass), BEAT_BOX_TYPE_STREAM_PLAYER, BeatBoxStreamPlayerClass))
#define BEAT_BOX_IS_STREAM_PLAYER(obj) (G_TYPE_CHECK_INSTANCE_TYPE ((obj), BEAT_BOX_TYPE_STREAM_PLAYER))
#define BEAT_BOX_IS_STREAM_PLAYER_CLASS(klass) (G_TYPE_CHECK_CLASS_TYPE ((klass), BEAT_BOX_TYPE_STREAM_PLAYER))
#define BEAT_BOX_STREAM_PLAYER_GET_CLASS(obj) (G_TYPE_INSTANCE_GET_CLASS ((obj), BEAT_BOX_TYPE_STREAM_PLAYER, BeatBoxStreamPlayerClass))

typedef struct _BeatBoxStreamPlayer BeatBoxStreamPlayer;
typedef struct _BeatBoxStreamPlayerClass BeatBoxStreamPlayerClass;

#define LAST_FM_TYPE_CORE (last_fm_core_get_type ())
#define LAST_FM_CORE(obj) (G_TYPE_CHECK_INSTANCE_CAST ((obj), LAST_FM_TYPE_CORE, LastFMCore))
#define LAST_FM_CORE_CLASS(klass) (G_TYPE_CHECK_CLASS_CAST ((klass), LAST_FM_TYPE_CORE, LastFMCoreClass))
#define LAST_FM_IS_CORE(obj) (G_TYPE_CHECK_INSTANCE_TYPE ((obj), LAST_FM_TYPE_CORE))
#define LAST_FM_IS_CORE_CLASS(klass) (G_TYPE_CHECK_CLASS_TYPE ((klass), LAST_FM_TYPE_CORE))
#define LAST_FM_CORE_GET_CLASS(obj) (G_TYPE_INSTANCE_GET_CLASS ((obj), LAST_FM_TYPE_CORE, LastFMCoreClass))

typedef struct _LastFMCore LastFMCore;
typedef struct _LastFMCoreClass LastFMCoreClass;

#define BEAT_BOX_TYPE_TREE_VIEW_SETUP (beat_box_tree_view_setup_get_type ())
#define BEAT_BOX_TREE_VIEW_SETUP(obj) (G_TYPE_CHECK_INSTANCE_CAST ((obj), BEAT_BOX_TYPE_TREE_VIEW_SETUP, BeatBoxTreeViewSetup))
#define BEAT_BOX_TREE_VIEW_SETUP_CLASS(klass) (G_TYPE_CHECK_CLASS_CAST ((klass), BEAT_BOX_TYPE_TREE_VIEW_SETUP, BeatBoxTreeViewSetupClass))
#define BEAT_BOX_IS_TREE_VIEW_SETUP(obj) (G_TYPE_CHECK_INSTANCE_TYPE ((obj), BEAT_BOX_TYPE_TREE_VIEW_SETUP))
#define BEAT_BOX_IS_TREE_VIEW_SETUP_CLASS(klass) (G_TYPE_CHECK_CLASS_TYPE ((klass), BEAT_BOX_TYPE_TREE_VIEW_SETUP))
#define BEAT_BOX_TREE_VIEW_SETUP_GET_CLASS(obj) (G_TYPE_INSTANCE_GET_CLASS ((obj), BEAT_BOX_TYPE_TREE_VIEW_SETUP, BeatBoxTreeViewSetupClass))

typedef struct _BeatBoxTreeViewSetup BeatBoxTreeViewSetup;
typedef struct _BeatBoxTreeViewSetupClass BeatBoxTreeViewSetupClass;

#define BEAT_BOX_TYPE_SONG_INFO (beat_box_song_info_get_type ())
#define BEAT_BOX_SONG_INFO(obj) (G_TYPE_CHECK_INSTANCE_CAST ((obj), BEAT_BOX_TYPE_SONG_INFO, BeatBoxSongInfo))
#define BEAT_BOX_SONG_INFO_CLASS(klass) (G_TYPE_CHECK_CLASS_CAST ((klass), BEAT_BOX_TYPE_SONG_INFO, BeatBoxSongInfoClass))
#define BEAT_BOX_IS_SONG_INFO(obj) (G_TYPE_CHECK_INSTANCE_TYPE ((obj), BEAT_BOX_TYPE_SONG_INFO))
#define BEAT_BOX_IS_SONG_INFO_CLASS(klass) (G_TYPE_CHECK_CLASS_TYPE ((klass), BEAT_BOX_TYPE_SONG_INFO))
#define BEAT_BOX_SONG_INFO_GET_CLASS(obj) (G_TYPE_INSTANCE_GET_CLASS ((obj), BEAT_BOX_TYPE_SONG_INFO, BeatBoxSongInfoClass))

typedef struct _BeatBoxSongInfo BeatBoxSongInfo;
typedef struct _BeatBoxSongInfoClass BeatBoxSongInfoClass;

#define BEAT_BOX_TYPE_PLAYLIST (beat_box_playlist_get_type ())
#define BEAT_BOX_PLAYLIST(obj) (G_TYPE_CHECK_INSTANCE_CAST ((obj), BEAT_BOX_TYPE_PLAYLIST, BeatBoxPlaylist))
#define BEAT_BOX_PLAYLIST_CLASS(klass) (G_TYPE_CHECK_CLASS_CAST ((klass), BEAT_BOX_TYPE_PLAYLIST, BeatBoxPlaylistClass))
#define BEAT_BOX_IS_PLAYLIST(obj) (G_TYPE_CHECK_INSTANCE_TYPE ((obj), BEAT_BOX_TYPE_PLAYLIST))
#define BEAT_BOX_IS_PLAYLIST_CLASS(klass) (G_TYPE_CHECK_CLASS_TYPE ((klass), BEAT_BOX_TYPE_PLAYLIST))
#define BEAT_BOX_PLAYLIST_GET_CLASS(obj) (G_TYPE_INSTANCE_GET_CLASS ((obj), BEAT_BOX_TYPE_PLAYLIST, BeatBoxPlaylistClass))

typedef struct _BeatBoxPlaylist BeatBoxPlaylist;
typedef struct _BeatBoxPlaylistClass BeatBoxPlaylistClass;
typedef struct _BeatBoxPlaylistPrivate BeatBoxPlaylistPrivate;

#define BEAT_BOX_TYPE_SMART_PLAYLIST (beat_box_smart_playlist_get_type ())
#define BEAT_BOX_SMART_PLAYLIST(obj) (G_TYPE_CHECK_INSTANCE_CAST ((obj), BEAT_BOX_TYPE_SMART_PLAYLIST, BeatBoxSmartPlaylist))
#define BEAT_BOX_SMART_PLAYLIST_CLASS(klass) (G_TYPE_CHECK_CLASS_CAST ((klass), BEAT_BOX_TYPE_SMART_PLAYLIST, BeatBoxSmartPlaylistClass))
#define BEAT_BOX_IS_SMART_PLAYLIST(obj) (G_TYPE_CHECK_INSTANCE_TYPE ((obj), BEAT_BOX_TYPE_SMART_PLAYLIST))
#define BEAT_BOX_IS_SMART_PLAYLIST_CLASS(klass) (G_TYPE_CHECK_CLASS_TYPE ((klass), BEAT_BOX_TYPE_SMART_PLAYLIST))
#define BEAT_BOX_SMART_PLAYLIST_GET_CLASS(obj) (G_TYPE_INSTANCE_GET_CLASS ((obj), BEAT_BOX_TYPE_SMART_PLAYLIST, BeatBoxSmartPlaylistClass))

typedef struct _BeatBoxSmartPlaylist BeatBoxSmartPlaylist;
typedef struct _BeatBoxSmartPlaylistClass BeatBoxSmartPlaylistClass;
typedef struct _BeatBoxSmartPlaylistPrivate BeatBoxSmartPlaylistPrivate;
typedef struct _BeatBoxLibraryWindowPrivate BeatBoxLibraryWindowPrivate;

#define ELEMENTARY_WIDGETS_TYPE_ELEMENTARY_ENTRY (elementary_widgets_elementary_entry_get_type ())
#define ELEMENTARY_WIDGETS_ELEMENTARY_ENTRY(obj) (G_TYPE_CHECK_INSTANCE_CAST ((obj), ELEMENTARY_WIDGETS_TYPE_ELEMENTARY_ENTRY, ElementaryWidgetsElementaryEntry))
#define ELEMENTARY_WIDGETS_ELEMENTARY_ENTRY_CLASS(klass) (G_TYPE_CHECK_CLASS_CAST ((klass), ELEMENTARY_WIDGETS_TYPE_ELEMENTARY_ENTRY, ElementaryWidgetsElementaryEntryClass))
#define ELEMENTARY_WIDGETS_IS_ELEMENTARY_ENTRY(obj) (G_TYPE_CHECK_INSTANCE_TYPE ((obj), ELEMENTARY_WIDGETS_TYPE_ELEMENTARY_ENTRY))
#define ELEMENTARY_WIDGETS_IS_ELEMENTARY_ENTRY_CLASS(klass) (G_TYPE_CHECK_CLASS_TYPE ((klass), ELEMENTARY_WIDGETS_TYPE_ELEMENTARY_ENTRY))
#define ELEMENTARY_WIDGETS_ELEMENTARY_ENTRY_GET_CLASS(obj) (G_TYPE_INSTANCE_GET_CLASS ((obj), ELEMENTARY_WIDGETS_TYPE_ELEMENTARY_ENTRY, ElementaryWidgetsElementaryEntryClass))

typedef struct _ElementaryWidgetsElementaryEntry ElementaryWidgetsElementaryEntry;
typedef struct _ElementaryWidgetsElementaryEntryClass ElementaryWidgetsElementaryEntryClass;

#define ELEMENTARY_WIDGETS_TYPE_ELEMENTARY_SEARCH_ENTRY (elementary_widgets_elementary_search_entry_get_type ())
#define ELEMENTARY_WIDGETS_ELEMENTARY_SEARCH_ENTRY(obj) (G_TYPE_CHECK_INSTANCE_CAST ((obj), ELEMENTARY_WIDGETS_TYPE_ELEMENTARY_SEARCH_ENTRY, ElementaryWidgetsElementarySearchEntry))
#define ELEMENTARY_WIDGETS_ELEMENTARY_SEARCH_ENTRY_CLASS(klass) (G_TYPE_CHECK_CLASS_CAST ((klass), ELEMENTARY_WIDGETS_TYPE_ELEMENTARY_SEARCH_ENTRY, ElementaryWidgetsElementarySearchEntryClass))
#define ELEMENTARY_WIDGETS_IS_ELEMENTARY_SEARCH_ENTRY(obj) (G_TYPE_CHECK_INSTANCE_TYPE ((obj), ELEMENTARY_WIDGETS_TYPE_ELEMENTARY_SEARCH_ENTRY))
#define ELEMENTARY_WIDGETS_IS_ELEMENTARY_SEARCH_ENTRY_CLASS(klass) (G_TYPE_CHECK_CLASS_TYPE ((klass), ELEMENTARY_WIDGETS_TYPE_ELEMENTARY_SEARCH_ENTRY))
#define ELEMENTARY_WIDGETS_ELEMENTARY_SEARCH_ENTRY_GET_CLASS(obj) (G_TYPE_INSTANCE_GET_CLASS ((obj), ELEMENTARY_WIDGETS_TYPE_ELEMENTARY_SEARCH_ENTRY, ElementaryWidgetsElementarySearchEntryClass))

typedef struct _ElementaryWidgetsElementarySearchEntry ElementaryWidgetsElementarySearchEntry;
typedef struct _ElementaryWidgetsElementarySearchEntryClass ElementaryWidgetsElementarySearchEntryClass;
typedef struct _ElementaryWidgetsElementaryEntryPrivate ElementaryWidgetsElementaryEntryPrivate;
typedef struct _BeatBoxSongInfoPrivate BeatBoxSongInfoPrivate;

#define LAST_FM_TYPE_ARTIST_INFO (last_fm_artist_info_get_type ())
#define LAST_FM_ARTIST_INFO(obj) (G_TYPE_CHECK_INSTANCE_CAST ((obj), LAST_FM_TYPE_ARTIST_INFO, LastFMArtistInfo))
#define LAST_FM_ARTIST_INFO_CLASS(klass) (G_TYPE_CHECK_CLASS_CAST ((klass), LAST_FM_TYPE_ARTIST_INFO, LastFMArtistInfoClass))
#define LAST_FM_IS_ARTIST_INFO(obj) (G_TYPE_CHECK_INSTANCE_TYPE ((obj), LAST_FM_TYPE_ARTIST_INFO))
#define LAST_FM_IS_ARTIST_INFO_CLASS(klass) (G_TYPE_CHECK_CLASS_TYPE ((klass), LAST_FM_TYPE_ARTIST_INFO))
#define LAST_FM_ARTIST_INFO_GET_CLASS(obj) (G_TYPE_INSTANCE_GET_CLASS ((obj), LAST_FM_TYPE_ARTIST_INFO, LastFMArtistInfoClass))

typedef struct _LastFMArtistInfo LastFMArtistInfo;
typedef struct _LastFMArtistInfoClass LastFMArtistInfoClass;

#define LAST_FM_TYPE_TRACK_INFO (last_fm_track_info_get_type ())
#define LAST_FM_TRACK_INFO(obj) (G_TYPE_CHECK_INSTANCE_CAST ((obj), LAST_FM_TYPE_TRACK_INFO, LastFMTrackInfo))
#define LAST_FM_TRACK_INFO_CLASS(klass) (G_TYPE_CHECK_CLASS_CAST ((klass), LAST_FM_TYPE_TRACK_INFO, LastFMTrackInfoClass))
#define LAST_FM_IS_TRACK_INFO(obj) (G_TYPE_CHECK_INSTANCE_TYPE ((obj), LAST_FM_TYPE_TRACK_INFO))
#define LAST_FM_IS_TRACK_INFO_CLASS(klass) (G_TYPE_CHECK_CLASS_TYPE ((klass), LAST_FM_TYPE_TRACK_INFO))
#define LAST_FM_TRACK_INFO_GET_CLASS(obj) (G_TYPE_INSTANCE_GET_CLASS ((obj), LAST_FM_TYPE_TRACK_INFO, LastFMTrackInfoClass))

typedef struct _LastFMTrackInfo LastFMTrackInfo;
typedef struct _LastFMTrackInfoClass LastFMTrackInfoClass;

#define LAST_FM_TYPE_ALBUM_INFO (last_fm_album_info_get_type ())
#define LAST_FM_ALBUM_INFO(obj) (G_TYPE_CHECK_INSTANCE_CAST ((obj), LAST_FM_TYPE_ALBUM_INFO, LastFMAlbumInfo))
#define LAST_FM_ALBUM_INFO_CLASS(klass) (G_TYPE_CHECK_CLASS_CAST ((klass), LAST_FM_TYPE_ALBUM_INFO, LastFMAlbumInfoClass))
#define LAST_FM_IS_ALBUM_INFO(obj) (G_TYPE_CHECK_INSTANCE_TYPE ((obj), LAST_FM_TYPE_ALBUM_INFO))
#define LAST_FM_IS_ALBUM_INFO_CLASS(klass) (G_TYPE_CHECK_CLASS_TYPE ((klass), LAST_FM_TYPE_ALBUM_INFO))
#define LAST_FM_ALBUM_INFO_GET_CLASS(obj) (G_TYPE_INSTANCE_GET_CLASS ((obj), LAST_FM_TYPE_ALBUM_INFO, LastFMAlbumInfoClass))

typedef struct _LastFMAlbumInfo LastFMAlbumInfo;
typedef struct _LastFMAlbumInfoClass LastFMAlbumInfoClass;
#define _gtk_tree_path_free0(var) ((var == NULL) ? NULL : (var = (gtk_tree_path_free (var), NULL)))
#define _gtk_tree_row_reference_free0(var) ((var == NULL) ? NULL : (var = (gtk_tree_row_reference_free (var), NULL)))
typedef struct _Block8Data Block8Data;
#define __g_list_free__gtk_tree_path_free0_0(var) ((var == NULL) ? NULL : (var = (_g_list_free__gtk_tree_path_free0_ (var), NULL)))

#define BEAT_BOX_TYPE_SONG_EDITOR (beat_box_song_editor_get_type ())
#define BEAT_BOX_SONG_EDITOR(obj) (G_TYPE_CHECK_INSTANCE_CAST ((obj), BEAT_BOX_TYPE_SONG_EDITOR, BeatBoxSongEditor))
#define BEAT_BOX_SONG_EDITOR_CLASS(klass) (G_TYPE_CHECK_CLASS_CAST ((klass), BEAT_BOX_TYPE_SONG_EDITOR, BeatBoxSongEditorClass))
#define BEAT_BOX_IS_SONG_EDITOR(obj) (G_TYPE_CHECK_INSTANCE_TYPE ((obj), BEAT_BOX_TYPE_SONG_EDITOR))
#define BEAT_BOX_IS_SONG_EDITOR_CLASS(klass) (G_TYPE_CHECK_CLASS_TYPE ((klass), BEAT_BOX_TYPE_SONG_EDITOR))
#define BEAT_BOX_SONG_EDITOR_GET_CLASS(obj) (G_TYPE_INSTANCE_GET_CLASS ((obj), BEAT_BOX_TYPE_SONG_EDITOR, BeatBoxSongEditorClass))

typedef struct _BeatBoxSongEditor BeatBoxSongEditor;
typedef struct _BeatBoxSongEditorClass BeatBoxSongEditorClass;
#define _g_error_free0(var) ((var == NULL) ? NULL : (var = (g_error_free (var), NULL)))
typedef struct _Block9Data Block9Data;

#define BEAT_BOX_TYPE_PLAYLIST_NAME_WINDOW (beat_box_playlist_name_window_get_type ())
#define BEAT_BOX_PLAYLIST_NAME_WINDOW(obj) (G_TYPE_CHECK_INSTANCE_CAST ((obj), BEAT_BOX_TYPE_PLAYLIST_NAME_WINDOW, BeatBoxPlaylistNameWindow))
#define BEAT_BOX_PLAYLIST_NAME_WINDOW_CLASS(klass) (G_TYPE_CHECK_CLASS_CAST ((klass), BEAT_BOX_TYPE_PLAYLIST_NAME_WINDOW, BeatBoxPlaylistNameWindowClass))
#define BEAT_BOX_IS_PLAYLIST_NAME_WINDOW(obj) (G_TYPE_CHECK_INSTANCE_TYPE ((obj), BEAT_BOX_TYPE_PLAYLIST_NAME_WINDOW))
#define BEAT_BOX_IS_PLAYLIST_NAME_WINDOW_CLASS(klass) (G_TYPE_CHECK_CLASS_TYPE ((klass), BEAT_BOX_TYPE_PLAYLIST_NAME_WINDOW))
#define BEAT_BOX_PLAYLIST_NAME_WINDOW_GET_CLASS(obj) (G_TYPE_INSTANCE_GET_CLASS ((obj), BEAT_BOX_TYPE_PLAYLIST_NAME_WINDOW, BeatBoxPlaylistNameWindowClass))

typedef struct _BeatBoxPlaylistNameWindow BeatBoxPlaylistNameWindow;
typedef struct _BeatBoxPlaylistNameWindowClass BeatBoxPlaylistNameWindowClass;

typedef enum  {
	BEAT_BOX_MUSIC_TREE_VIEW_HINT_MUSIC,
	BEAT_BOX_MUSIC_TREE_VIEW_HINT_SIMILAR,
	BEAT_BOX_MUSIC_TREE_VIEW_HINT_QUEUE,
	BEAT_BOX_MUSIC_TREE_VIEW_HINT_HISTORY,
	BEAT_BOX_MUSIC_TREE_VIEW_HINT_PLAYLIST,
	BEAT_BOX_MUSIC_TREE_VIEW_HINT_SMART_PLAYLIST
} BeatBoxMusicTreeViewHint;

struct _BeatBoxMusicTreeView {
	GtkScrolledWindow parent_instance;
	BeatBoxMusicTreeViewPrivate * priv;
	gint relative_id;
	BeatBoxMusicTreeViewHint hint;
	gboolean removing_songs;
	gboolean is_current_view;
	gboolean is_current;
	gboolean dragging;
};

struct _BeatBoxMusicTreeViewClass {
	GtkScrolledWindowClass parent_class;
	void (*searchFieldChanged) (BeatBoxMusicTreeView* self);
	void (*sortColumnChanged) (BeatBoxMusicTreeView* self);
	void (*modelRowsReordered) (BeatBoxMusicTreeView* self, GtkTreePath* path, GtkTreeIter* iter, void* new_order);
	void (*viewColumnsChanged) (BeatBoxMusicTreeView* self);
	void (*current_cleared) (BeatBoxMusicTreeView* self);
	void (*song_played) (BeatBoxMusicTreeView* self, gint id, gint old);
	void (*songs_updated) (BeatBoxMusicTreeView* self, GeeCollection* ids);
	void (*songs_removed) (BeatBoxMusicTreeView* self, GeeLinkedList* ids);
	void (*viewDoubleClick) (BeatBoxMusicTreeView* self, GtkTreePath* path, GtkTreeViewColumn* column);
	gboolean (*viewClick) (BeatBoxMusicTreeView* self, GdkEventButton* event);
	void (*viewHeadersResized) (BeatBoxMusicTreeView* self);
	void (*columnSmartSortingClick) (BeatBoxMusicTreeView* self);
	void (*columnMenuToggled) (BeatBoxMusicTreeView* self);
	void (*songMenuEditClicked) (BeatBoxMusicTreeView* self);
	void (*songEditorSaved) (BeatBoxMusicTreeView* self, GeeLinkedList* songs);
	void (*songFileBrowseClicked) (BeatBoxMusicTreeView* self);
	void (*songMenuQueueClicked) (BeatBoxMusicTreeView* self);
	void (*songMenuNewPlaylistClicked) (BeatBoxMusicTreeView* self);
	void (*songRemoveClicked) (BeatBoxMusicTreeView* self);
	void (*songRateSong0Clicked) (BeatBoxMusicTreeView* self);
	void (*songRateSong1Clicked) (BeatBoxMusicTreeView* self);
	void (*songRateSong2Clicked) (BeatBoxMusicTreeView* self);
	void (*songRateSong3Clicked) (BeatBoxMusicTreeView* self);
	void (*songRateSong4Clicked) (BeatBoxMusicTreeView* self);
	void (*songRateSong5Clicked) (BeatBoxMusicTreeView* self);
	void (*viewScroll) (BeatBoxMusicTreeView* self);
	void (*onDragBegin) (BeatBoxMusicTreeView* self, GtkWidget* sender, GdkDragContext* context);
	void (*onDragDataGet) (BeatBoxMusicTreeView* self, GdkDragContext* context, GtkSelectionData* selection_data, guint info, guint time_);
	void (*onDragEnd) (BeatBoxMusicTreeView* self, GtkWidget* sender, GdkDragContext* context);
};

struct _BeatBoxMusicTreeViewPrivate {
	BeatBoxLibraryManager* lm;
	BeatBoxLibraryWindow* lw;
	GtkTreeView* view;
	GtkListStore* model;
	GtkTreeModelFilter* filter;
	GtkTreeModelSort* sort;
	GeeLinkedList* _songs;
	GeeHashMap* _rows;
	GeeLinkedList* _columns;
	gchar* sort_column;
	GtkSortType sort_direction;
	GeeLinkedList* timeout_search;
	gchar* last_search;
	gboolean scrolled_recently;
	GtkMenu* columnChooserMenu;
	GtkMenuItem* columnSmartSorting;
	GtkCheckMenuItem* columnNumber;
	GtkCheckMenuItem* columnTrack;
	GtkCheckMenuItem* columnTitle;
	GtkCheckMenuItem* columnLength;
	GtkCheckMenuItem* columnArtist;
	GtkCheckMenuItem* columnAlbum;
	GtkCheckMenuItem* columnGenre;
	GtkCheckMenuItem* columnYear;
	GtkCheckMenuItem* columnBitRate;
	GtkCheckMenuItem* columnRating;
	GtkCheckMenuItem* columnPlayCount;
	GtkCheckMenuItem* columnSkipCount;
	GtkCheckMenuItem* columnDateAdded;
	GtkCheckMenuItem* columnLastPlayed;
	GtkCheckMenuItem* columnBPM;
	GtkMenu* songMenuActionMenu;
	GtkMenuItem* songEditSong;
	GtkMenuItem* songFileBrowse;
	GtkMenuItem* songMenuQueue;
	GtkMenuItem* songMenuNewPlaylist;
	GtkMenuItem* songMenuAddToPlaylist;
	GtkMenuItem* songRateSong;
	GtkMenu* songRateSongMenu;
	GtkMenuItem* songRateSong0;
	GtkMenuItem* songRateSong1;
	GtkMenuItem* songRateSong2;
	GtkMenuItem* songRateSong3;
	GtkMenuItem* songRateSong4;
	GtkMenuItem* songRateSong5;
	GtkMenuItem* songRemove;
	GdkPixbuf* starred;
	GdkPixbuf* not_starred;
};

struct _BeatBoxLibraryManager {
	GObject parent_instance;
	BeatBoxLibraryManagerPrivate * priv;
	BeatBoxSettings* settings;
	BeatBoxDataBaseManager* dbm;
	BeatBoxDataBaseUpdater* dbu;
	BeatBoxFileOperator* fo;
	BeatBoxStreamPlayer* player;
	LastFMCore* lfm;
	BeatBoxTreeViewSetup* music_setup;
	BeatBoxTreeViewSetup* similar_setup;
	BeatBoxTreeViewSetup* queue_setup;
	BeatBoxTreeViewSetup* history_setup;
	gint _played_index;
	gint _current_index;
	gint _current_shuffled_index;
	BeatBoxSongInfo* song_info;
	gboolean playing;
	gboolean repeat;
	gboolean shuffle;
	gboolean doing_file_operations;
};

struct _BeatBoxLibraryManagerClass {
	GObjectClass parent_class;
	void (*dbProgress) (BeatBoxLibraryManager* self, const gchar* message, gdouble progress);
};

struct _BeatBoxPlaylist {
	GObject parent_instance;
	BeatBoxPlaylistPrivate * priv;
	BeatBoxTreeViewSetup* tvs;
};

struct _BeatBoxPlaylistClass {
	GObjectClass parent_class;
};

struct _BeatBoxSmartPlaylist {
	GObject parent_instance;
	BeatBoxSmartPlaylistPrivate * priv;
	BeatBoxTreeViewSetup* tvs;
	gint query_count;
};

struct _BeatBoxSmartPlaylistClass {
	GObjectClass parent_class;
};

struct _BeatBoxLibraryWindow {
	GtkWindow parent_instance;
	BeatBoxLibraryWindowPrivate * priv;
	ElementaryWidgetsElementarySearchEntry* searchField;
};

struct _BeatBoxLibraryWindowClass {
	GtkWindowClass parent_class;
	void (*progressNotification) (BeatBoxLibraryWindow* self, const gchar* message, gdouble progress);
	void (*sideListDoubleClick) (BeatBoxLibraryWindow* self, GtkTreePath* path, GtkTreeViewColumn* column);
	void (*song_played) (BeatBoxLibraryWindow* self, gint i);
	void (*songs_updated) (BeatBoxLibraryWindow* self, GeeCollection* ids);
	void (*previousClicked) (BeatBoxLibraryWindow* self);
	void (*playClicked) (BeatBoxLibraryWindow* self);
	void (*nextClicked) (BeatBoxLibraryWindow* self);
	void (*shuffleClicked) (BeatBoxLibraryWindow* self);
	void (*loveButtonClicked) (BeatBoxLibraryWindow* self);
	void (*banButtonClicked) (BeatBoxLibraryWindow* self);
	void (*searchFieldIconPressed) (BeatBoxLibraryWindow* self, GtkEntryIconPosition p0, GdkEvent* p1);
	void (*sourcesToSongsHandleSet) (BeatBoxLibraryWindow* self, GdkRectangle* rectangle);
	void (*on_resize) (BeatBoxLibraryWindow* self);
	void (*on_quit) (BeatBoxLibraryWindow* self);
	void (*fileImportMusicClick) (BeatBoxLibraryWindow* self);
	void (*fileRescanMusicFolderClick) (BeatBoxLibraryWindow* self);
	void (*musicCounted) (BeatBoxLibraryWindow* self, gint count);
	void (*musicAdded) (BeatBoxLibraryWindow* self, GeeLinkedList* not_imported);
	void (*musicImported) (BeatBoxLibraryWindow* self, GeeLinkedList* new_songs, GeeLinkedList* not_imported);
	void (*musicRescanned) (BeatBoxLibraryWindow* self, GeeLinkedList* new_songs, GeeLinkedList* not_imported);
	void (*song_added) (BeatBoxLibraryWindow* self, gint id);
	void (*songs_removed) (BeatBoxLibraryWindow* self, GeeLinkedList* removed);
	void (*helpAboutClick) (BeatBoxLibraryWindow* self);
	void (*editPreferencesClick) (BeatBoxLibraryWindow* self);
	void (*end_of_stream) (BeatBoxLibraryWindow* self, BeatBoxSong* s);
	void (*current_position_update) (BeatBoxLibraryWindow* self, gint64 position);
	void (*similarRetrieved) (BeatBoxLibraryWindow* self, GeeLinkedList* similar);
};

struct _ElementaryWidgetsElementaryEntry {
	GtkEntry parent_instance;
	ElementaryWidgetsElementaryEntryPrivate * priv;
	gchar* hint_string;
};

struct _ElementaryWidgetsElementaryEntryClass {
	GtkEntryClass parent_class;
};

struct _BeatBoxSongInfo {
	GObject parent_instance;
	BeatBoxSongInfoPrivate * priv;
	BeatBoxSong* song;
	LastFMArtistInfo* artist;
	LastFMTrackInfo* track;
	LastFMAlbumInfo* album;
};

struct _BeatBoxSongInfoClass {
	GObjectClass parent_class;
};

struct _Block8Data {
	int _ref_count_;
	BeatBoxMusicTreeView * self;
	BeatBoxPlaylist* p;
};

struct _Block9Data {
	int _ref_count_;
	BeatBoxMusicTreeView * self;
	BeatBoxPlaylist* p;
};


static gpointer beat_box_music_tree_view_parent_class = NULL;

GType beat_box_music_tree_view_get_type (void) G_GNUC_CONST;
GType beat_box_song_get_type (void) G_GNUC_CONST;
GType beat_box_music_tree_view_hint_get_type (void) G_GNUC_CONST;
GType beat_box_library_manager_get_type (void) G_GNUC_CONST;
GType beat_box_library_window_get_type (void) G_GNUC_CONST;
#define BEAT_BOX_MUSIC_TREE_VIEW_GET_PRIVATE(o) (G_TYPE_INSTANCE_GET_PRIVATE ((o), BEAT_BOX_TYPE_MUSIC_TREE_VIEW, BeatBoxMusicTreeViewPrivate))
enum  {
	BEAT_BOX_MUSIC_TREE_VIEW_DUMMY_PROPERTY
};
GeeSet* beat_box_music_tree_view_get_songs (BeatBoxMusicTreeView* self);
GeeLinkedList* beat_box_music_tree_view_get_columns (BeatBoxMusicTreeView* self);
BeatBoxMusicTreeView* beat_box_music_tree_view_new (BeatBoxLibraryManager* lmm, BeatBoxLibraryWindow* lww, const gchar* sort, GtkSortType dir, BeatBoxMusicTreeViewHint the_hint, gint id);
BeatBoxMusicTreeView* beat_box_music_tree_view_construct (GType object_type, BeatBoxLibraryManager* lmm, BeatBoxLibraryWindow* lww, const gchar* sort, GtkSortType dir, BeatBoxMusicTreeViewHint the_hint, gint id);
void beat_box_music_tree_view_songs_updated (BeatBoxMusicTreeView* self, GeeCollection* ids);
static void _beat_box_music_tree_view_songs_updated_beat_box_library_manager_songs_updated (BeatBoxLibraryManager* _sender, GeeLinkedList* ids, gpointer self);
void beat_box_music_tree_view_songs_removed (BeatBoxMusicTreeView* self, GeeLinkedList* ids);
static void _beat_box_music_tree_view_songs_removed_beat_box_library_manager_songs_removed (BeatBoxLibraryManager* _sender, GeeLinkedList* ids, gpointer self);
void beat_box_music_tree_view_song_played (BeatBoxMusicTreeView* self, gint id, gint old);
static void _beat_box_music_tree_view_song_played_beat_box_library_manager_song_played (BeatBoxLibraryManager* _sender, gint id, gint old_id, gpointer self);
void beat_box_music_tree_view_current_cleared (BeatBoxMusicTreeView* self);
static void _beat_box_music_tree_view_current_cleared_beat_box_library_manager_current_cleared (BeatBoxLibraryManager* _sender, gpointer self);
void beat_box_music_tree_view_buildUI (BeatBoxMusicTreeView* self);
void beat_box_music_tree_view_set_hint (BeatBoxMusicTreeView* self, BeatBoxMusicTreeViewHint the_hint);
void beat_box_music_tree_view_updateSensitivities (BeatBoxMusicTreeView* self);
void beat_box_music_tree_view_set_id (BeatBoxMusicTreeView* self, gint id);
GType beat_box_settings_get_type (void) G_GNUC_CONST;
GType beat_box_data_base_manager_get_type (void) G_GNUC_CONST;
GType beat_box_data_base_updater_get_type (void) G_GNUC_CONST;
GType beat_box_file_operator_get_type (void) G_GNUC_CONST;
GType beat_box_stream_player_get_type (void) G_GNUC_CONST;
GType last_fm_core_get_type (void) G_GNUC_CONST;
GType beat_box_tree_view_setup_get_type (void) G_GNUC_CONST;
GType beat_box_song_info_get_type (void) G_GNUC_CONST;
GeeLinkedList* beat_box_tree_view_setup_get_columns (BeatBoxTreeViewSetup* self);
GType beat_box_playlist_get_type (void) G_GNUC_CONST;
BeatBoxPlaylist* beat_box_library_manager_playlist_from_id (BeatBoxLibraryManager* self, gint id);
GType beat_box_smart_playlist_get_type (void) G_GNUC_CONST;
BeatBoxSmartPlaylist* beat_box_library_manager_smart_playlist_from_id (BeatBoxLibraryManager* self, gint id);
#define BEAT_BOX_DATA_BASE_MANAGER_COLUMN_COUNT 18
void beat_box_data_base_manager_initialize_columns (BeatBoxDataBaseManager* self);
GeeLinkedList* beat_box_library_manager_fresh_columns (BeatBoxLibraryManager* self);
void beat_box_tree_view_setup_set_columns (BeatBoxTreeViewSetup* self, GeeLinkedList* cols);
void beat_box_music_tree_view_intelligentTreeViewFiller (BeatBoxMusicTreeView* self, GtkTreeViewColumn* tvc, GtkCellRenderer* cell, GtkTreeModel* tree_model, GtkTreeIter* iter);
static void _beat_box_music_tree_view_intelligentTreeViewFiller_gtk_tree_cell_data_func (GtkTreeViewColumn* tree_column, GtkCellRenderer* cell, GtkTreeModel* tree_model, GtkTreeIter* iter, gpointer self);
void beat_box_music_tree_view_ratingsCellDataFunction (BeatBoxMusicTreeView* self, GtkCellLayout* cell_layout, GtkCellRenderer* cell, GtkTreeModel* tree_model, GtkTreeIter* iter);
static void _beat_box_music_tree_view_ratingsCellDataFunction_gtk_cell_layout_data_func (GtkCellLayout* cell_layout, GtkCellRenderer* cell, GtkTreeModel* tree_model, GtkTreeIter* iter, gpointer self);
static gboolean beat_box_music_tree_view_viewHeaderClick (BeatBoxMusicTreeView* self, GtkWidget* w, GdkEventButton* e);
static gboolean _beat_box_music_tree_view_viewHeaderClick_gtk_widget_button_press_event (GtkWidget* _sender, GdkEventButton* event, gpointer self);
void beat_box_music_tree_view_viewColumnsChanged (BeatBoxMusicTreeView* self);
GType* beat_box_music_tree_view_getColumnTypes (BeatBoxMusicTreeView* self, int* result_length1);
void beat_box_music_tree_view_viewDoubleClick (BeatBoxMusicTreeView* self, GtkTreePath* path, GtkTreeViewColumn* column);
static void _beat_box_music_tree_view_viewDoubleClick_gtk_tree_view_row_activated (GtkTreeView* _sender, GtkTreePath* path, GtkTreeViewColumn* column, gpointer self);
gboolean beat_box_music_tree_view_viewClick (BeatBoxMusicTreeView* self, GdkEventButton* event);
static gboolean _beat_box_music_tree_view_viewClick_gtk_widget_button_press_event (GtkWidget* _sender, GdkEventButton* event, gpointer self);
static gboolean beat_box_music_tree_view_viewClickRelease (BeatBoxMusicTreeView* self, GtkWidget* sender, GdkEventButton* event);
static gboolean _beat_box_music_tree_view_viewClickRelease_gtk_widget_button_release_event (GtkWidget* _sender, GdkEventButton* event, gpointer self);
static void _beat_box_music_tree_view_viewColumnsChanged_gtk_tree_view_columns_changed (GtkTreeView* _sender, gpointer self);
gint beat_box_music_tree_view_artistCompareFunc (BeatBoxMusicTreeView* self, GtkTreeModel* model, GtkTreeIter* a, GtkTreeIter* b);
static gint _beat_box_music_tree_view_artistCompareFunc_gtk_tree_iter_compare_func (GtkTreeModel* model, GtkTreeIter* a, GtkTreeIter* b, gpointer self);
void beat_box_music_tree_view_updateColumnVisibilities (BeatBoxMusicTreeView* self);
void beat_box_music_tree_view_columnSmartSortingClick (BeatBoxMusicTreeView* self);
static void _beat_box_music_tree_view_columnSmartSortingClick_gtk_menu_item_activate (GtkMenuItem* _sender, gpointer self);
void beat_box_music_tree_view_columnMenuToggled (BeatBoxMusicTreeView* self);
static void _beat_box_music_tree_view_columnMenuToggled_gtk_check_menu_item_toggled (GtkCheckMenuItem* _sender, gpointer self);
void beat_box_music_tree_view_songMenuEditClicked (BeatBoxMusicTreeView* self);
static void _beat_box_music_tree_view_songMenuEditClicked_gtk_menu_item_activate (GtkMenuItem* _sender, gpointer self);
void beat_box_music_tree_view_songFileBrowseClicked (BeatBoxMusicTreeView* self);
static void _beat_box_music_tree_view_songFileBrowseClicked_gtk_menu_item_activate (GtkMenuItem* _sender, gpointer self);
void beat_box_music_tree_view_songMenuQueueClicked (BeatBoxMusicTreeView* self);
static void _beat_box_music_tree_view_songMenuQueueClicked_gtk_menu_item_activate (GtkMenuItem* _sender, gpointer self);
void beat_box_music_tree_view_songMenuNewPlaylistClicked (BeatBoxMusicTreeView* self);
static void _beat_box_music_tree_view_songMenuNewPlaylistClicked_gtk_menu_item_activate (GtkMenuItem* _sender, gpointer self);
void beat_box_music_tree_view_songRemoveClicked (BeatBoxMusicTreeView* self);
static void _beat_box_music_tree_view_songRemoveClicked_gtk_menu_item_activate (GtkMenuItem* _sender, gpointer self);
void beat_box_music_tree_view_songRateSong0Clicked (BeatBoxMusicTreeView* self);
static void _beat_box_music_tree_view_songRateSong0Clicked_gtk_menu_item_activate (GtkMenuItem* _sender, gpointer self);
void beat_box_music_tree_view_songRateSong1Clicked (BeatBoxMusicTreeView* self);
static void _beat_box_music_tree_view_songRateSong1Clicked_gtk_menu_item_activate (GtkMenuItem* _sender, gpointer self);
void beat_box_music_tree_view_songRateSong2Clicked (BeatBoxMusicTreeView* self);
static void _beat_box_music_tree_view_songRateSong2Clicked_gtk_menu_item_activate (GtkMenuItem* _sender, gpointer self);
void beat_box_music_tree_view_songRateSong3Clicked (BeatBoxMusicTreeView* self);
static void _beat_box_music_tree_view_songRateSong3Clicked_gtk_menu_item_activate (GtkMenuItem* _sender, gpointer self);
void beat_box_music_tree_view_songRateSong4Clicked (BeatBoxMusicTreeView* self);
static void _beat_box_music_tree_view_songRateSong4Clicked_gtk_menu_item_activate (GtkMenuItem* _sender, gpointer self);
void beat_box_music_tree_view_songRateSong5Clicked (BeatBoxMusicTreeView* self);
static void _beat_box_music_tree_view_songRateSong5Clicked_gtk_menu_item_activate (GtkMenuItem* _sender, gpointer self);
void beat_box_music_tree_view_modelRowsReordered (BeatBoxMusicTreeView* self, GtkTreePath* path, GtkTreeIter* iter, void* new_order);
static void _beat_box_music_tree_view_modelRowsReordered_gtk_tree_model_rows_reordered (GtkTreeModel* _sender, GtkTreePath* path, GtkTreeIter* iter, void* new_order, gpointer self);
void beat_box_music_tree_view_sortColumnChanged (BeatBoxMusicTreeView* self);
static void _beat_box_music_tree_view_sortColumnChanged_gtk_tree_sortable_sort_column_changed (GtkTreeSortable* _sender, gpointer self);
void beat_box_music_tree_view_onDragBegin (BeatBoxMusicTreeView* self, GtkWidget* sender, GdkDragContext* context);
static void _beat_box_music_tree_view_onDragBegin_gtk_widget_drag_begin (GtkWidget* _sender, GdkDragContext* context, gpointer self);
void beat_box_music_tree_view_onDragDataGet (BeatBoxMusicTreeView* self, GdkDragContext* context, GtkSelectionData* selection_data, guint info, guint time_);
static void _beat_box_music_tree_view_onDragDataGet_gtk_widget_drag_data_get (GtkWidget* _sender, GdkDragContext* context, GtkSelectionData* selection_data, guint info, guint time_, gpointer self);
void beat_box_music_tree_view_onDragEnd (BeatBoxMusicTreeView* self, GtkWidget* sender, GdkDragContext* context);
static void _beat_box_music_tree_view_onDragEnd_gtk_widget_drag_end (GtkWidget* _sender, GdkDragContext* context, gpointer self);
void beat_box_music_tree_view_viewScroll (BeatBoxMusicTreeView* self);
static void _beat_box_music_tree_view_viewScroll_gtk_adjustment_value_changed (GtkAdjustment* _sender, gpointer self);
GType elementary_widgets_elementary_entry_get_type (void) G_GNUC_CONST;
GType elementary_widgets_elementary_search_entry_get_type (void) G_GNUC_CONST;
void beat_box_music_tree_view_searchFieldChanged (BeatBoxMusicTreeView* self);
static void _beat_box_music_tree_view_searchFieldChanged_gtk_editable_changed (GtkEditable* _sender, gpointer self);
BeatBoxSong* beat_box_library_manager_song_from_id (BeatBoxLibraryManager* self, gint id);
const gchar* beat_box_song_get_artist (BeatBoxSong* self);
const gchar* beat_box_song_get_album (BeatBoxSong* self);
gint beat_box_song_get_track (BeatBoxSong* self);
const gchar* beat_box_song_get_file (BeatBoxSong* self);
static void beat_box_music_tree_view_real_searchFieldChanged (BeatBoxMusicTreeView* self);
gchar* elementary_widgets_elementary_entry_get_text (ElementaryWidgetsElementaryEntry* self);
static gboolean _lambda9_ (BeatBoxMusicTreeView* self);
const gchar* beat_box_song_get_title (BeatBoxSong* self);
const gchar* beat_box_song_get_genre (BeatBoxSong* self);
void beat_box_music_tree_view_scrollToCurrent (BeatBoxMusicTreeView* self);
static gboolean __lambda9__gsource_func (gpointer self);
static void beat_box_music_tree_view_real_sortColumnChanged (BeatBoxMusicTreeView* self);
void beat_box_music_tree_view_updateTreeViewSetup (BeatBoxMusicTreeView* self);
static void beat_box_music_tree_view_real_modelRowsReordered (BeatBoxMusicTreeView* self, GtkTreePath* path, GtkTreeIter* iter, void* new_order);
GType last_fm_artist_info_get_type (void) G_GNUC_CONST;
GType last_fm_track_info_get_type (void) G_GNUC_CONST;
GType last_fm_album_info_get_type (void) G_GNUC_CONST;
gint beat_box_song_get_rowid (BeatBoxSong* self);
void beat_box_music_tree_view_setAsCurrentList (BeatBoxMusicTreeView* self, const gchar* current_song_path);
static void beat_box_music_tree_view_real_viewColumnsChanged (BeatBoxMusicTreeView* self);
void beat_box_music_tree_view_populateView (BeatBoxMusicTreeView* self, GeeCollection* songs, gboolean is_search);
GtkTreeIter* beat_box_music_tree_view_addSong (BeatBoxMusicTreeView* self, BeatBoxSong* s);
gchar* beat_box_song_pretty_length (BeatBoxSong* self);
gint beat_box_song_get_year (BeatBoxSong* self);
gint beat_box_song_get_bitrate (BeatBoxSong* self);
gint beat_box_song_get_rating (BeatBoxSong* self);
gint beat_box_song_get_play_count (BeatBoxSong* self);
gint beat_box_song_get_skip_count (BeatBoxSong* self);
gchar* beat_box_song_pretty_date_added (BeatBoxSong* self);
gchar* beat_box_song_pretty_last_played (BeatBoxSong* self);
gint beat_box_song_get_bpm (BeatBoxSong* self);
static GtkTreeIter* _gtk_tree_iter_dup (GtkTreeIter* self);
gboolean beat_box_music_tree_view_updateSong (BeatBoxMusicTreeView* self, gint i);
gboolean beat_box_music_tree_view_removeSong (BeatBoxMusicTreeView* self, gint i);
static void beat_box_music_tree_view_real_current_cleared (BeatBoxMusicTreeView* self);
static void beat_box_music_tree_view_real_song_played (BeatBoxMusicTreeView* self, gint id, gint old);
static void beat_box_music_tree_view_real_songs_updated (BeatBoxMusicTreeView* self, GeeCollection* ids);
static void beat_box_music_tree_view_real_songs_removed (BeatBoxMusicTreeView* self, GeeLinkedList* ids);
static void beat_box_music_tree_view_real_viewDoubleClick (BeatBoxMusicTreeView* self, GtkTreePath* path, GtkTreeViewColumn* column);
void beat_box_library_manager_playSong (BeatBoxLibraryManager* self, gint id);
void beat_box_stream_player_play_stream (BeatBoxStreamPlayer* self);
void beat_box_library_window_playClicked (BeatBoxLibraryWindow* self);
void beat_box_library_manager_set_current_index (BeatBoxLibraryManager* self, gint value);
void beat_box_library_manager_clearCurrent (BeatBoxLibraryManager* self);
void beat_box_library_manager_addToCurrent (BeatBoxLibraryManager* self, gint i);
gboolean beat_box_library_manager_is_shuffled (BeatBoxLibraryManager* self);
void beat_box_library_manager_shuffleMusic (BeatBoxLibraryManager* self);
static gboolean beat_box_music_tree_view_real_viewClick (BeatBoxMusicTreeView* self, GdkEventButton* event);
GeeCollection* beat_box_library_manager_playlists (BeatBoxLibraryManager* self);
static Block8Data* block8_data_ref (Block8Data* _data8_);
static void block8_data_unref (Block8Data* _data8_);
const gchar* beat_box_playlist_get_name (BeatBoxPlaylist* self);
static void _lambda6_ (Block8Data* _data8_);
void beat_box_playlist_addSong (BeatBoxPlaylist* self, BeatBoxSong* s);
static void _gtk_tree_path_free0_ (gpointer var);
static void _g_list_free__gtk_tree_path_free0_ (GList* self);
static void __lambda6__gtk_menu_item_activate (GtkMenuItem* _sender, gpointer self);
void beat_box_song_set_rating (BeatBoxSong* self, gint value);
void beat_box_library_manager_update_song (BeatBoxLibraryManager* self, BeatBoxSong* s, gboolean updateMeta);
void beat_box_music_tree_view_viewHeadersResized (BeatBoxMusicTreeView* self);
static void beat_box_music_tree_view_real_viewHeadersResized (BeatBoxMusicTreeView* self);
static void beat_box_music_tree_view_real_columnSmartSortingClick (BeatBoxMusicTreeView* self);
BeatBoxTreeViewSetup* beat_box_tree_view_setup_new (const gchar* sort_col, GtkSortType sort_dir);
BeatBoxTreeViewSetup* beat_box_tree_view_setup_construct (GType object_type, const gchar* sort_col, GtkSortType sort_dir);
void beat_box_tree_view_setup_set_sort_column (BeatBoxTreeViewSetup* self, const gchar* value);
void beat_box_tree_view_setup_set_sort_direction (BeatBoxTreeViewSetup* self, GtkSortType value);
static void beat_box_music_tree_view_real_columnMenuToggled (BeatBoxMusicTreeView* self);
static void beat_box_music_tree_view_real_songMenuEditClicked (BeatBoxMusicTreeView* self);
LastFMTrackInfo* beat_box_library_manager_get_track (BeatBoxLibraryManager* self, const gchar* track_key);
LastFMArtistInfo* beat_box_library_manager_get_artist (BeatBoxLibraryManager* self, const gchar* artist_key);
LastFMAlbumInfo* beat_box_library_manager_get_album (BeatBoxLibraryManager* self, const gchar* album_key);
BeatBoxSongEditor* beat_box_song_editor_new (GeeLinkedList* songs, LastFMTrackInfo* track, LastFMArtistInfo* artist, LastFMAlbumInfo* album);
BeatBoxSongEditor* beat_box_song_editor_construct (GType object_type, GeeLinkedList* songs, LastFMTrackInfo* track, LastFMArtistInfo* artist, LastFMAlbumInfo* album);
GType beat_box_song_editor_get_type (void) G_GNUC_CONST;
void beat_box_music_tree_view_songEditorSaved (BeatBoxMusicTreeView* self, GeeLinkedList* songs);
static void _beat_box_music_tree_view_songEditorSaved_beat_box_song_editor_songs_saved (BeatBoxSongEditor* _sender, GeeLinkedList* songs, gpointer self);
static void beat_box_music_tree_view_real_songEditorSaved (BeatBoxMusicTreeView* self, GeeLinkedList* songs);
void beat_box_library_manager_update_songs (BeatBoxLibraryManager* self, GeeCollection* updates, gboolean updateMeta);
static void beat_box_music_tree_view_real_songFileBrowseClicked (BeatBoxMusicTreeView* self);
static void beat_box_music_tree_view_real_songMenuQueueClicked (BeatBoxMusicTreeView* self);
void beat_box_library_manager_queue_song_by_id (BeatBoxLibraryManager* self, gint id);
static void beat_box_music_tree_view_real_songMenuNewPlaylistClicked (BeatBoxMusicTreeView* self);
static Block9Data* block9_data_ref (Block9Data* _data9_);
static void block9_data_unref (Block9Data* _data9_);
BeatBoxPlaylist* beat_box_playlist_new (void);
BeatBoxPlaylist* beat_box_playlist_construct (GType object_type);
BeatBoxPlaylistNameWindow* beat_box_playlist_name_window_new (BeatBoxPlaylist* original);
BeatBoxPlaylistNameWindow* beat_box_playlist_name_window_construct (GType object_type, BeatBoxPlaylist* original);
GType beat_box_playlist_name_window_get_type (void) G_GNUC_CONST;
static void _lambda7_ (BeatBoxPlaylist* newP, Block9Data* _data9_);
gint beat_box_library_manager_add_playlist (BeatBoxLibraryManager* self, BeatBoxPlaylist* p);
void beat_box_library_window_addSideListItem (BeatBoxLibraryWindow* self, GObject* o);
static void __lambda7__beat_box_playlist_name_window_playlist_saved (BeatBoxPlaylistNameWindow* _sender, BeatBoxPlaylist* p, gpointer self);
static void beat_box_music_tree_view_real_songRemoveClicked (BeatBoxMusicTreeView* self);
void beat_box_library_manager_unqueue_song_by_id (BeatBoxLibraryManager* self, gint id);
void beat_box_playlist_removeSong (BeatBoxPlaylist* self, BeatBoxSong* s);
void beat_box_library_manager_remove_songs (BeatBoxLibraryManager* self, GeeLinkedList* toRemove);
static void beat_box_music_tree_view_real_songRateSong0Clicked (BeatBoxMusicTreeView* self);
static void beat_box_music_tree_view_real_songRateSong1Clicked (BeatBoxMusicTreeView* self);
static void beat_box_music_tree_view_real_songRateSong2Clicked (BeatBoxMusicTreeView* self);
static void beat_box_music_tree_view_real_songRateSong3Clicked (BeatBoxMusicTreeView* self);
static void beat_box_music_tree_view_real_songRateSong4Clicked (BeatBoxMusicTreeView* self);
static void beat_box_music_tree_view_real_songRateSong5Clicked (BeatBoxMusicTreeView* self);
static void beat_box_music_tree_view_real_viewScroll (BeatBoxMusicTreeView* self);
static gboolean _lambda8_ (BeatBoxMusicTreeView* self);
static gboolean __lambda8__gsource_func (gpointer self);
static void beat_box_music_tree_view_real_onDragBegin (BeatBoxMusicTreeView* self, GtkWidget* sender, GdkDragContext* context);
static void beat_box_music_tree_view_real_onDragDataGet (BeatBoxMusicTreeView* self, GdkDragContext* context, GtkSelectionData* selection_data, guint info, guint time_);
static void _vala_array_add2 (gchar*** array, int* length, int* size, gchar* value);
static void beat_box_music_tree_view_real_onDragEnd (BeatBoxMusicTreeView* self, GtkWidget* sender, GdkDragContext* context);
static void beat_box_music_tree_view_finalize (GObject* obj);
static void _vala_array_destroy (gpointer array, gint array_length, GDestroyNotify destroy_func);
static void _vala_array_free (gpointer array, gint array_length, GDestroyNotify destroy_func);


GType beat_box_music_tree_view_hint_get_type (void) {
	static volatile gsize beat_box_music_tree_view_hint_type_id__volatile = 0;
	if (g_once_init_enter (&beat_box_music_tree_view_hint_type_id__volatile)) {
		static const GEnumValue values[] = {{BEAT_BOX_MUSIC_TREE_VIEW_HINT_MUSIC, "BEAT_BOX_MUSIC_TREE_VIEW_HINT_MUSIC", "music"}, {BEAT_BOX_MUSIC_TREE_VIEW_HINT_SIMILAR, "BEAT_BOX_MUSIC_TREE_VIEW_HINT_SIMILAR", "similar"}, {BEAT_BOX_MUSIC_TREE_VIEW_HINT_QUEUE, "BEAT_BOX_MUSIC_TREE_VIEW_HINT_QUEUE", "queue"}, {BEAT_BOX_MUSIC_TREE_VIEW_HINT_HISTORY, "BEAT_BOX_MUSIC_TREE_VIEW_HINT_HISTORY", "history"}, {BEAT_BOX_MUSIC_TREE_VIEW_HINT_PLAYLIST, "BEAT_BOX_MUSIC_TREE_VIEW_HINT_PLAYLIST", "playlist"}, {BEAT_BOX_MUSIC_TREE_VIEW_HINT_SMART_PLAYLIST, "BEAT_BOX_MUSIC_TREE_VIEW_HINT_SMART_PLAYLIST", "smart-playlist"}, {0, NULL, NULL}};
		GType beat_box_music_tree_view_hint_type_id;
		beat_box_music_tree_view_hint_type_id = g_enum_register_static ("BeatBoxMusicTreeViewHint", values);
		g_once_init_leave (&beat_box_music_tree_view_hint_type_id__volatile, beat_box_music_tree_view_hint_type_id);
	}
	return beat_box_music_tree_view_hint_type_id__volatile;
}


GeeSet* beat_box_music_tree_view_get_songs (BeatBoxMusicTreeView* self) {
	GeeSet* result = NULL;
	GeeSet* _tmp0_ = NULL;
	g_return_val_if_fail (self != NULL, NULL);
	_tmp0_ = gee_map_get_keys ((GeeMap*) self->priv->_rows);
	result = _tmp0_;
	return result;
}


static gpointer _g_object_ref0 (gpointer self) {
	return self ? g_object_ref (self) : NULL;
}


GeeLinkedList* beat_box_music_tree_view_get_columns (BeatBoxMusicTreeView* self) {
	GeeLinkedList* result = NULL;
	GeeLinkedList* _tmp0_ = NULL;
	GeeLinkedList* rv;
	GList* _tmp1_ = NULL;
	g_return_val_if_fail (self != NULL, NULL);
	_tmp0_ = gee_linked_list_new (GTK_TYPE_TREE_VIEW_COLUMN, (GBoxedCopyFunc) g_object_ref, g_object_unref, NULL);
	rv = _tmp0_;
	_tmp1_ = gtk_tree_view_get_columns (self->priv->view);
	{
		GList* tvc_collection;
		GList* tvc_it;
		tvc_collection = _tmp1_;
		for (tvc_it = tvc_collection; tvc_it != NULL; tvc_it = tvc_it->next) {
			GtkTreeViewColumn* _tmp2_;
			GtkTreeViewColumn* tvc;
			_tmp2_ = _g_object_ref0 ((GtkTreeViewColumn*) tvc_it->data);
			tvc = _tmp2_;
			{
				gee_abstract_collection_add ((GeeAbstractCollection*) rv, tvc);
				_g_object_unref0 (tvc);
			}
		}
		_g_list_free0 (tvc_collection);
	}
	result = rv;
	return result;
}


/**
 * for sort_id use 0+ for normal, -1 for auto, -2 for none
 */
static void _beat_box_music_tree_view_songs_updated_beat_box_library_manager_songs_updated (BeatBoxLibraryManager* _sender, GeeLinkedList* ids, gpointer self) {
	beat_box_music_tree_view_songs_updated (self, ids);
}


static void _beat_box_music_tree_view_songs_removed_beat_box_library_manager_songs_removed (BeatBoxLibraryManager* _sender, GeeLinkedList* ids, gpointer self) {
	beat_box_music_tree_view_songs_removed (self, ids);
}


static void _beat_box_music_tree_view_song_played_beat_box_library_manager_song_played (BeatBoxLibraryManager* _sender, gint id, gint old_id, gpointer self) {
	beat_box_music_tree_view_song_played (self, id, old_id);
}


static void _beat_box_music_tree_view_current_cleared_beat_box_library_manager_current_cleared (BeatBoxLibraryManager* _sender, gpointer self) {
	beat_box_music_tree_view_current_cleared (self);
}


BeatBoxMusicTreeView* beat_box_music_tree_view_construct (GType object_type, BeatBoxLibraryManager* lmm, BeatBoxLibraryWindow* lww, const gchar* sort, GtkSortType dir, BeatBoxMusicTreeViewHint the_hint, gint id) {
	BeatBoxMusicTreeView * self = NULL;
	BeatBoxLibraryManager* _tmp0_;
	BeatBoxLibraryManager* _tmp1_;
	BeatBoxLibraryWindow* _tmp2_;
	BeatBoxLibraryWindow* _tmp3_;
	GeeLinkedList* _tmp4_ = NULL;
	GeeLinkedList* _tmp5_;
	GeeHashMap* _tmp6_ = NULL;
	GeeHashMap* _tmp7_;
	GeeLinkedList* _tmp8_ = NULL;
	GeeLinkedList* _tmp9_;
	gchar* _tmp10_;
	gchar* _tmp11_;
	GeeLinkedList* _tmp12_ = NULL;
	GeeLinkedList* _tmp13_;
	gchar* _tmp14_;
	gchar* _tmp15_;
	GdkPixbuf* _tmp16_ = NULL;
	GdkPixbuf* _tmp17_;
	GdkPixbuf* _tmp18_ = NULL;
	GdkPixbuf* _tmp19_;
	g_return_val_if_fail (lmm != NULL, NULL);
	g_return_val_if_fail (lww != NULL, NULL);
	g_return_val_if_fail (sort != NULL, NULL);
	self = (BeatBoxMusicTreeView*) g_object_new (object_type, NULL);
	_tmp0_ = _g_object_ref0 (lmm);
	_tmp1_ = _tmp0_;
	_g_object_unref0 (self->priv->lm);
	self->priv->lm = _tmp1_;
	_tmp2_ = _g_object_ref0 (lww);
	_tmp3_ = _tmp2_;
	_g_object_unref0 (self->priv->lw);
	self->priv->lw = _tmp3_;
	_tmp4_ = gee_linked_list_new (G_TYPE_INT, NULL, NULL, NULL);
	_tmp5_ = _tmp4_;
	_g_object_unref0 (self->priv->_songs);
	self->priv->_songs = _tmp5_;
	_tmp6_ = gee_hash_map_new (G_TYPE_INT, NULL, NULL, GTK_TYPE_TREE_ROW_REFERENCE, (GBoxedCopyFunc) gtk_tree_row_reference_copy, gtk_tree_row_reference_free, NULL, NULL, NULL);
	_tmp7_ = _tmp6_;
	_g_object_unref0 (self->priv->_rows);
	self->priv->_rows = _tmp7_;
	_tmp8_ = gee_linked_list_new (G_TYPE_STRING, (GBoxedCopyFunc) g_strdup, g_free, NULL);
	_tmp9_ = _tmp8_;
	_g_object_unref0 (self->priv->_columns);
	self->priv->_columns = _tmp9_;
	_tmp10_ = g_strdup ("");
	_tmp11_ = _tmp10_;
	_g_free0 (self->priv->last_search);
	self->priv->last_search = _tmp11_;
	_tmp12_ = gee_linked_list_new (G_TYPE_STRING, (GBoxedCopyFunc) g_strdup, g_free, NULL);
	_tmp13_ = _tmp12_;
	_g_object_unref0 (self->priv->timeout_search);
	self->priv->timeout_search = _tmp13_;
	self->removing_songs = FALSE;
	_tmp14_ = g_strdup (sort);
	_tmp15_ = _tmp14_;
	_g_free0 (self->priv->sort_column);
	self->priv->sort_column = _tmp15_;
	self->priv->sort_direction = dir;
	self->hint = the_hint;
	self->relative_id = id;
	_tmp16_ = gtk_widget_render_icon ((GtkWidget*) self, "starred", GTK_ICON_SIZE_MENU, NULL);
	_tmp17_ = _tmp16_;
	_g_object_unref0 (self->priv->starred);
	self->priv->starred = _tmp17_;
	_tmp18_ = gtk_widget_render_icon ((GtkWidget*) self, "not-starred", GTK_ICON_SIZE_MENU, NULL);
	_tmp19_ = _tmp18_;
	_g_object_unref0 (self->priv->not_starred);
	self->priv->not_starred = _tmp19_;
	g_signal_connect_object (self->priv->lm, "songs-updated", (GCallback) _beat_box_music_tree_view_songs_updated_beat_box_library_manager_songs_updated, self, 0);
	g_signal_connect_object (self->priv->lm, "songs-removed", (GCallback) _beat_box_music_tree_view_songs_removed_beat_box_library_manager_songs_removed, self, 0);
	g_signal_connect_object (self->priv->lm, "song-played", (GCallback) _beat_box_music_tree_view_song_played_beat_box_library_manager_song_played, self, 0);
	g_signal_connect_object (self->priv->lm, "current-cleared", (GCallback) _beat_box_music_tree_view_current_cleared_beat_box_library_manager_current_cleared, self, 0);
	beat_box_music_tree_view_buildUI (self);
	return self;
}


BeatBoxMusicTreeView* beat_box_music_tree_view_new (BeatBoxLibraryManager* lmm, BeatBoxLibraryWindow* lww, const gchar* sort, GtkSortType dir, BeatBoxMusicTreeViewHint the_hint, gint id) {
	return beat_box_music_tree_view_construct (BEAT_BOX_TYPE_MUSIC_TREE_VIEW, lmm, lww, sort, dir, the_hint, id);
}


void beat_box_music_tree_view_set_hint (BeatBoxMusicTreeView* self, BeatBoxMusicTreeViewHint the_hint) {
	g_return_if_fail (self != NULL);
	self->hint = the_hint;
	beat_box_music_tree_view_updateSensitivities (self);
}


void beat_box_music_tree_view_set_id (BeatBoxMusicTreeView* self, gint id) {
	g_return_if_fail (self != NULL);
	self->relative_id = id;
}


void beat_box_music_tree_view_updateSensitivities (BeatBoxMusicTreeView* self) {
	g_return_if_fail (self != NULL);
	if (self->hint == BEAT_BOX_MUSIC_TREE_VIEW_HINT_MUSIC) {
		gtk_widget_set_sensitive ((GtkWidget*) self->priv->songRemove, TRUE);
		gtk_menu_item_set_label (self->priv->songRemove, "Move to Trash");
	} else {
		if (self->hint == BEAT_BOX_MUSIC_TREE_VIEW_HINT_SIMILAR) {
			gtk_widget_set_sensitive ((GtkWidget*) self->priv->songRemove, FALSE);
		} else {
			if (self->hint == BEAT_BOX_MUSIC_TREE_VIEW_HINT_QUEUE) {
				gtk_widget_set_sensitive ((GtkWidget*) self->priv->songRemove, TRUE);
				gtk_menu_item_set_label (self->priv->songRemove, "Remove from Queue");
			} else {
				if (self->hint == BEAT_BOX_MUSIC_TREE_VIEW_HINT_HISTORY) {
					gtk_widget_set_sensitive ((GtkWidget*) self->priv->songRemove, FALSE);
				} else {
					if (self->hint == BEAT_BOX_MUSIC_TREE_VIEW_HINT_PLAYLIST) {
						gtk_widget_set_sensitive ((GtkWidget*) self->priv->songRemove, TRUE);
					} else {
						if (self->hint == BEAT_BOX_MUSIC_TREE_VIEW_HINT_SMART_PLAYLIST) {
							gtk_widget_set_sensitive ((GtkWidget*) self->priv->songRemove, FALSE);
						} else {
							gtk_widget_set_sensitive ((GtkWidget*) self->priv->songRemove, FALSE);
						}
					}
				}
			}
		}
	}
}


static void _beat_box_music_tree_view_intelligentTreeViewFiller_gtk_tree_cell_data_func (GtkTreeViewColumn* tree_column, GtkCellRenderer* cell, GtkTreeModel* tree_model, GtkTreeIter* iter, gpointer self) {
	beat_box_music_tree_view_intelligentTreeViewFiller (self, tree_column, cell, tree_model, iter);
}


static void _beat_box_music_tree_view_ratingsCellDataFunction_gtk_cell_layout_data_func (GtkCellLayout* cell_layout, GtkCellRenderer* cell, GtkTreeModel* tree_model, GtkTreeIter* iter, gpointer self) {
	beat_box_music_tree_view_ratingsCellDataFunction (self, cell_layout, cell, tree_model, iter);
}


static gboolean _beat_box_music_tree_view_viewHeaderClick_gtk_widget_button_press_event (GtkWidget* _sender, GdkEventButton* event, gpointer self) {
	gboolean result;
	result = beat_box_music_tree_view_viewHeaderClick (self, _sender, event);
	return result;
}


static void _beat_box_music_tree_view_viewDoubleClick_gtk_tree_view_row_activated (GtkTreeView* _sender, GtkTreePath* path, GtkTreeViewColumn* column, gpointer self) {
	beat_box_music_tree_view_viewDoubleClick (self, path, column);
}


static gboolean _beat_box_music_tree_view_viewClick_gtk_widget_button_press_event (GtkWidget* _sender, GdkEventButton* event, gpointer self) {
	gboolean result;
	result = beat_box_music_tree_view_viewClick (self, event);
	return result;
}


static gboolean _beat_box_music_tree_view_viewClickRelease_gtk_widget_button_release_event (GtkWidget* _sender, GdkEventButton* event, gpointer self) {
	gboolean result;
	result = beat_box_music_tree_view_viewClickRelease (self, _sender, event);
	return result;
}


static void _beat_box_music_tree_view_viewColumnsChanged_gtk_tree_view_columns_changed (GtkTreeView* _sender, gpointer self) {
	beat_box_music_tree_view_viewColumnsChanged (self);
}


static gint _beat_box_music_tree_view_artistCompareFunc_gtk_tree_iter_compare_func (GtkTreeModel* model, GtkTreeIter* a, GtkTreeIter* b, gpointer self) {
	gint result;
	result = beat_box_music_tree_view_artistCompareFunc (self, model, a, b);
	return result;
}


static void _beat_box_music_tree_view_columnSmartSortingClick_gtk_menu_item_activate (GtkMenuItem* _sender, gpointer self) {
	beat_box_music_tree_view_columnSmartSortingClick (self);
}


static void _beat_box_music_tree_view_columnMenuToggled_gtk_check_menu_item_toggled (GtkCheckMenuItem* _sender, gpointer self) {
	beat_box_music_tree_view_columnMenuToggled (self);
}


static void _beat_box_music_tree_view_songMenuEditClicked_gtk_menu_item_activate (GtkMenuItem* _sender, gpointer self) {
	beat_box_music_tree_view_songMenuEditClicked (self);
}


static void _beat_box_music_tree_view_songFileBrowseClicked_gtk_menu_item_activate (GtkMenuItem* _sender, gpointer self) {
	beat_box_music_tree_view_songFileBrowseClicked (self);
}


static void _beat_box_music_tree_view_songMenuQueueClicked_gtk_menu_item_activate (GtkMenuItem* _sender, gpointer self) {
	beat_box_music_tree_view_songMenuQueueClicked (self);
}


static void _beat_box_music_tree_view_songMenuNewPlaylistClicked_gtk_menu_item_activate (GtkMenuItem* _sender, gpointer self) {
	beat_box_music_tree_view_songMenuNewPlaylistClicked (self);
}


static void _beat_box_music_tree_view_songRemoveClicked_gtk_menu_item_activate (GtkMenuItem* _sender, gpointer self) {
	beat_box_music_tree_view_songRemoveClicked (self);
}


static void _beat_box_music_tree_view_songRateSong0Clicked_gtk_menu_item_activate (GtkMenuItem* _sender, gpointer self) {
	beat_box_music_tree_view_songRateSong0Clicked (self);
}


static void _beat_box_music_tree_view_songRateSong1Clicked_gtk_menu_item_activate (GtkMenuItem* _sender, gpointer self) {
	beat_box_music_tree_view_songRateSong1Clicked (self);
}


static void _beat_box_music_tree_view_songRateSong2Clicked_gtk_menu_item_activate (GtkMenuItem* _sender, gpointer self) {
	beat_box_music_tree_view_songRateSong2Clicked (self);
}


static void _beat_box_music_tree_view_songRateSong3Clicked_gtk_menu_item_activate (GtkMenuItem* _sender, gpointer self) {
	beat_box_music_tree_view_songRateSong3Clicked (self);
}


static void _beat_box_music_tree_view_songRateSong4Clicked_gtk_menu_item_activate (GtkMenuItem* _sender, gpointer self) {
	beat_box_music_tree_view_songRateSong4Clicked (self);
}


static void _beat_box_music_tree_view_songRateSong5Clicked_gtk_menu_item_activate (GtkMenuItem* _sender, gpointer self) {
	beat_box_music_tree_view_songRateSong5Clicked (self);
}


static void _beat_box_music_tree_view_modelRowsReordered_gtk_tree_model_rows_reordered (GtkTreeModel* _sender, GtkTreePath* path, GtkTreeIter* iter, void* new_order, gpointer self) {
	beat_box_music_tree_view_modelRowsReordered (self, path, iter, new_order);
}


static void _beat_box_music_tree_view_sortColumnChanged_gtk_tree_sortable_sort_column_changed (GtkTreeSortable* _sender, gpointer self) {
	beat_box_music_tree_view_sortColumnChanged (self);
}


static void _beat_box_music_tree_view_onDragBegin_gtk_widget_drag_begin (GtkWidget* _sender, GdkDragContext* context, gpointer self) {
	beat_box_music_tree_view_onDragBegin (self, _sender, context);
}


static void _beat_box_music_tree_view_onDragDataGet_gtk_widget_drag_data_get (GtkWidget* _sender, GdkDragContext* context, GtkSelectionData* selection_data, guint info, guint time_, gpointer self) {
	beat_box_music_tree_view_onDragDataGet (self, context, selection_data, info, time_);
}


static void _beat_box_music_tree_view_onDragEnd_gtk_widget_drag_end (GtkWidget* _sender, GdkDragContext* context, gpointer self) {
	beat_box_music_tree_view_onDragEnd (self, _sender, context);
}


static void _beat_box_music_tree_view_viewScroll_gtk_adjustment_value_changed (GtkAdjustment* _sender, gpointer self) {
	beat_box_music_tree_view_viewScroll (self);
}


static void _beat_box_music_tree_view_searchFieldChanged_gtk_editable_changed (GtkEditable* _sender, gpointer self) {
	beat_box_music_tree_view_searchFieldChanged (self);
}


void beat_box_music_tree_view_buildUI (BeatBoxMusicTreeView* self) {
	GtkTreeView* _tmp0_ = NULL;
	GtkTreeView* _tmp1_;
	GeeLinkedList* _tmp2_ = NULL;
	GeeLinkedList* to_use;
	gboolean is_initial;
	gint _tmp19_;
	gint index;
	gint _tmp107_;
	GType* _tmp108_ = NULL;
	GType* _tmp109_;
	gint _tmp109__length1;
	GtkListStore* _tmp110_ = NULL;
	GtkListStore* _tmp111_;
	GtkTreeModelFilter* _tmp112_ = NULL;
	GtkTreeModelFilter* _tmp113_;
	GtkTreeModelSort* _tmp114_ = NULL;
	GtkTreeModelSort* _tmp115_;
	gint _tmp116_;
	gint _tmp117_;
	gint _tmp118_;
	gint _tmp119_;
	GtkTreeSelection* _tmp120_ = NULL;
	GtkTargetEntry* _tmp121_ = NULL;
	GtkTargetEntry* _tmp122_;
	gint _tmp122__length1;
	GtkMenu* _tmp123_ = NULL;
	GtkMenu* _tmp124_;
	GtkMenuItem* _tmp125_ = NULL;
	GtkMenuItem* _tmp126_;
	GtkCheckMenuItem* _tmp127_ = NULL;
	GtkCheckMenuItem* _tmp128_;
	GtkCheckMenuItem* _tmp129_ = NULL;
	GtkCheckMenuItem* _tmp130_;
	GtkCheckMenuItem* _tmp131_ = NULL;
	GtkCheckMenuItem* _tmp132_;
	GtkCheckMenuItem* _tmp133_ = NULL;
	GtkCheckMenuItem* _tmp134_;
	GtkCheckMenuItem* _tmp135_ = NULL;
	GtkCheckMenuItem* _tmp136_;
	GtkCheckMenuItem* _tmp137_ = NULL;
	GtkCheckMenuItem* _tmp138_;
	GtkCheckMenuItem* _tmp139_ = NULL;
	GtkCheckMenuItem* _tmp140_;
	GtkCheckMenuItem* _tmp141_ = NULL;
	GtkCheckMenuItem* _tmp142_;
	GtkCheckMenuItem* _tmp143_ = NULL;
	GtkCheckMenuItem* _tmp144_;
	GtkCheckMenuItem* _tmp145_ = NULL;
	GtkCheckMenuItem* _tmp146_;
	GtkCheckMenuItem* _tmp147_ = NULL;
	GtkCheckMenuItem* _tmp148_;
	GtkCheckMenuItem* _tmp149_ = NULL;
	GtkCheckMenuItem* _tmp150_;
	GtkCheckMenuItem* _tmp151_ = NULL;
	GtkCheckMenuItem* _tmp152_;
	GtkCheckMenuItem* _tmp153_ = NULL;
	GtkCheckMenuItem* _tmp154_;
	GtkCheckMenuItem* _tmp155_ = NULL;
	GtkCheckMenuItem* _tmp156_;
	GtkSeparatorMenuItem* _tmp157_ = NULL;
	GtkSeparatorMenuItem* _tmp158_;
	GtkMenu* _tmp159_ = NULL;
	GtkMenu* _tmp160_;
	GtkMenuItem* _tmp161_ = NULL;
	GtkMenuItem* _tmp162_;
	GtkMenuItem* _tmp163_ = NULL;
	GtkMenuItem* _tmp164_;
	GtkMenuItem* _tmp165_ = NULL;
	GtkMenuItem* _tmp166_;
	GtkMenuItem* _tmp167_ = NULL;
	GtkMenuItem* _tmp168_;
	GtkMenuItem* _tmp169_ = NULL;
	GtkMenuItem* _tmp170_;
	GtkMenuItem* _tmp171_ = NULL;
	GtkMenuItem* _tmp172_;
	GtkMenu* _tmp173_ = NULL;
	GtkMenu* _tmp174_;
	GtkMenuItem* _tmp175_ = NULL;
	GtkMenuItem* _tmp176_;
	GtkMenuItem* _tmp177_ = NULL;
	GtkMenuItem* _tmp178_;
	GtkMenuItem* _tmp179_ = NULL;
	GtkMenuItem* _tmp180_;
	GtkMenuItem* _tmp181_ = NULL;
	GtkMenuItem* _tmp182_;
	GtkMenuItem* _tmp183_ = NULL;
	GtkMenuItem* _tmp184_;
	GtkMenuItem* _tmp185_ = NULL;
	GtkMenuItem* _tmp186_;
	GtkMenuItem* _tmp187_ = NULL;
	GtkMenuItem* _tmp188_;
	GtkSeparatorMenuItem* _tmp189_ = NULL;
	GtkSeparatorMenuItem* _tmp190_;
	GtkSeparatorMenuItem* _tmp191_ = NULL;
	GtkSeparatorMenuItem* _tmp192_;
	GtkAdjustment* _tmp193_ = NULL;
	g_return_if_fail (self != NULL);
	_tmp0_ = (GtkTreeView*) gtk_tree_view_new ();
	_tmp1_ = g_object_ref_sink (_tmp0_);
	_g_object_unref0 (self->priv->view);
	self->priv->view = _tmp1_;
	_tmp2_ = gee_linked_list_new (GTK_TYPE_TREE_VIEW_COLUMN, (GBoxedCopyFunc) g_object_ref, g_object_unref, NULL);
	to_use = _tmp2_;
	if (self->hint == BEAT_BOX_MUSIC_TREE_VIEW_HINT_MUSIC) {
		GeeLinkedList* _tmp3_ = NULL;
		GeeLinkedList* _tmp4_;
		_tmp3_ = beat_box_tree_view_setup_get_columns (self->priv->lm->music_setup);
		_tmp4_ = _tmp3_;
		_g_object_unref0 (to_use);
		to_use = _tmp4_;
	} else {
		if (self->hint == BEAT_BOX_MUSIC_TREE_VIEW_HINT_SIMILAR) {
			GeeLinkedList* _tmp5_ = NULL;
			GeeLinkedList* _tmp6_;
			_tmp5_ = beat_box_tree_view_setup_get_columns (self->priv->lm->similar_setup);
			_tmp6_ = _tmp5_;
			_g_object_unref0 (to_use);
			to_use = _tmp6_;
		} else {
			if (self->hint == BEAT_BOX_MUSIC_TREE_VIEW_HINT_QUEUE) {
				GeeLinkedList* _tmp7_ = NULL;
				GeeLinkedList* _tmp8_;
				_tmp7_ = beat_box_tree_view_setup_get_columns (self->priv->lm->queue_setup);
				_tmp8_ = _tmp7_;
				_g_object_unref0 (to_use);
				to_use = _tmp8_;
			} else {
				if (self->hint == BEAT_BOX_MUSIC_TREE_VIEW_HINT_HISTORY) {
					GeeLinkedList* _tmp9_ = NULL;
					GeeLinkedList* _tmp10_;
					_tmp9_ = beat_box_tree_view_setup_get_columns (self->priv->lm->history_setup);
					_tmp10_ = _tmp9_;
					_g_object_unref0 (to_use);
					to_use = _tmp10_;
				} else {
					if (self->hint == BEAT_BOX_MUSIC_TREE_VIEW_HINT_PLAYLIST) {
						BeatBoxPlaylist* _tmp11_ = NULL;
						BeatBoxPlaylist* _tmp12_;
						GeeLinkedList* _tmp13_ = NULL;
						GeeLinkedList* _tmp14_;
						_tmp11_ = beat_box_library_manager_playlist_from_id (self->priv->lm, self->relative_id);
						_tmp12_ = _tmp11_;
						_tmp13_ = beat_box_tree_view_setup_get_columns (_tmp12_->tvs);
						_tmp14_ = _tmp13_;
						_g_object_unref0 (to_use);
						to_use = _tmp14_;
						_g_object_unref0 (_tmp12_);
					} else {
						if (self->hint == BEAT_BOX_MUSIC_TREE_VIEW_HINT_SMART_PLAYLIST) {
							BeatBoxSmartPlaylist* _tmp15_ = NULL;
							BeatBoxSmartPlaylist* _tmp16_;
							GeeLinkedList* _tmp17_ = NULL;
							GeeLinkedList* _tmp18_;
							_tmp15_ = beat_box_library_manager_smart_playlist_from_id (self->priv->lm, self->relative_id);
							_tmp16_ = _tmp15_;
							_tmp17_ = beat_box_tree_view_setup_get_columns (_tmp16_->tvs);
							_tmp18_ = _tmp17_;
							_g_object_unref0 (to_use);
							to_use = _tmp18_;
							_g_object_unref0 (_tmp16_);
						}
					}
				}
			}
		}
	}
	is_initial = FALSE;
	_tmp19_ = gee_collection_get_size ((GeeCollection*) to_use);
	if (_tmp19_ != BEAT_BOX_DATA_BASE_MANAGER_COLUMN_COUNT) {
		GeeLinkedList* _tmp20_ = NULL;
		GeeLinkedList* _tmp21_;
		is_initial = TRUE;
		fprintf (stdout, "Change in column schema. Resetting columns.\n");
		beat_box_data_base_manager_initialize_columns (self->priv->lm->dbm);
		_tmp20_ = beat_box_library_manager_fresh_columns (self->priv->lm);
		_tmp21_ = _tmp20_;
		_g_object_unref0 (to_use);
		to_use = _tmp21_;
		if (self->hint == BEAT_BOX_MUSIC_TREE_VIEW_HINT_MUSIC) {
			GeeLinkedList* _tmp22_ = NULL;
			GeeLinkedList* _tmp23_;
			_tmp22_ = beat_box_library_manager_fresh_columns (self->priv->lm);
			_tmp23_ = _tmp22_;
			beat_box_tree_view_setup_set_columns (self->priv->lm->music_setup, _tmp23_);
			_g_object_unref0 (_tmp23_);
		} else {
			if (self->hint == BEAT_BOX_MUSIC_TREE_VIEW_HINT_SIMILAR) {
				GeeLinkedList* _tmp24_ = NULL;
				GeeLinkedList* _tmp25_;
				_tmp24_ = beat_box_library_manager_fresh_columns (self->priv->lm);
				_tmp25_ = _tmp24_;
				beat_box_tree_view_setup_set_columns (self->priv->lm->similar_setup, _tmp25_);
				_g_object_unref0 (_tmp25_);
			} else {
				if (self->hint == BEAT_BOX_MUSIC_TREE_VIEW_HINT_QUEUE) {
					GeeLinkedList* _tmp26_ = NULL;
					GeeLinkedList* _tmp27_;
					_tmp26_ = beat_box_library_manager_fresh_columns (self->priv->lm);
					_tmp27_ = _tmp26_;
					beat_box_tree_view_setup_set_columns (self->priv->lm->queue_setup, _tmp27_);
					_g_object_unref0 (_tmp27_);
				} else {
					if (self->hint == BEAT_BOX_MUSIC_TREE_VIEW_HINT_HISTORY) {
						GeeLinkedList* _tmp28_ = NULL;
						GeeLinkedList* _tmp29_;
						_tmp28_ = beat_box_library_manager_fresh_columns (self->priv->lm);
						_tmp29_ = _tmp28_;
						beat_box_tree_view_setup_set_columns (self->priv->lm->history_setup, _tmp29_);
						_g_object_unref0 (_tmp29_);
					} else {
						if (self->hint == BEAT_BOX_MUSIC_TREE_VIEW_HINT_PLAYLIST) {
							BeatBoxPlaylist* _tmp30_ = NULL;
							BeatBoxPlaylist* _tmp31_;
							GeeLinkedList* _tmp32_ = NULL;
							GeeLinkedList* _tmp33_;
							_tmp30_ = beat_box_library_manager_playlist_from_id (self->priv->lm, self->relative_id);
							_tmp31_ = _tmp30_;
							_tmp32_ = beat_box_library_manager_fresh_columns (self->priv->lm);
							_tmp33_ = _tmp32_;
							beat_box_tree_view_setup_set_columns (_tmp31_->tvs, _tmp33_);
							_g_object_unref0 (_tmp33_);
							_g_object_unref0 (_tmp31_);
						} else {
							if (self->hint == BEAT_BOX_MUSIC_TREE_VIEW_HINT_SMART_PLAYLIST) {
								BeatBoxSmartPlaylist* _tmp34_ = NULL;
								BeatBoxSmartPlaylist* _tmp35_;
								GeeLinkedList* _tmp36_ = NULL;
								GeeLinkedList* _tmp37_;
								_tmp34_ = beat_box_library_manager_smart_playlist_from_id (self->priv->lm, self->relative_id);
								_tmp35_ = _tmp34_;
								_tmp36_ = beat_box_library_manager_fresh_columns (self->priv->lm);
								_tmp37_ = _tmp36_;
								beat_box_tree_view_setup_set_columns (_tmp35_->tvs, _tmp37_);
								_g_object_unref0 (_tmp37_);
								_g_object_unref0 (_tmp35_);
							}
						}
					}
				}
			}
		}
	}
	index = 0;
	{
		GeeLinkedList* _tmp38_;
		GeeLinkedList* _tvc_list;
		gint _tmp39_;
		gint _tvc_size;
		gint _tvc_index;
		_tmp38_ = _g_object_ref0 (to_use);
		_tvc_list = _tmp38_;
		_tmp39_ = gee_collection_get_size ((GeeCollection*) _tvc_list);
		_tvc_size = _tmp39_;
		_tvc_index = -1;
		while (TRUE) {
			gpointer _tmp40_ = NULL;
			GtkTreeViewColumn* tvc;
			gboolean _tmp41_ = FALSE;
			gboolean _tmp42_ = FALSE;
			gboolean _tmp43_ = FALSE;
			gboolean _tmp44_ = FALSE;
			gboolean _tmp45_ = FALSE;
			const gchar* _tmp46_ = NULL;
			GtkTreeViewColumn* _tmp96_ = NULL;
			const gchar* _tmp97_ = NULL;
			GtkLabel* _tmp98_ = NULL;
			GtkLabel* _tmp99_;
			GtkTreeViewColumn* _tmp100_ = NULL;
			GtkWidget* _tmp101_ = NULL;
			GtkTreeViewColumn* _tmp102_ = NULL;
			GtkTreeViewColumn* _tmp103_ = NULL;
			GtkWidget* _tmp104_ = NULL;
			GtkWidget* _tmp105_ = NULL;
			GtkWidget* _tmp106_;
			GtkWidget* ancestor;
			_tvc_index = _tvc_index + 1;
			if (!(_tvc_index < _tvc_size)) {
				break;
			}
			_tmp40_ = gee_abstract_list_get ((GeeAbstractList*) _tvc_list, _tvc_index);
			tvc = (GtkTreeViewColumn*) _tmp40_;
			_tmp46_ = gtk_tree_view_column_get_title (tvc);
			if (g_strcmp0 (_tmp46_, "Bitrate") == 0) {
				_tmp45_ = TRUE;
			} else {
				const gchar* _tmp47_ = NULL;
				_tmp47_ = gtk_tree_view_column_get_title (tvc);
				_tmp45_ = g_strcmp0 (_tmp47_, "Year") == 0;
			}
			if (_tmp45_) {
				_tmp44_ = TRUE;
			} else {
				const gchar* _tmp48_ = NULL;
				_tmp48_ = gtk_tree_view_column_get_title (tvc);
				_tmp44_ = g_strcmp0 (_tmp48_, "#") == 0;
			}
			if (_tmp44_) {
				_tmp43_ = TRUE;
			} else {
				const gchar* _tmp49_ = NULL;
				_tmp49_ = gtk_tree_view_column_get_title (tvc);
				_tmp43_ = g_strcmp0 (_tmp49_, "Track") == 0;
			}
			if (_tmp43_) {
				_tmp42_ = TRUE;
			} else {
				const gchar* _tmp50_ = NULL;
				_tmp50_ = gtk_tree_view_column_get_title (tvc);
				_tmp42_ = g_strcmp0 (_tmp50_, "Plays") == 0;
			}
			if (_tmp42_) {
				_tmp41_ = TRUE;
			} else {
				const gchar* _tmp51_ = NULL;
				_tmp51_ = gtk_tree_view_column_get_title (tvc);
				_tmp41_ = g_strcmp0 (_tmp51_, "Skips") == 0;
			}
			if (_tmp41_) {
				const gchar* _tmp52_ = NULL;
				GtkCellRendererText* _tmp53_ = NULL;
				GtkCellRendererText* _tmp54_;
				GtkTreeViewColumn* _tmp55_ = NULL;
				GtkTreeViewColumn* _tmp56_ = NULL;
				GtkTreeViewColumn* _tmp57_ = NULL;
				GtkTreeViewColumn* _tmp58_ = NULL;
				GtkTreeViewColumn* _tmp59_ = NULL;
				GtkTreeViewColumn* _tmp60_ = NULL;
				gboolean _tmp61_;
				GtkTreeViewColumn* _tmp62_ = NULL;
				GtkTreeViewColumn* _tmp63_ = NULL;
				gint _tmp64_;
				_tmp52_ = gtk_tree_view_column_get_title (tvc);
				_tmp53_ = (GtkCellRendererText*) gtk_cell_renderer_text_new ();
				_tmp54_ = g_object_ref_sink (_tmp53_);
				gtk_tree_view_insert_column_with_data_func (self->priv->view, -1, _tmp52_, (GtkCellRenderer*) _tmp54_, _beat_box_music_tree_view_intelligentTreeViewFiller_gtk_tree_cell_data_func, g_object_ref (self), g_object_unref);
				_g_object_unref0 (_tmp54_);
				_tmp55_ = gtk_tree_view_get_column (self->priv->view, index);
				gtk_tree_view_column_set_resizable (_tmp55_, TRUE);
				_tmp56_ = gtk_tree_view_get_column (self->priv->view, index);
				gtk_tree_view_column_set_reorderable (_tmp56_, TRUE);
				_tmp57_ = gtk_tree_view_get_column (self->priv->view, index);
				gtk_tree_view_column_set_clickable (_tmp57_, TRUE);
				_tmp58_ = gtk_tree_view_get_column (self->priv->view, index);
				gtk_tree_view_column_set_sort_column_id (_tmp58_, index);
				_tmp59_ = gtk_tree_view_get_column (self->priv->view, index);
				gtk_tree_view_column_set_sort_indicator (_tmp59_, FALSE);
				_tmp60_ = gtk_tree_view_get_column (self->priv->view, index);
				_tmp61_ = gtk_tree_view_column_get_visible (tvc);
				gtk_tree_view_column_set_visible (_tmp60_, _tmp61_);
				_tmp62_ = gtk_tree_view_get_column (self->priv->view, index);
				gtk_tree_view_column_set_sizing (_tmp62_, GTK_TREE_VIEW_COLUMN_FIXED);
				_tmp63_ = gtk_tree_view_get_column (self->priv->view, index);
				_tmp64_ = gtk_tree_view_column_get_fixed_width (tvc);
				gtk_tree_view_column_set_fixed_width (_tmp63_, _tmp64_);
				if (is_initial) {
					if (self->hint == BEAT_BOX_MUSIC_TREE_VIEW_HINT_MUSIC) {
						const gchar* _tmp65_ = NULL;
						_tmp65_ = gtk_tree_view_column_get_title (tvc);
						if (g_strcmp0 (_tmp65_, "#") == 0) {
							GtkTreeViewColumn* _tmp66_ = NULL;
							_tmp66_ = gtk_tree_view_get_column (self->priv->view, index);
							gtk_tree_view_column_set_visible (_tmp66_, FALSE);
						} else {
							const gchar* _tmp67_ = NULL;
							_tmp67_ = gtk_tree_view_column_get_title (tvc);
							if (g_strcmp0 (_tmp67_, "Track") == 0) {
								GtkTreeViewColumn* _tmp68_ = NULL;
								_tmp68_ = gtk_tree_view_get_column (self->priv->view, index);
								gtk_tree_view_column_set_visible (_tmp68_, TRUE);
							}
						}
					} else {
						if (self->hint == BEAT_BOX_MUSIC_TREE_VIEW_HINT_SIMILAR) {
							const gchar* _tmp69_ = NULL;
							_tmp69_ = gtk_tree_view_column_get_title (tvc);
							if (g_strcmp0 (_tmp69_, "#") == 0) {
								GtkTreeViewColumn* _tmp70_ = NULL;
								_tmp70_ = gtk_tree_view_get_column (self->priv->view, index);
								gtk_tree_view_column_set_visible (_tmp70_, TRUE);
							} else {
								const gchar* _tmp71_ = NULL;
								_tmp71_ = gtk_tree_view_column_get_title (tvc);
								if (g_strcmp0 (_tmp71_, "Track") == 0) {
									GtkTreeViewColumn* _tmp72_ = NULL;
									_tmp72_ = gtk_tree_view_get_column (self->priv->view, index);
									gtk_tree_view_column_set_visible (_tmp72_, FALSE);
								}
							}
						} else {
							if (self->hint == BEAT_BOX_MUSIC_TREE_VIEW_HINT_QUEUE) {
								const gchar* _tmp73_ = NULL;
								_tmp73_ = gtk_tree_view_column_get_title (tvc);
								if (g_strcmp0 (_tmp73_, "#") == 0) {
									GtkTreeViewColumn* _tmp74_ = NULL;
									_tmp74_ = gtk_tree_view_get_column (self->priv->view, index);
									gtk_tree_view_column_set_visible (_tmp74_, TRUE);
								} else {
									const gchar* _tmp75_ = NULL;
									_tmp75_ = gtk_tree_view_column_get_title (tvc);
									if (g_strcmp0 (_tmp75_, "Track") == 0) {
										GtkTreeViewColumn* _tmp76_ = NULL;
										_tmp76_ = gtk_tree_view_get_column (self->priv->view, index);
										gtk_tree_view_column_set_visible (_tmp76_, FALSE);
									}
								}
							} else {
								if (self->hint == BEAT_BOX_MUSIC_TREE_VIEW_HINT_HISTORY) {
									const gchar* _tmp77_ = NULL;
									_tmp77_ = gtk_tree_view_column_get_title (tvc);
									if (g_strcmp0 (_tmp77_, "#") == 0) {
										GtkTreeViewColumn* _tmp78_ = NULL;
										_tmp78_ = gtk_tree_view_get_column (self->priv->view, index);
										gtk_tree_view_column_set_visible (_tmp78_, TRUE);
									} else {
										const gchar* _tmp79_ = NULL;
										_tmp79_ = gtk_tree_view_column_get_title (tvc);
										if (g_strcmp0 (_tmp79_, "Track") == 0) {
											GtkTreeViewColumn* _tmp80_ = NULL;
											_tmp80_ = gtk_tree_view_get_column (self->priv->view, index);
											gtk_tree_view_column_set_visible (_tmp80_, FALSE);
										}
									}
								} else {
									if (self->hint == BEAT_BOX_MUSIC_TREE_VIEW_HINT_PLAYLIST) {
										const gchar* _tmp81_ = NULL;
										_tmp81_ = gtk_tree_view_column_get_title (tvc);
										if (g_strcmp0 (_tmp81_, "#") == 0) {
											GtkTreeViewColumn* _tmp82_ = NULL;
											_tmp82_ = gtk_tree_view_get_column (self->priv->view, index);
											gtk_tree_view_column_set_visible (_tmp82_, TRUE);
										} else {
											const gchar* _tmp83_ = NULL;
											_tmp83_ = gtk_tree_view_column_get_title (tvc);
											if (g_strcmp0 (_tmp83_, "Track") == 0) {
												GtkTreeViewColumn* _tmp84_ = NULL;
												_tmp84_ = gtk_tree_view_get_column (self->priv->view, index);
												gtk_tree_view_column_set_visible (_tmp84_, FALSE);
											}
										}
									} else {
										if (self->hint == BEAT_BOX_MUSIC_TREE_VIEW_HINT_SMART_PLAYLIST) {
											const gchar* _tmp85_ = NULL;
											_tmp85_ = gtk_tree_view_column_get_title (tvc);
											if (g_strcmp0 (_tmp85_, "#") == 0) {
												GtkTreeViewColumn* _tmp86_ = NULL;
												_tmp86_ = gtk_tree_view_get_column (self->priv->view, index);
												gtk_tree_view_column_set_visible (_tmp86_, FALSE);
											} else {
												const gchar* _tmp87_ = NULL;
												_tmp87_ = gtk_tree_view_column_get_title (tvc);
												if (g_strcmp0 (_tmp87_, "Track") == 0) {
													GtkTreeViewColumn* _tmp88_ = NULL;
													_tmp88_ = gtk_tree_view_get_column (self->priv->view, index);
													gtk_tree_view_column_set_visible (_tmp88_, TRUE);
												}
											}
										}
									}
								}
							}
						}
					}
				}
			} else {
				const gchar* _tmp89_ = NULL;
				_tmp89_ = gtk_tree_view_column_get_title (tvc);
				if (g_strcmp0 (_tmp89_, "Rating") == 0) {
					GtkTreeViewColumn* _tmp90_ = NULL;
					gtk_tree_view_insert_column (self->priv->view, tvc, index);
					gtk_tree_view_column_set_fixed_width (tvc, 92);
					_tmp90_ = gtk_tree_view_get_column (self->priv->view, index);
					gtk_cell_layout_clear ((GtkCellLayout*) _tmp90_);
					{
						gint i;
						i = 0;
						{
							gboolean _tmp91_;
							_tmp91_ = TRUE;
							while (TRUE) {
								GtkCellRendererPixbuf* _tmp92_ = NULL;
								GtkCellRendererPixbuf* cell;
								GtkTreeViewColumn* _tmp93_ = NULL;
								GtkTreeViewColumn* _tmp94_ = NULL;
								if (!_tmp91_) {
									i = i + 1;
								}
								_tmp91_ = FALSE;
								if (!(i <= 4)) {
									break;
								}
								_tmp92_ = (GtkCellRendererPixbuf*) gtk_cell_renderer_pixbuf_new ();
								cell = g_object_ref_sink (_tmp92_);
								_tmp93_ = gtk_tree_view_get_column (self->priv->view, index);
								gtk_cell_layout_pack_start ((GtkCellLayout*) _tmp93_, (GtkCellRenderer*) cell, FALSE);
								_tmp94_ = gtk_tree_view_get_column (self->priv->view, index);
								gtk_cell_layout_set_cell_data_func ((GtkCellLayout*) _tmp94_, (GtkCellRenderer*) cell, _beat_box_music_tree_view_ratingsCellDataFunction_gtk_cell_layout_data_func, g_object_ref (self), g_object_unref);
								_g_object_unref0 (cell);
							}
						}
					}
				} else {
					const gchar* _tmp95_ = NULL;
					_tmp95_ = gtk_tree_view_column_get_title (tvc);
					if (g_strcmp0 (_tmp95_, " ") == 0) {
						gtk_tree_view_insert_column (self->priv->view, tvc, index);
						gtk_tree_view_column_set_fixed_width (tvc, 24);
						gtk_tree_view_column_set_clickable (tvc, FALSE);
						gtk_tree_view_column_set_sort_column_id (tvc, -1);
						gtk_tree_view_column_set_resizable (tvc, FALSE);
					} else {
						gtk_tree_view_insert_column (self->priv->view, tvc, index);
					}
				}
			}
			_tmp96_ = gtk_tree_view_get_column (self->priv->view, index);
			_tmp97_ = gtk_tree_view_column_get_title (tvc);
			_tmp98_ = (GtkLabel*) gtk_label_new (_tmp97_);
			_tmp99_ = g_object_ref_sink (_tmp98_);
			gtk_tree_view_column_set_widget (_tmp96_, (GtkWidget*) _tmp99_);
			_g_object_unref0 (_tmp99_);
			_tmp100_ = gtk_tree_view_get_column (self->priv->view, index);
			_tmp101_ = gtk_tree_view_column_get_widget (_tmp100_);
			gtk_widget_show (_tmp101_);
			_tmp102_ = gtk_tree_view_get_column (self->priv->view, index);
			gtk_tree_view_column_set_sort_indicator (_tmp102_, FALSE);
			_tmp103_ = gtk_tree_view_get_column (self->priv->view, index);
			_tmp104_ = gtk_tree_view_column_get_widget (_tmp103_);
			_tmp105_ = gtk_widget_get_ancestor (_tmp104_, GTK_TYPE_BUTTON);
			_tmp106_ = _g_object_ref0 (_tmp105_);
			ancestor = _tmp106_;
			g_assert (ancestor != NULL);
			g_signal_connect_object (ancestor, "button-press-event", (GCallback) _beat_box_music_tree_view_viewHeaderClick_gtk_widget_button_press_event, self, 0);
			index = index + 1;
			_g_object_unref0 (ancestor);
			_g_object_unref0 (tvc);
		}
		_g_object_unref0 (_tvc_list);
	}
	beat_box_music_tree_view_viewColumnsChanged (self);
	_tmp108_ = beat_box_music_tree_view_getColumnTypes (self, &_tmp107_);
	_tmp109_ = _tmp108_;
	_tmp109__length1 = _tmp107_;
	_tmp110_ = gtk_list_store_newv (_tmp107_, _tmp109_);
	_tmp111_ = _tmp110_;
	_g_object_unref0 (self->priv->model);
	self->priv->model = _tmp111_;
	_tmp109_ = (g_free (_tmp109_), NULL);
	_tmp112_ = (GtkTreeModelFilter*) gtk_tree_model_filter_new ((GtkTreeModel*) self->priv->model, NULL);
	_tmp113_ = _tmp112_;
	_g_object_unref0 (self->priv->filter);
	self->priv->filter = _tmp113_;
	_tmp114_ = (GtkTreeModelSort*) gtk_tree_model_sort_new_with_model ((GtkTreeModel*) self->priv->filter);
	_tmp115_ = _tmp114_;
	_g_object_unref0 (self->priv->sort);
	self->priv->sort = _tmp115_;
	_tmp116_ = gee_abstract_list_index_of ((GeeAbstractList*) self->priv->_columns, "visible");
	gtk_tree_model_filter_set_visible_column (self->priv->filter, _tmp116_);
	_tmp117_ = gee_abstract_list_index_of ((GeeAbstractList*) self->priv->_columns, self->priv->sort_column);
	fprintf (stdout, "setting sort column as %d or %s\n", _tmp117_, self->priv->sort_column);
	_tmp118_ = gee_abstract_list_index_of ((GeeAbstractList*) self->priv->_columns, self->priv->sort_column);
	gtk_tree_sortable_set_sort_column_id ((GtkTreeSortable*) self->priv->sort, _tmp118_, self->priv->sort_direction);
	gtk_tree_view_set_model (self->priv->view, (GtkTreeModel*) self->priv->sort);
	gtk_tree_view_set_headers_clickable (self->priv->view, TRUE);
	gtk_tree_view_set_fixed_height_mode (self->priv->view, TRUE);
	g_signal_connect_object (self->priv->view, "row-activated", (GCallback) _beat_box_music_tree_view_viewDoubleClick_gtk_tree_view_row_activated, self, 0);
	g_signal_connect_object ((GtkWidget*) self->priv->view, "button-press-event", (GCallback) _beat_box_music_tree_view_viewClick_gtk_widget_button_press_event, self, 0);
	g_signal_connect_object ((GtkWidget*) self->priv->view, "button-release-event", (GCallback) _beat_box_music_tree_view_viewClickRelease_gtk_widget_button_release_event, self, 0);
	g_signal_connect_object (self->priv->view, "columns-changed", (GCallback) _beat_box_music_tree_view_viewColumnsChanged_gtk_tree_view_columns_changed, self, 0);
	_tmp119_ = gee_abstract_list_index_of ((GeeAbstractList*) self->priv->_columns, "Artist");
	gtk_tree_sortable_set_sort_func ((GtkTreeSortable*) self->priv->sort, _tmp119_, _beat_box_music_tree_view_artistCompareFunc_gtk_tree_iter_compare_func, g_object_ref (self), g_object_unref);
	_tmp120_ = gtk_tree_view_get_selection (self->priv->view);
	gtk_tree_selection_set_mode (_tmp120_, GTK_SELECTION_MULTIPLE);
	_tmp121_ = g_new0 (GtkTargetEntry, 0);
	_tmp122_ = _tmp121_;
	_tmp122__length1 = 0;
	gtk_drag_source_set ((GtkWidget*) self->priv->view, GDK_BUTTON1_MASK, _tmp122_, 0, GDK_ACTION_MOVE);
	_tmp122_ = (g_free (_tmp122_), NULL);
	gtk_drag_source_add_uri_targets ((GtkWidget*) self->priv->view);
	_tmp123_ = (GtkMenu*) gtk_menu_new ();
	_tmp124_ = g_object_ref_sink (_tmp123_);
	_g_object_unref0 (self->priv->columnChooserMenu);
	self->priv->columnChooserMenu = _tmp124_;
	_tmp125_ = (GtkMenuItem*) gtk_menu_item_new_with_label ("Smart sorting");
	_tmp126_ = g_object_ref_sink (_tmp125_);
	_g_object_unref0 (self->priv->columnSmartSorting);
	self->priv->columnSmartSorting = _tmp126_;
	_tmp127_ = (GtkCheckMenuItem*) gtk_check_menu_item_new_with_label ("#");
	_tmp128_ = g_object_ref_sink (_tmp127_);
	_g_object_unref0 (self->priv->columnNumber);
	self->priv->columnNumber = _tmp128_;
	_tmp129_ = (GtkCheckMenuItem*) gtk_check_menu_item_new_with_label ("Track");
	_tmp130_ = g_object_ref_sink (_tmp129_);
	_g_object_unref0 (self->priv->columnTrack);
	self->priv->columnTrack = _tmp130_;
	_tmp131_ = (GtkCheckMenuItem*) gtk_check_menu_item_new_with_label ("Title");
	_tmp132_ = g_object_ref_sink (_tmp131_);
	_g_object_unref0 (self->priv->columnTitle);
	self->priv->columnTitle = _tmp132_;
	_tmp133_ = (GtkCheckMenuItem*) gtk_check_menu_item_new_with_label ("Length");
	_tmp134_ = g_object_ref_sink (_tmp133_);
	_g_object_unref0 (self->priv->columnLength);
	self->priv->columnLength = _tmp134_;
	_tmp135_ = (GtkCheckMenuItem*) gtk_check_menu_item_new_with_label ("Artist");
	_tmp136_ = g_object_ref_sink (_tmp135_);
	_g_object_unref0 (self->priv->columnArtist);
	self->priv->columnArtist = _tmp136_;
	_tmp137_ = (GtkCheckMenuItem*) gtk_check_menu_item_new_with_label ("Album");
	_tmp138_ = g_object_ref_sink (_tmp137_);
	_g_object_unref0 (self->priv->columnAlbum);
	self->priv->columnAlbum = _tmp138_;
	_tmp139_ = (GtkCheckMenuItem*) gtk_check_menu_item_new_with_label ("Genre");
	_tmp140_ = g_object_ref_sink (_tmp139_);
	_g_object_unref0 (self->priv->columnGenre);
	self->priv->columnGenre = _tmp140_;
	_tmp141_ = (GtkCheckMenuItem*) gtk_check_menu_item_new_with_label ("Year");
	_tmp142_ = g_object_ref_sink (_tmp141_);
	_g_object_unref0 (self->priv->columnYear);
	self->priv->columnYear = _tmp142_;
	_tmp143_ = (GtkCheckMenuItem*) gtk_check_menu_item_new_with_label ("Bitrate");
	_tmp144_ = g_object_ref_sink (_tmp143_);
	_g_object_unref0 (self->priv->columnBitRate);
	self->priv->columnBitRate = _tmp144_;
	_tmp145_ = (GtkCheckMenuItem*) gtk_check_menu_item_new_with_label ("Rating");
	_tmp146_ = g_object_ref_sink (_tmp145_);
	_g_object_unref0 (self->priv->columnRating);
	self->priv->columnRating = _tmp146_;
	_tmp147_ = (GtkCheckMenuItem*) gtk_check_menu_item_new_with_label ("Plays");
	_tmp148_ = g_object_ref_sink (_tmp147_);
	_g_object_unref0 (self->priv->columnPlayCount);
	self->priv->columnPlayCount = _tmp148_;
	_tmp149_ = (GtkCheckMenuItem*) gtk_check_menu_item_new_with_label ("Skips");
	_tmp150_ = g_object_ref_sink (_tmp149_);
	_g_object_unref0 (self->priv->columnSkipCount);
	self->priv->columnSkipCount = _tmp150_;
	_tmp151_ = (GtkCheckMenuItem*) gtk_check_menu_item_new_with_label ("Date Added");
	_tmp152_ = g_object_ref_sink (_tmp151_);
	_g_object_unref0 (self->priv->columnDateAdded);
	self->priv->columnDateAdded = _tmp152_;
	_tmp153_ = (GtkCheckMenuItem*) gtk_check_menu_item_new_with_label ("Last Played");
	_tmp154_ = g_object_ref_sink (_tmp153_);
	_g_object_unref0 (self->priv->columnLastPlayed);
	self->priv->columnLastPlayed = _tmp154_;
	_tmp155_ = (GtkCheckMenuItem*) gtk_check_menu_item_new_with_label ("BPM");
	_tmp156_ = g_object_ref_sink (_tmp155_);
	_g_object_unref0 (self->priv->columnBPM);
	self->priv->columnBPM = _tmp156_;
	beat_box_music_tree_view_updateColumnVisibilities (self);
	gtk_menu_shell_append ((GtkMenuShell*) self->priv->columnChooserMenu, (GtkWidget*) self->priv->columnSmartSorting);
	_tmp157_ = (GtkSeparatorMenuItem*) gtk_separator_menu_item_new ();
	_tmp158_ = g_object_ref_sink (_tmp157_);
	gtk_menu_shell_append ((GtkMenuShell*) self->priv->columnChooserMenu, (GtkWidget*) ((GtkMenuItem*) _tmp158_));
	_g_object_unref0 (_tmp158_);
	gtk_menu_shell_append ((GtkMenuShell*) self->priv->columnChooserMenu, (GtkWidget*) ((GtkMenuItem*) self->priv->columnNumber));
	gtk_menu_shell_append ((GtkMenuShell*) self->priv->columnChooserMenu, (GtkWidget*) ((GtkMenuItem*) self->priv->columnTrack));
	gtk_menu_shell_append ((GtkMenuShell*) self->priv->columnChooserMenu, (GtkWidget*) ((GtkMenuItem*) self->priv->columnTitle));
	gtk_menu_shell_append ((GtkMenuShell*) self->priv->columnChooserMenu, (GtkWidget*) ((GtkMenuItem*) self->priv->columnLength));
	gtk_menu_shell_append ((GtkMenuShell*) self->priv->columnChooserMenu, (GtkWidget*) ((GtkMenuItem*) self->priv->columnArtist));
	gtk_menu_shell_append ((GtkMenuShell*) self->priv->columnChooserMenu, (GtkWidget*) ((GtkMenuItem*) self->priv->columnAlbum));
	gtk_menu_shell_append ((GtkMenuShell*) self->priv->columnChooserMenu, (GtkWidget*) ((GtkMenuItem*) self->priv->columnGenre));
	gtk_menu_shell_append ((GtkMenuShell*) self->priv->columnChooserMenu, (GtkWidget*) ((GtkMenuItem*) self->priv->columnYear));
	gtk_menu_shell_append ((GtkMenuShell*) self->priv->columnChooserMenu, (GtkWidget*) ((GtkMenuItem*) self->priv->columnBitRate));
	gtk_menu_shell_append ((GtkMenuShell*) self->priv->columnChooserMenu, (GtkWidget*) ((GtkMenuItem*) self->priv->columnRating));
	gtk_menu_shell_append ((GtkMenuShell*) self->priv->columnChooserMenu, (GtkWidget*) ((GtkMenuItem*) self->priv->columnPlayCount));
	gtk_menu_shell_append ((GtkMenuShell*) self->priv->columnChooserMenu, (GtkWidget*) ((GtkMenuItem*) self->priv->columnSkipCount));
	gtk_menu_shell_append ((GtkMenuShell*) self->priv->columnChooserMenu, (GtkWidget*) ((GtkMenuItem*) self->priv->columnDateAdded));
	gtk_menu_shell_append ((GtkMenuShell*) self->priv->columnChooserMenu, (GtkWidget*) ((GtkMenuItem*) self->priv->columnLastPlayed));
	gtk_menu_shell_append ((GtkMenuShell*) self->priv->columnChooserMenu, (GtkWidget*) ((GtkMenuItem*) self->priv->columnBPM));
	g_signal_connect_object (self->priv->columnSmartSorting, "activate", (GCallback) _beat_box_music_tree_view_columnSmartSortingClick_gtk_menu_item_activate, self, 0);
	g_signal_connect_object (self->priv->columnNumber, "toggled", (GCallback) _beat_box_music_tree_view_columnMenuToggled_gtk_check_menu_item_toggled, self, 0);
	g_signal_connect_object (self->priv->columnTrack, "toggled", (GCallback) _beat_box_music_tree_view_columnMenuToggled_gtk_check_menu_item_toggled, self, 0);
	g_signal_connect_object (self->priv->columnTitle, "toggled", (GCallback) _beat_box_music_tree_view_columnMenuToggled_gtk_check_menu_item_toggled, self, 0);
	g_signal_connect_object (self->priv->columnLength, "toggled", (GCallback) _beat_box_music_tree_view_columnMenuToggled_gtk_check_menu_item_toggled, self, 0);
	g_signal_connect_object (self->priv->columnArtist, "toggled", (GCallback) _beat_box_music_tree_view_columnMenuToggled_gtk_check_menu_item_toggled, self, 0);
	g_signal_connect_object (self->priv->columnAlbum, "toggled", (GCallback) _beat_box_music_tree_view_columnMenuToggled_gtk_check_menu_item_toggled, self, 0);
	g_signal_connect_object (self->priv->columnGenre, "toggled", (GCallback) _beat_box_music_tree_view_columnMenuToggled_gtk_check_menu_item_toggled, self, 0);
	g_signal_connect_object (self->priv->columnYear, "toggled", (GCallback) _beat_box_music_tree_view_columnMenuToggled_gtk_check_menu_item_toggled, self, 0);
	g_signal_connect_object (self->priv->columnBitRate, "toggled", (GCallback) _beat_box_music_tree_view_columnMenuToggled_gtk_check_menu_item_toggled, self, 0);
	g_signal_connect_object (self->priv->columnRating, "toggled", (GCallback) _beat_box_music_tree_view_columnMenuToggled_gtk_check_menu_item_toggled, self, 0);
	g_signal_connect_object (self->priv->columnPlayCount, "toggled", (GCallback) _beat_box_music_tree_view_columnMenuToggled_gtk_check_menu_item_toggled, self, 0);
	g_signal_connect_object (self->priv->columnSkipCount, "toggled", (GCallback) _beat_box_music_tree_view_columnMenuToggled_gtk_check_menu_item_toggled, self, 0);
	g_signal_connect_object (self->priv->columnDateAdded, "toggled", (GCallback) _beat_box_music_tree_view_columnMenuToggled_gtk_check_menu_item_toggled, self, 0);
	g_signal_connect_object (self->priv->columnLastPlayed, "toggled", (GCallback) _beat_box_music_tree_view_columnMenuToggled_gtk_check_menu_item_toggled, self, 0);
	g_signal_connect_object (self->priv->columnBPM, "toggled", (GCallback) _beat_box_music_tree_view_columnMenuToggled_gtk_check_menu_item_toggled, self, 0);
	gtk_widget_show_all ((GtkWidget*) self->priv->columnChooserMenu);
	_tmp159_ = (GtkMenu*) gtk_menu_new ();
	_tmp160_ = g_object_ref_sink (_tmp159_);
	_g_object_unref0 (self->priv->songMenuActionMenu);
	self->priv->songMenuActionMenu = _tmp160_;
	_tmp161_ = (GtkMenuItem*) gtk_menu_item_new_with_label ("Edit Song Info");
	_tmp162_ = g_object_ref_sink (_tmp161_);
	_g_object_unref0 (self->priv->songEditSong);
	self->priv->songEditSong = _tmp162_;
	_tmp163_ = (GtkMenuItem*) gtk_menu_item_new_with_label ("Show in File Browser");
	_tmp164_ = g_object_ref_sink (_tmp163_);
	_g_object_unref0 (self->priv->songFileBrowse);
	self->priv->songFileBrowse = _tmp164_;
	_tmp165_ = (GtkMenuItem*) gtk_menu_item_new_with_label ("Queue");
	_tmp166_ = g_object_ref_sink (_tmp165_);
	_g_object_unref0 (self->priv->songMenuQueue);
	self->priv->songMenuQueue = _tmp166_;
	_tmp167_ = (GtkMenuItem*) gtk_menu_item_new_with_label ("New Playlist");
	_tmp168_ = g_object_ref_sink (_tmp167_);
	_g_object_unref0 (self->priv->songMenuNewPlaylist);
	self->priv->songMenuNewPlaylist = _tmp168_;
	_tmp169_ = (GtkMenuItem*) gtk_menu_item_new_with_label ("Add to Playlist");
	_tmp170_ = g_object_ref_sink (_tmp169_);
	_g_object_unref0 (self->priv->songMenuAddToPlaylist);
	self->priv->songMenuAddToPlaylist = _tmp170_;
	_tmp171_ = (GtkMenuItem*) gtk_menu_item_new_with_label ("Remove song");
	_tmp172_ = g_object_ref_sink (_tmp171_);
	_g_object_unref0 (self->priv->songRemove);
	self->priv->songRemove = _tmp172_;
	_tmp173_ = (GtkMenu*) gtk_menu_new ();
	_tmp174_ = g_object_ref_sink (_tmp173_);
	_g_object_unref0 (self->priv->songRateSongMenu);
	self->priv->songRateSongMenu = _tmp174_;
	_tmp175_ = (GtkMenuItem*) gtk_menu_item_new_with_label ("Rate Song");
	_tmp176_ = g_object_ref_sink (_tmp175_);
	_g_object_unref0 (self->priv->songRateSong);
	self->priv->songRateSong = _tmp176_;
	_tmp177_ = (GtkMenuItem*) gtk_menu_item_new_with_label ("No Stars");
	_tmp178_ = g_object_ref_sink (_tmp177_);
	_g_object_unref0 (self->priv->songRateSong0);
	self->priv->songRateSong0 = _tmp178_;
	_tmp179_ = (GtkMenuItem*) gtk_menu_item_new_with_label ("1 Stars");
	_tmp180_ = g_object_ref_sink (_tmp179_);
	_g_object_unref0 (self->priv->songRateSong1);
	self->priv->songRateSong1 = _tmp180_;
	_tmp181_ = (GtkMenuItem*) gtk_menu_item_new_with_label ("2 Stars");
	_tmp182_ = g_object_ref_sink (_tmp181_);
	_g_object_unref0 (self->priv->songRateSong2);
	self->priv->songRateSong2 = _tmp182_;
	_tmp183_ = (GtkMenuItem*) gtk_menu_item_new_with_label ("3 Stars");
	_tmp184_ = g_object_ref_sink (_tmp183_);
	_g_object_unref0 (self->priv->songRateSong3);
	self->priv->songRateSong3 = _tmp184_;
	_tmp185_ = (GtkMenuItem*) gtk_menu_item_new_with_label ("4 Stars");
	_tmp186_ = g_object_ref_sink (_tmp185_);
	_g_object_unref0 (self->priv->songRateSong4);
	self->priv->songRateSong4 = _tmp186_;
	_tmp187_ = (GtkMenuItem*) gtk_menu_item_new_with_label ("5 Stars");
	_tmp188_ = g_object_ref_sink (_tmp187_);
	_g_object_unref0 (self->priv->songRateSong5);
	self->priv->songRateSong5 = _tmp188_;
	gtk_menu_shell_append ((GtkMenuShell*) self->priv->songMenuActionMenu, (GtkWidget*) self->priv->songEditSong);
	gtk_menu_shell_append ((GtkMenuShell*) self->priv->songMenuActionMenu, (GtkWidget*) self->priv->songFileBrowse);
	gtk_menu_shell_append ((GtkMenuShell*) self->priv->songRateSongMenu, (GtkWidget*) self->priv->songRateSong0);
	gtk_menu_shell_append ((GtkMenuShell*) self->priv->songRateSongMenu, (GtkWidget*) self->priv->songRateSong1);
	gtk_menu_shell_append ((GtkMenuShell*) self->priv->songRateSongMenu, (GtkWidget*) self->priv->songRateSong2);
	gtk_menu_shell_append ((GtkMenuShell*) self->priv->songRateSongMenu, (GtkWidget*) self->priv->songRateSong3);
	gtk_menu_shell_append ((GtkMenuShell*) self->priv->songRateSongMenu, (GtkWidget*) self->priv->songRateSong4);
	gtk_menu_shell_append ((GtkMenuShell*) self->priv->songRateSongMenu, (GtkWidget*) self->priv->songRateSong5);
	gtk_menu_shell_append ((GtkMenuShell*) self->priv->songMenuActionMenu, (GtkWidget*) self->priv->songRateSong);
	gtk_menu_item_set_submenu (self->priv->songRateSong, self->priv->songRateSongMenu);
	_tmp189_ = (GtkSeparatorMenuItem*) gtk_separator_menu_item_new ();
	_tmp190_ = g_object_ref_sink (_tmp189_);
	gtk_menu_shell_append ((GtkMenuShell*) self->priv->songMenuActionMenu, (GtkWidget*) ((GtkMenuItem*) _tmp190_));
	_g_object_unref0 (_tmp190_);
	gtk_menu_shell_append ((GtkMenuShell*) self->priv->songMenuActionMenu, (GtkWidget*) self->priv->songMenuQueue);
	gtk_menu_shell_append ((GtkMenuShell*) self->priv->songMenuActionMenu, (GtkWidget*) self->priv->songMenuNewPlaylist);
	gtk_menu_shell_append ((GtkMenuShell*) self->priv->songMenuActionMenu, (GtkWidget*) self->priv->songMenuAddToPlaylist);
	_tmp191_ = (GtkSeparatorMenuItem*) gtk_separator_menu_item_new ();
	_tmp192_ = g_object_ref_sink (_tmp191_);
	gtk_menu_shell_append ((GtkMenuShell*) self->priv->songMenuActionMenu, (GtkWidget*) ((GtkMenuItem*) _tmp192_));
	_g_object_unref0 (_tmp192_);
	gtk_menu_shell_append ((GtkMenuShell*) self->priv->songMenuActionMenu, (GtkWidget*) self->priv->songRemove);
	g_signal_connect_object (self->priv->songEditSong, "activate", (GCallback) _beat_box_music_tree_view_songMenuEditClicked_gtk_menu_item_activate, self, 0);
	g_signal_connect_object (self->priv->songFileBrowse, "activate", (GCallback) _beat_box_music_tree_view_songFileBrowseClicked_gtk_menu_item_activate, self, 0);
	g_signal_connect_object (self->priv->songMenuQueue, "activate", (GCallback) _beat_box_music_tree_view_songMenuQueueClicked_gtk_menu_item_activate, self, 0);
	g_signal_connect_object (self->priv->songMenuNewPlaylist, "activate", (GCallback) _beat_box_music_tree_view_songMenuNewPlaylistClicked_gtk_menu_item_activate, self, 0);
	g_signal_connect_object (self->priv->songRemove, "activate", (GCallback) _beat_box_music_tree_view_songRemoveClicked_gtk_menu_item_activate, self, 0);
	g_signal_connect_object (self->priv->songRateSong0, "activate", (GCallback) _beat_box_music_tree_view_songRateSong0Clicked_gtk_menu_item_activate, self, 0);
	g_signal_connect_object (self->priv->songRateSong1, "activate", (GCallback) _beat_box_music_tree_view_songRateSong1Clicked_gtk_menu_item_activate, self, 0);
	g_signal_connect_object (self->priv->songRateSong2, "activate", (GCallback) _beat_box_music_tree_view_songRateSong2Clicked_gtk_menu_item_activate, self, 0);
	g_signal_connect_object (self->priv->songRateSong3, "activate", (GCallback) _beat_box_music_tree_view_songRateSong3Clicked_gtk_menu_item_activate, self, 0);
	g_signal_connect_object (self->priv->songRateSong4, "activate", (GCallback) _beat_box_music_tree_view_songRateSong4Clicked_gtk_menu_item_activate, self, 0);
	g_signal_connect_object (self->priv->songRateSong5, "activate", (GCallback) _beat_box_music_tree_view_songRateSong5Clicked_gtk_menu_item_activate, self, 0);
	gtk_widget_show_all ((GtkWidget*) self->priv->songMenuActionMenu);
	beat_box_music_tree_view_updateSensitivities (self);
	gtk_scrolled_window_set_policy ((GtkScrolledWindow*) self, GTK_POLICY_AUTOMATIC, GTK_POLICY_AUTOMATIC);
	gtk_container_add ((GtkContainer*) self, (GtkWidget*) self->priv->view);
	g_signal_connect_object ((GtkTreeModel*) self->priv->sort, "rows-reordered", (GCallback) _beat_box_music_tree_view_modelRowsReordered_gtk_tree_model_rows_reordered, self, 0);
	g_signal_connect_object ((GtkTreeSortable*) self->priv->sort, "sort-column-changed", (GCallback) _beat_box_music_tree_view_sortColumnChanged_gtk_tree_sortable_sort_column_changed, self, 0);
	g_signal_connect_object ((GtkWidget*) self->priv->view, "drag-begin", (GCallback) _beat_box_music_tree_view_onDragBegin_gtk_widget_drag_begin, self, 0);
	g_signal_connect_object ((GtkWidget*) self->priv->view, "drag-data-get", (GCallback) _beat_box_music_tree_view_onDragDataGet_gtk_widget_drag_data_get, self, 0);
	g_signal_connect_object ((GtkWidget*) self->priv->view, "drag-end", (GCallback) _beat_box_music_tree_view_onDragEnd_gtk_widget_drag_end, self, 0);
	_tmp193_ = gtk_scrolled_window_get_vadjustment ((GtkScrolledWindow*) self);
	g_signal_connect_object (_tmp193_, "value-changed", (GCallback) _beat_box_music_tree_view_viewScroll_gtk_adjustment_value_changed, self, 0);
	g_signal_connect_object ((GtkEditable*) self->priv->lw->searchField, "changed", (GCallback) _beat_box_music_tree_view_searchFieldChanged_gtk_editable_changed, self, 0);
	_g_object_unref0 (to_use);
}


gint beat_box_music_tree_view_artistCompareFunc (BeatBoxMusicTreeView* self, GtkTreeModel* model, GtkTreeIter* a, GtkTreeIter* b) {
	gint result = 0;
	gint a_id = 0;
	gint b_id = 0;
	BeatBoxSong* a_song = NULL;
	BeatBoxSong* b_song = NULL;
	BeatBoxSong* _tmp0_ = NULL;
	BeatBoxSong* _tmp1_;
	BeatBoxSong* _tmp2_ = NULL;
	BeatBoxSong* _tmp3_;
	gboolean _tmp4_ = FALSE;
	gboolean _tmp5_ = FALSE;
	const gchar* _tmp6_ = NULL;
	gchar* _tmp7_ = NULL;
	gchar* _tmp8_;
	const gchar* _tmp9_ = NULL;
	gchar* _tmp10_ = NULL;
	gchar* _tmp11_;
	gboolean _tmp12_;
	g_return_val_if_fail (self != NULL, 0);
	g_return_val_if_fail (model != NULL, 0);
	gtk_tree_model_get (model, a, 0, &a_id, -1);
	gtk_tree_model_get (model, b, 0, &b_id, -1);
	_tmp0_ = beat_box_library_manager_song_from_id (self->priv->lm, a_id);
	_tmp1_ = _tmp0_;
	_g_object_unref0 (a_song);
	a_song = _tmp1_;
	_tmp2_ = beat_box_library_manager_song_from_id (self->priv->lm, b_id);
	_tmp3_ = _tmp2_;
	_g_object_unref0 (b_song);
	b_song = _tmp3_;
	_tmp6_ = beat_box_song_get_artist (a_song);
	_tmp7_ = g_utf8_strdown (_tmp6_, (gssize) (-1));
	_tmp8_ = _tmp7_;
	_tmp9_ = beat_box_song_get_artist (b_song);
	_tmp10_ = g_utf8_strdown (_tmp9_, (gssize) (-1));
	_tmp11_ = _tmp10_;
	if ((_tmp12_ = g_strcmp0 (_tmp8_, _tmp11_) == 0, _g_free0 (_tmp11_), _g_free0 (_tmp8_), _tmp12_)) {
		const gchar* _tmp13_ = NULL;
		gchar* _tmp14_ = NULL;
		gchar* _tmp15_;
		const gchar* _tmp16_ = NULL;
		gchar* _tmp17_ = NULL;
		gchar* _tmp18_;
		_tmp13_ = beat_box_song_get_album (a_song);
		_tmp14_ = g_utf8_strdown (_tmp13_, (gssize) (-1));
		_tmp15_ = _tmp14_;
		_tmp16_ = beat_box_song_get_album (b_song);
		_tmp17_ = g_utf8_strdown (_tmp16_, (gssize) (-1));
		_tmp18_ = _tmp17_;
		_tmp5_ = g_strcmp0 (_tmp15_, _tmp18_) == 0;
		_g_free0 (_tmp18_);
		_g_free0 (_tmp15_);
	} else {
		_tmp5_ = FALSE;
	}
	if (_tmp5_) {
		gint _tmp19_;
		gint _tmp20_;
		_tmp19_ = beat_box_song_get_track (a_song);
		_tmp20_ = beat_box_song_get_track (b_song);
		_tmp4_ = _tmp19_ == _tmp20_;
	} else {
		_tmp4_ = FALSE;
	}
	if (_tmp4_) {
		gint _tmp21_ = 0;
		const gchar* _tmp22_ = NULL;
		gchar* _tmp23_ = NULL;
		gchar* _tmp24_;
		const gchar* _tmp25_ = NULL;
		gchar* _tmp26_ = NULL;
		gchar* _tmp27_;
		gboolean _tmp28_;
		_tmp22_ = beat_box_song_get_file (a_song);
		_tmp23_ = g_utf8_strdown (_tmp22_, (gssize) (-1));
		_tmp24_ = _tmp23_;
		_tmp25_ = beat_box_song_get_file (b_song);
		_tmp26_ = g_utf8_strdown (_tmp25_, (gssize) (-1));
		_tmp27_ = _tmp26_;
		if ((_tmp28_ = g_strcmp0 (_tmp24_, _tmp27_) > 0, _g_free0 (_tmp27_), _g_free0 (_tmp24_), _tmp28_)) {
			_tmp21_ = 1;
		} else {
			_tmp21_ = -1;
		}
		result = _tmp21_;
		_g_object_unref0 (b_song);
		_g_object_unref0 (a_song);
		return result;
	} else {
		gboolean _tmp29_ = FALSE;
		const gchar* _tmp30_ = NULL;
		gchar* _tmp31_ = NULL;
		gchar* _tmp32_;
		const gchar* _tmp33_ = NULL;
		gchar* _tmp34_ = NULL;
		gchar* _tmp35_;
		gboolean _tmp36_;
		_tmp30_ = beat_box_song_get_artist (a_song);
		_tmp31_ = g_utf8_strdown (_tmp30_, (gssize) (-1));
		_tmp32_ = _tmp31_;
		_tmp33_ = beat_box_song_get_artist (b_song);
		_tmp34_ = g_utf8_strdown (_tmp33_, (gssize) (-1));
		_tmp35_ = _tmp34_;
		if ((_tmp36_ = g_strcmp0 (_tmp32_, _tmp35_) == 0, _g_free0 (_tmp35_), _g_free0 (_tmp32_), _tmp36_)) {
			const gchar* _tmp37_ = NULL;
			gchar* _tmp38_ = NULL;
			gchar* _tmp39_;
			const gchar* _tmp40_ = NULL;
			gchar* _tmp41_ = NULL;
			gchar* _tmp42_;
			_tmp37_ = beat_box_song_get_album (a_song);
			_tmp38_ = g_utf8_strdown (_tmp37_, (gssize) (-1));
			_tmp39_ = _tmp38_;
			_tmp40_ = beat_box_song_get_album (b_song);
			_tmp41_ = g_utf8_strdown (_tmp40_, (gssize) (-1));
			_tmp42_ = _tmp41_;
			_tmp29_ = g_strcmp0 (_tmp39_, _tmp42_) == 0;
			_g_free0 (_tmp42_);
			_g_free0 (_tmp39_);
		} else {
			_tmp29_ = FALSE;
		}
		if (_tmp29_) {
			gint _tmp43_;
			gint _tmp44_;
			_tmp43_ = beat_box_song_get_track (a_song);
			_tmp44_ = beat_box_song_get_track (b_song);
			result = _tmp43_ - _tmp44_;
			_g_object_unref0 (b_song);
			_g_object_unref0 (a_song);
			return result;
		} else {
			const gchar* _tmp45_ = NULL;
			gchar* _tmp46_ = NULL;
			gchar* _tmp47_;
			const gchar* _tmp48_ = NULL;
			gchar* _tmp49_ = NULL;
			gchar* _tmp50_;
			gboolean _tmp51_;
			_tmp45_ = beat_box_song_get_artist (a_song);
			_tmp46_ = g_utf8_strdown (_tmp45_, (gssize) (-1));
			_tmp47_ = _tmp46_;
			_tmp48_ = beat_box_song_get_artist (b_song);
			_tmp49_ = g_utf8_strdown (_tmp48_, (gssize) (-1));
			_tmp50_ = _tmp49_;
			if ((_tmp51_ = g_strcmp0 (_tmp47_, _tmp50_) == 0, _g_free0 (_tmp50_), _g_free0 (_tmp47_), _tmp51_)) {
				gint _tmp52_ = 0;
				const gchar* _tmp53_ = NULL;
				gchar* _tmp54_ = NULL;
				gchar* _tmp55_;
				const gchar* _tmp56_ = NULL;
				gchar* _tmp57_ = NULL;
				gchar* _tmp58_;
				gboolean _tmp59_;
				_tmp53_ = beat_box_song_get_album (a_song);
				_tmp54_ = g_utf8_strdown (_tmp53_, (gssize) (-1));
				_tmp55_ = _tmp54_;
				_tmp56_ = beat_box_song_get_album (b_song);
				_tmp57_ = g_utf8_strdown (_tmp56_, (gssize) (-1));
				_tmp58_ = _tmp57_;
				if ((_tmp59_ = g_strcmp0 (_tmp55_, _tmp58_) > 0, _g_free0 (_tmp58_), _g_free0 (_tmp55_), _tmp59_)) {
					_tmp52_ = 1;
				} else {
					_tmp52_ = -1;
				}
				result = _tmp52_;
				_g_object_unref0 (b_song);
				_g_object_unref0 (a_song);
				return result;
			} else {
				gint _tmp60_ = 0;
				const gchar* _tmp61_ = NULL;
				gchar* _tmp62_ = NULL;
				gchar* _tmp63_;
				const gchar* _tmp64_ = NULL;
				gchar* _tmp65_ = NULL;
				gchar* _tmp66_;
				gboolean _tmp67_;
				_tmp61_ = beat_box_song_get_artist (a_song);
				_tmp62_ = g_utf8_strdown (_tmp61_, (gssize) (-1));
				_tmp63_ = _tmp62_;
				_tmp64_ = beat_box_song_get_artist (b_song);
				_tmp65_ = g_utf8_strdown (_tmp64_, (gssize) (-1));
				_tmp66_ = _tmp65_;
				if ((_tmp67_ = g_strcmp0 (_tmp63_, _tmp66_) > 0, _g_free0 (_tmp66_), _g_free0 (_tmp63_), _tmp67_)) {
					_tmp60_ = 1;
				} else {
					_tmp60_ = -1;
				}
				result = _tmp60_;
				_g_object_unref0 (b_song);
				_g_object_unref0 (a_song);
				return result;
			}
		}
	}
	_g_object_unref0 (b_song);
	_g_object_unref0 (a_song);
}


static gboolean string_contains (const gchar* self, const gchar* needle) {
	gboolean result = FALSE;
	gchar* _tmp0_ = NULL;
	g_return_val_if_fail (self != NULL, FALSE);
	g_return_val_if_fail (needle != NULL, FALSE);
	_tmp0_ = strstr ((gchar*) self, (gchar*) needle);
	result = _tmp0_ != NULL;
	return result;
}


static gboolean _lambda9_ (BeatBoxMusicTreeView* self) {
	gboolean result = FALSE;
	gboolean _tmp0_ = FALSE;
	gboolean _tmp1_ = FALSE;
	gchar* _tmp2_ = NULL;
	gchar* _tmp3_;
	gpointer _tmp4_ = NULL;
	gchar* _tmp5_;
	gboolean _tmp6_;
	gtk_tree_view_set_model (self->priv->view, NULL);
	_tmp2_ = elementary_widgets_elementary_entry_get_text ((ElementaryWidgetsElementaryEntry*) self->priv->lw->searchField);
	_tmp3_ = _tmp2_;
	_tmp4_ = gee_deque_poll_tail ((GeeDeque*) self->priv->timeout_search);
	_tmp5_ = (gchar*) _tmp4_;
	if ((_tmp6_ = g_strcmp0 (_tmp3_, _tmp5_) == 0, _g_free0 (_tmp5_), _g_free0 (_tmp3_), _tmp6_)) {
		gchar* _tmp7_ = NULL;
		gchar* _tmp8_;
		_tmp7_ = elementary_widgets_elementary_entry_get_text ((ElementaryWidgetsElementaryEntry*) self->priv->lw->searchField);
		_tmp8_ = _tmp7_;
		_tmp1_ = g_strcmp0 (_tmp8_, self->priv->last_search) != 0;
		_g_free0 (_tmp8_);
	} else {
		_tmp1_ = FALSE;
	}
	if (_tmp1_) {
		gboolean _tmp9_ = FALSE;
		gchar* _tmp10_ = NULL;
		gchar* _tmp11_;
		gboolean _tmp12_;
		_tmp10_ = elementary_widgets_elementary_entry_get_text ((ElementaryWidgetsElementaryEntry*) self->priv->lw->searchField);
		_tmp11_ = _tmp10_;
		if ((_tmp12_ = g_strcmp0 (_tmp11_, "") == 0, _g_free0 (_tmp11_), _tmp12_)) {
			_tmp9_ = TRUE;
		} else {
			gchar* _tmp13_ = NULL;
			gchar* _tmp14_;
			_tmp13_ = elementary_widgets_elementary_entry_get_text ((ElementaryWidgetsElementaryEntry*) self->priv->lw->searchField);
			_tmp14_ = _tmp13_;
			_tmp9_ = g_strcmp0 (_tmp14_, ((ElementaryWidgetsElementaryEntry*) self->priv->lw->searchField)->hint_string) == 0;
			_g_free0 (_tmp14_);
		}
		_tmp0_ = !_tmp9_;
	} else {
		_tmp0_ = FALSE;
	}
	if (_tmp0_) {
		GtkTreeIter iter = {0};
		gchar* _tmp51_ = NULL;
		gchar* _tmp52_;
		{
			gint i;
			i = 0;
			{
				gboolean _tmp15_;
				_tmp15_ = TRUE;
				while (TRUE) {
					gchar* _tmp16_ = NULL;
					gchar* _tmp17_;
					GtkTreeIter _tmp18_ = {0};
					gboolean _tmp19_;
					gboolean _tmp20_;
					gint id = 0;
					BeatBoxSong* s = NULL;
					BeatBoxSong* _tmp21_ = NULL;
					BeatBoxSong* _tmp22_;
					gboolean show;
					gboolean _tmp23_ = FALSE;
					gboolean _tmp24_ = FALSE;
					gboolean _tmp25_ = FALSE;
					const gchar* _tmp26_ = NULL;
					gchar* _tmp27_ = NULL;
					gchar* _tmp28_;
					gchar* _tmp29_ = NULL;
					gchar* _tmp30_;
					gboolean _tmp31_;
					gboolean _tmp32_;
					if (!_tmp15_) {
						i = i + 1;
					}
					_tmp15_ = FALSE;
					_tmp16_ = g_strdup_printf ("%i", i);
					_tmp17_ = _tmp16_;
					_tmp19_ = gtk_tree_model_get_iter_from_string ((GtkTreeModel*) self->priv->model, &_tmp18_, _tmp17_);
					iter = _tmp18_;
					if ((_tmp20_ = !_tmp19_, _g_free0 (_tmp17_), _tmp20_)) {
						break;
					}
					gtk_tree_model_get ((GtkTreeModel*) self->priv->model, &iter, 0, &id, -1);
					_tmp21_ = beat_box_library_manager_song_from_id (self->priv->lm, id);
					_tmp22_ = _tmp21_;
					_g_object_unref0 (s);
					s = _tmp22_;
					show = FALSE;
					_tmp26_ = beat_box_song_get_title (s);
					_tmp27_ = g_utf8_strdown (_tmp26_, (gssize) (-1));
					_tmp28_ = _tmp27_;
					_tmp29_ = elementary_widgets_elementary_entry_get_text ((ElementaryWidgetsElementaryEntry*) self->priv->lw->searchField);
					_tmp30_ = _tmp29_;
					_tmp31_ = string_contains (_tmp28_, _tmp30_);
					if ((_tmp32_ = _tmp31_, _g_free0 (_tmp30_), _g_free0 (_tmp28_), _tmp32_)) {
						_tmp25_ = TRUE;
					} else {
						const gchar* _tmp33_ = NULL;
						gchar* _tmp34_ = NULL;
						gchar* _tmp35_;
						gchar* _tmp36_ = NULL;
						gchar* _tmp37_;
						gboolean _tmp38_;
						_tmp33_ = beat_box_song_get_artist (s);
						_tmp34_ = g_utf8_strdown (_tmp33_, (gssize) (-1));
						_tmp35_ = _tmp34_;
						_tmp36_ = elementary_widgets_elementary_entry_get_text ((ElementaryWidgetsElementaryEntry*) self->priv->lw->searchField);
						_tmp37_ = _tmp36_;
						_tmp38_ = string_contains (_tmp35_, _tmp37_);
						_tmp25_ = _tmp38_;
						_g_free0 (_tmp37_);
						_g_free0 (_tmp35_);
					}
					if (_tmp25_) {
						_tmp24_ = TRUE;
					} else {
						const gchar* _tmp39_ = NULL;
						gchar* _tmp40_ = NULL;
						gchar* _tmp41_;
						gchar* _tmp42_ = NULL;
						gchar* _tmp43_;
						gboolean _tmp44_;
						_tmp39_ = beat_box_song_get_album (s);
						_tmp40_ = g_utf8_strdown (_tmp39_, (gssize) (-1));
						_tmp41_ = _tmp40_;
						_tmp42_ = elementary_widgets_elementary_entry_get_text ((ElementaryWidgetsElementaryEntry*) self->priv->lw->searchField);
						_tmp43_ = _tmp42_;
						_tmp44_ = string_contains (_tmp41_, _tmp43_);
						_tmp24_ = _tmp44_;
						_g_free0 (_tmp43_);
						_g_free0 (_tmp41_);
					}
					if (_tmp24_) {
						_tmp23_ = TRUE;
					} else {
						const gchar* _tmp45_ = NULL;
						gchar* _tmp46_ = NULL;
						gchar* _tmp47_;
						gchar* _tmp48_ = NULL;
						gchar* _tmp49_;
						gboolean _tmp50_;
						_tmp45_ = beat_box_song_get_genre (s);
						_tmp46_ = g_utf8_strdown (_tmp45_, (gssize) (-1));
						_tmp47_ = _tmp46_;
						_tmp48_ = elementary_widgets_elementary_entry_get_text ((ElementaryWidgetsElementaryEntry*) self->priv->lw->searchField);
						_tmp49_ = _tmp48_;
						_tmp50_ = string_contains (_tmp47_, _tmp49_);
						_tmp23_ = _tmp50_;
						_g_free0 (_tmp49_);
						_g_free0 (_tmp47_);
					}
					if (_tmp23_) {
						show = TRUE;
					}
					gtk_list_store_set (self->priv->model, &iter, 1, show, -1);
					_g_object_unref0 (s);
				}
			}
		}
		_tmp51_ = elementary_widgets_elementary_entry_get_text ((ElementaryWidgetsElementaryEntry*) self->priv->lw->searchField);
		_tmp52_ = _tmp51_;
		_g_free0 (self->priv->last_search);
		self->priv->last_search = _tmp52_;
	} else {
		gboolean _tmp53_ = FALSE;
		gchar* _tmp54_ = NULL;
		gchar* _tmp55_;
		gboolean _tmp56_;
		_tmp54_ = elementary_widgets_elementary_entry_get_text ((ElementaryWidgetsElementaryEntry*) self->priv->lw->searchField);
		_tmp55_ = _tmp54_;
		if ((_tmp56_ = g_strcmp0 (_tmp55_, self->priv->last_search) != 0, _g_free0 (_tmp55_), _tmp56_)) {
			gboolean _tmp57_ = FALSE;
			gchar* _tmp58_ = NULL;
			gchar* _tmp59_;
			gboolean _tmp60_;
			_tmp58_ = elementary_widgets_elementary_entry_get_text ((ElementaryWidgetsElementaryEntry*) self->priv->lw->searchField);
			_tmp59_ = _tmp58_;
			if ((_tmp60_ = g_strcmp0 (_tmp59_, "") == 0, _g_free0 (_tmp59_), _tmp60_)) {
				_tmp57_ = TRUE;
			} else {
				gchar* _tmp61_ = NULL;
				gchar* _tmp62_;
				_tmp61_ = elementary_widgets_elementary_entry_get_text ((ElementaryWidgetsElementaryEntry*) self->priv->lw->searchField);
				_tmp62_ = _tmp61_;
				_tmp57_ = g_strcmp0 (_tmp62_, ((ElementaryWidgetsElementaryEntry*) self->priv->lw->searchField)->hint_string) == 0;
				_g_free0 (_tmp62_);
			}
			_tmp53_ = _tmp57_;
		} else {
			_tmp53_ = FALSE;
		}
		if (_tmp53_) {
			GtkTreeIter iter = {0};
			gchar* _tmp69_ = NULL;
			gchar* _tmp70_;
			{
				gint i;
				i = 0;
				{
					gboolean _tmp63_;
					_tmp63_ = TRUE;
					while (TRUE) {
						gchar* _tmp64_ = NULL;
						gchar* _tmp65_;
						GtkTreeIter _tmp66_ = {0};
						gboolean _tmp67_;
						gboolean _tmp68_;
						if (!_tmp63_) {
							i = i + 1;
						}
						_tmp63_ = FALSE;
						_tmp64_ = g_strdup_printf ("%i", i);
						_tmp65_ = _tmp64_;
						_tmp67_ = gtk_tree_model_get_iter_from_string ((GtkTreeModel*) self->priv->model, &_tmp66_, _tmp65_);
						iter = _tmp66_;
						if ((_tmp68_ = !_tmp67_, _g_free0 (_tmp65_), _tmp68_)) {
							break;
						}
						gtk_list_store_set (self->priv->model, &iter, 1, TRUE, -1);
					}
				}
			}
			_tmp69_ = elementary_widgets_elementary_entry_get_text ((ElementaryWidgetsElementaryEntry*) self->priv->lw->searchField);
			_tmp70_ = _tmp69_;
			_g_free0 (self->priv->last_search);
			self->priv->last_search = _tmp70_;
		}
	}
	gtk_tree_view_set_model (self->priv->view, (GtkTreeModel*) self->priv->sort);
	if (!self->priv->scrolled_recently) {
		beat_box_music_tree_view_scrollToCurrent (self);
	}
	result = FALSE;
	return result;
}


static gboolean __lambda9__gsource_func (gpointer self) {
	gboolean result;
	result = _lambda9_ (self);
	return result;
}


static void beat_box_music_tree_view_real_searchFieldChanged (BeatBoxMusicTreeView* self) {
	g_return_if_fail (self != NULL);
	if (self->is_current_view) {
		gchar* _tmp0_ = NULL;
		gchar* _tmp1_;
		_tmp0_ = elementary_widgets_elementary_entry_get_text ((ElementaryWidgetsElementaryEntry*) self->priv->lw->searchField);
		_tmp1_ = _tmp0_;
		gee_deque_offer_head ((GeeDeque*) self->priv->timeout_search, _tmp1_);
		_g_free0 (_tmp1_);
		g_timeout_add_full (G_PRIORITY_DEFAULT, (guint) 200, __lambda9__gsource_func, g_object_ref (self), g_object_unref);
	}
}


void beat_box_music_tree_view_searchFieldChanged (BeatBoxMusicTreeView* self) {
	BEAT_BOX_MUSIC_TREE_VIEW_GET_CLASS (self)->searchFieldChanged (self);
}


static void beat_box_music_tree_view_real_sortColumnChanged (BeatBoxMusicTreeView* self) {
	g_return_if_fail (self != NULL);
	beat_box_music_tree_view_updateTreeViewSetup (self);
}


void beat_box_music_tree_view_sortColumnChanged (BeatBoxMusicTreeView* self) {
	BEAT_BOX_MUSIC_TREE_VIEW_GET_CLASS (self)->sortColumnChanged (self);
}


static void beat_box_music_tree_view_real_modelRowsReordered (BeatBoxMusicTreeView* self, GtkTreePath* path, GtkTreeIter* iter, void* new_order) {
	g_return_if_fail (self != NULL);
	g_return_if_fail (path != NULL);
	if (self->is_current) {
		const gchar* _tmp0_ = NULL;
		if (self->priv->lm->song_info->song != NULL) {
			gint _tmp1_;
			gpointer _tmp2_ = NULL;
			GtkTreeRowReference* _tmp3_;
			GtkTreePath* _tmp4_ = NULL;
			GtkTreePath* _tmp5_;
			const gchar* _tmp6_ = NULL;
			_tmp1_ = beat_box_song_get_rowid (self->priv->lm->song_info->song);
			_tmp2_ = gee_abstract_map_get ((GeeAbstractMap*) self->priv->_rows, GINT_TO_POINTER (_tmp1_));
			_tmp3_ = (GtkTreeRowReference*) _tmp2_;
			_tmp4_ = gtk_tree_row_reference_get_path (_tmp3_);
			_tmp5_ = _tmp4_;
			_tmp6_ = gtk_tree_path_to_string (_tmp5_);
			_tmp0_ = _tmp6_;
			_gtk_tree_path_free0 (_tmp5_);
			_gtk_tree_row_reference_free0 (_tmp3_);
		} else {
			_tmp0_ = "0";
		}
		beat_box_music_tree_view_setAsCurrentList (self, _tmp0_);
	}
}


void beat_box_music_tree_view_modelRowsReordered (BeatBoxMusicTreeView* self, GtkTreePath* path, GtkTreeIter* iter, void* new_order) {
	BEAT_BOX_MUSIC_TREE_VIEW_GET_CLASS (self)->modelRowsReordered (self, path, iter, new_order);
}


static void beat_box_music_tree_view_real_viewColumnsChanged (BeatBoxMusicTreeView* self) {
	GList* _tmp0_ = NULL;
	GList* _tmp1_;
	guint _tmp2_;
	gboolean _tmp3_;
	gint _tmp4_;
	g_return_if_fail (self != NULL);
	_tmp0_ = gtk_tree_view_get_columns (self->priv->view);
	_tmp1_ = _tmp0_;
	_tmp2_ = g_list_length (_tmp1_);
	if ((_tmp3_ = ((gint) _tmp2_) != BEAT_BOX_DATA_BASE_MANAGER_COLUMN_COUNT, _g_list_free0 (_tmp1_), _tmp3_)) {
		return;
	}
	_tmp4_ = gee_collection_get_size ((GeeCollection*) self->priv->_columns);
	if (_tmp4_ == 0) {
		GList* _tmp5_ = NULL;
		gee_abstract_collection_clear ((GeeAbstractCollection*) self->priv->_columns);
		_tmp5_ = gtk_tree_view_get_columns (self->priv->view);
		{
			GList* tvc_collection;
			GList* tvc_it;
			tvc_collection = _tmp5_;
			for (tvc_it = tvc_collection; tvc_it != NULL; tvc_it = tvc_it->next) {
				GtkTreeViewColumn* _tmp6_;
				GtkTreeViewColumn* tvc;
				_tmp6_ = _g_object_ref0 ((GtkTreeViewColumn*) tvc_it->data);
				tvc = _tmp6_;
				{
					const gchar* _tmp7_ = NULL;
					_tmp7_ = gtk_tree_view_column_get_title (tvc);
					gee_abstract_collection_add ((GeeAbstractCollection*) self->priv->_columns, _tmp7_);
					_g_object_unref0 (tvc);
				}
			}
			_g_list_free0 (tvc_collection);
		}
	}
	beat_box_music_tree_view_updateTreeViewSetup (self);
}


void beat_box_music_tree_view_viewColumnsChanged (BeatBoxMusicTreeView* self) {
	BEAT_BOX_MUSIC_TREE_VIEW_GET_CLASS (self)->viewColumnsChanged (self);
}


void beat_box_music_tree_view_intelligentTreeViewFiller (BeatBoxMusicTreeView* self, GtkTreeViewColumn* tvc, GtkCellRenderer* cell, GtkTreeModel* tree_model, GtkTreeIter* iter) {
	gboolean _tmp0_ = FALSE;
	gboolean _tmp1_ = FALSE;
	gboolean _tmp2_ = FALSE;
	gboolean _tmp3_ = FALSE;
	const gchar* _tmp4_ = NULL;
	g_return_if_fail (self != NULL);
	g_return_if_fail (tvc != NULL);
	g_return_if_fail (cell != NULL);
	g_return_if_fail (tree_model != NULL);
	if (self->removing_songs) {
		return;
	}
	_tmp4_ = gtk_tree_view_column_get_title (tvc);
	if (g_strcmp0 (_tmp4_, "Track") == 0) {
		_tmp3_ = TRUE;
	} else {
		const gchar* _tmp5_ = NULL;
		_tmp5_ = gtk_tree_view_column_get_title (tvc);
		_tmp3_ = g_strcmp0 (_tmp5_, "Year") == 0;
	}
	if (_tmp3_) {
		_tmp2_ = TRUE;
	} else {
		const gchar* _tmp6_ = NULL;
		_tmp6_ = gtk_tree_view_column_get_title (tvc);
		_tmp2_ = g_strcmp0 (_tmp6_, "#") == 0;
	}
	if (_tmp2_) {
		_tmp1_ = TRUE;
	} else {
		const gchar* _tmp7_ = NULL;
		_tmp7_ = gtk_tree_view_column_get_title (tvc);
		_tmp1_ = g_strcmp0 (_tmp7_, "Plays") == 0;
	}
	if (_tmp1_) {
		_tmp0_ = TRUE;
	} else {
		const gchar* _tmp8_ = NULL;
		_tmp8_ = gtk_tree_view_column_get_title (tvc);
		_tmp0_ = g_strcmp0 (_tmp8_, "Skips") == 0;
	}
	if (_tmp0_) {
		gint val = 0;
		gint _tmp9_;
		_tmp9_ = gtk_tree_view_column_get_sort_column_id (tvc);
		gtk_tree_model_get (tree_model, iter, _tmp9_, &val, -1);
		if (val <= 0) {
			g_object_set (GTK_CELL_RENDERER_TEXT (cell), "text", "", NULL);
		} else {
			gchar* _tmp10_ = NULL;
			gchar* _tmp11_;
			_tmp10_ = g_strdup_printf ("%i", val);
			_tmp11_ = _tmp10_;
			g_object_set (GTK_CELL_RENDERER_TEXT (cell), "text", _tmp11_, NULL);
			_g_free0 (_tmp11_);
		}
	} else {
		const gchar* _tmp12_ = NULL;
		_tmp12_ = gtk_tree_view_column_get_title (tvc);
		if (g_strcmp0 (_tmp12_, "Bitrate") == 0) {
			gint val = 0;
			gint _tmp13_;
			_tmp13_ = gtk_tree_view_column_get_sort_column_id (tvc);
			gtk_tree_model_get (tree_model, iter, _tmp13_, &val, -1);
			if (val <= 0) {
				g_object_set (GTK_CELL_RENDERER_TEXT (cell), "text", "", NULL);
			} else {
				gchar* _tmp14_ = NULL;
				gchar* _tmp15_;
				gchar* _tmp16_;
				_tmp14_ = g_strdup_printf ("%i", val);
				_tmp15_ = _tmp14_;
				_tmp16_ = g_strconcat (_tmp15_, " kbps", NULL);
				g_object_set (GTK_CELL_RENDERER_TEXT (cell), "text", _tmp16_, NULL);
				_g_free0 (_tmp16_);
				_g_free0 (_tmp15_);
			}
		}
	}
}


void beat_box_music_tree_view_ratingsCellDataFunction (BeatBoxMusicTreeView* self, GtkCellLayout* cell_layout, GtkCellRenderer* cell, GtkTreeModel* tree_model, GtkTreeIter* iter) {
	gint rating;
	gint _tmp0_;
	GList* _tmp1_ = NULL;
	GList* _tmp2_;
	gint _tmp3_;
	gboolean _tmp4_;
	g_return_if_fail (self != NULL);
	g_return_if_fail (cell_layout != NULL);
	g_return_if_fail (cell != NULL);
	g_return_if_fail (tree_model != NULL);
	if (self->removing_songs) {
		return;
	}
	rating = 0;
	_tmp0_ = gee_abstract_list_index_of ((GeeAbstractList*) self->priv->_columns, "Rating");
	gtk_tree_model_get (tree_model, iter, _tmp0_, &rating, -1);
	_tmp1_ = gtk_cell_layout_get_cells (cell_layout);
	_tmp2_ = _tmp1_;
	_tmp3_ = g_list_index (_tmp2_, cell);
	if ((_tmp4_ = _tmp3_ < rating, _g_list_free0 (_tmp2_), _tmp4_)) {
		g_object_set (GTK_CELL_RENDERER_PIXBUF (cell), "pixbuf", self->priv->starred, NULL);
	} else {
		GtkTreeSelection* _tmp5_ = NULL;
		gboolean _tmp6_;
		_tmp5_ = gtk_tree_view_get_selection (self->priv->view);
		_tmp6_ = gtk_tree_selection_iter_is_selected (_tmp5_, iter);
		if (_tmp6_) {
			g_object_set (GTK_CELL_RENDERER_PIXBUF (cell), "pixbuf", self->priv->not_starred, NULL);
		} else {
			g_object_set (GTK_CELL_RENDERER_PIXBUF (cell), "pixbuf", NULL, NULL);
		}
	}
}


void beat_box_music_tree_view_updateColumnVisibilities (BeatBoxMusicTreeView* self) {
	gint index;
	GList* _tmp0_ = NULL;
	g_return_if_fail (self != NULL);
	index = 0;
	_tmp0_ = gtk_tree_view_get_columns (self->priv->view);
	{
		GList* tvc_collection;
		GList* tvc_it;
		tvc_collection = _tmp0_;
		for (tvc_it = tvc_collection; tvc_it != NULL; tvc_it = tvc_it->next) {
			GtkTreeViewColumn* _tmp1_;
			GtkTreeViewColumn* tvc;
			_tmp1_ = _g_object_ref0 ((GtkTreeViewColumn*) tvc_it->data);
			tvc = _tmp1_;
			{
				const gchar* _tmp2_ = NULL;
				_tmp2_ = gtk_tree_view_column_get_title (tvc);
				if (g_strcmp0 (_tmp2_, "#") == 0) {
					GtkTreeViewColumn* _tmp3_ = NULL;
					gboolean _tmp4_;
					_tmp3_ = gtk_tree_view_get_column (self->priv->view, index);
					_tmp4_ = gtk_tree_view_column_get_visible (_tmp3_);
					gtk_check_menu_item_set_active (self->priv->columnNumber, _tmp4_);
				} else {
					const gchar* _tmp5_ = NULL;
					_tmp5_ = gtk_tree_view_column_get_title (tvc);
					if (g_strcmp0 (_tmp5_, "Track") == 0) {
						GtkTreeViewColumn* _tmp6_ = NULL;
						gboolean _tmp7_;
						_tmp6_ = gtk_tree_view_get_column (self->priv->view, index);
						_tmp7_ = gtk_tree_view_column_get_visible (_tmp6_);
						gtk_check_menu_item_set_active (self->priv->columnTrack, _tmp7_);
					} else {
						const gchar* _tmp8_ = NULL;
						_tmp8_ = gtk_tree_view_column_get_title (tvc);
						if (g_strcmp0 (_tmp8_, "Title") == 0) {
							GtkTreeViewColumn* _tmp9_ = NULL;
							gboolean _tmp10_;
							_tmp9_ = gtk_tree_view_get_column (self->priv->view, index);
							_tmp10_ = gtk_tree_view_column_get_visible (_tmp9_);
							gtk_check_menu_item_set_active (self->priv->columnTitle, _tmp10_);
						} else {
							const gchar* _tmp11_ = NULL;
							_tmp11_ = gtk_tree_view_column_get_title (tvc);
							if (g_strcmp0 (_tmp11_, "Length") == 0) {
								GtkTreeViewColumn* _tmp12_ = NULL;
								gboolean _tmp13_;
								_tmp12_ = gtk_tree_view_get_column (self->priv->view, index);
								_tmp13_ = gtk_tree_view_column_get_visible (_tmp12_);
								gtk_check_menu_item_set_active (self->priv->columnLength, _tmp13_);
							} else {
								const gchar* _tmp14_ = NULL;
								_tmp14_ = gtk_tree_view_column_get_title (tvc);
								if (g_strcmp0 (_tmp14_, "Artist") == 0) {
									GtkTreeViewColumn* _tmp15_ = NULL;
									gboolean _tmp16_;
									_tmp15_ = gtk_tree_view_get_column (self->priv->view, index);
									_tmp16_ = gtk_tree_view_column_get_visible (_tmp15_);
									gtk_check_menu_item_set_active (self->priv->columnArtist, _tmp16_);
								} else {
									const gchar* _tmp17_ = NULL;
									_tmp17_ = gtk_tree_view_column_get_title (tvc);
									if (g_strcmp0 (_tmp17_, "Album") == 0) {
										GtkTreeViewColumn* _tmp18_ = NULL;
										gboolean _tmp19_;
										_tmp18_ = gtk_tree_view_get_column (self->priv->view, index);
										_tmp19_ = gtk_tree_view_column_get_visible (_tmp18_);
										gtk_check_menu_item_set_active (self->priv->columnAlbum, _tmp19_);
									} else {
										const gchar* _tmp20_ = NULL;
										_tmp20_ = gtk_tree_view_column_get_title (tvc);
										if (g_strcmp0 (_tmp20_, "Genre") == 0) {
											GtkTreeViewColumn* _tmp21_ = NULL;
											gboolean _tmp22_;
											_tmp21_ = gtk_tree_view_get_column (self->priv->view, index);
											_tmp22_ = gtk_tree_view_column_get_visible (_tmp21_);
											gtk_check_menu_item_set_active (self->priv->columnGenre, _tmp22_);
										} else {
											const gchar* _tmp23_ = NULL;
											_tmp23_ = gtk_tree_view_column_get_title (tvc);
											if (g_strcmp0 (_tmp23_, "Year") == 0) {
												GtkTreeViewColumn* _tmp24_ = NULL;
												gboolean _tmp25_;
												_tmp24_ = gtk_tree_view_get_column (self->priv->view, index);
												_tmp25_ = gtk_tree_view_column_get_visible (_tmp24_);
												gtk_check_menu_item_set_active (self->priv->columnYear, _tmp25_);
											} else {
												const gchar* _tmp26_ = NULL;
												_tmp26_ = gtk_tree_view_column_get_title (tvc);
												if (g_strcmp0 (_tmp26_, "Bitrate") == 0) {
													GtkTreeViewColumn* _tmp27_ = NULL;
													gboolean _tmp28_;
													_tmp27_ = gtk_tree_view_get_column (self->priv->view, index);
													_tmp28_ = gtk_tree_view_column_get_visible (_tmp27_);
													gtk_check_menu_item_set_active (self->priv->columnBitRate, _tmp28_);
												} else {
													const gchar* _tmp29_ = NULL;
													_tmp29_ = gtk_tree_view_column_get_title (tvc);
													if (g_strcmp0 (_tmp29_, "Rating") == 0) {
														GtkTreeViewColumn* _tmp30_ = NULL;
														gboolean _tmp31_;
														_tmp30_ = gtk_tree_view_get_column (self->priv->view, index);
														_tmp31_ = gtk_tree_view_column_get_visible (_tmp30_);
														gtk_check_menu_item_set_active (self->priv->columnRating, _tmp31_);
													} else {
														const gchar* _tmp32_ = NULL;
														_tmp32_ = gtk_tree_view_column_get_title (tvc);
														if (g_strcmp0 (_tmp32_, "Plays") == 0) {
															GtkTreeViewColumn* _tmp33_ = NULL;
															gboolean _tmp34_;
															_tmp33_ = gtk_tree_view_get_column (self->priv->view, index);
															_tmp34_ = gtk_tree_view_column_get_visible (_tmp33_);
															gtk_check_menu_item_set_active (self->priv->columnPlayCount, _tmp34_);
														} else {
															const gchar* _tmp35_ = NULL;
															_tmp35_ = gtk_tree_view_column_get_title (tvc);
															if (g_strcmp0 (_tmp35_, "Skips") == 0) {
																GtkTreeViewColumn* _tmp36_ = NULL;
																gboolean _tmp37_;
																_tmp36_ = gtk_tree_view_get_column (self->priv->view, index);
																_tmp37_ = gtk_tree_view_column_get_visible (_tmp36_);
																gtk_check_menu_item_set_active (self->priv->columnSkipCount, _tmp37_);
															} else {
																const gchar* _tmp38_ = NULL;
																_tmp38_ = gtk_tree_view_column_get_title (tvc);
																if (g_strcmp0 (_tmp38_, "Date Added") == 0) {
																	GtkTreeViewColumn* _tmp39_ = NULL;
																	gboolean _tmp40_;
																	_tmp39_ = gtk_tree_view_get_column (self->priv->view, index);
																	_tmp40_ = gtk_tree_view_column_get_visible (_tmp39_);
																	gtk_check_menu_item_set_active (self->priv->columnDateAdded, _tmp40_);
																} else {
																	const gchar* _tmp41_ = NULL;
																	_tmp41_ = gtk_tree_view_column_get_title (tvc);
																	if (g_strcmp0 (_tmp41_, "Last Played") == 0) {
																		GtkTreeViewColumn* _tmp42_ = NULL;
																		gboolean _tmp43_;
																		_tmp42_ = gtk_tree_view_get_column (self->priv->view, index);
																		_tmp43_ = gtk_tree_view_column_get_visible (_tmp42_);
																		gtk_check_menu_item_set_active (self->priv->columnLastPlayed, _tmp43_);
																	} else {
																		const gchar* _tmp44_ = NULL;
																		_tmp44_ = gtk_tree_view_column_get_title (tvc);
																		if (g_strcmp0 (_tmp44_, "BPM") == 0) {
																			GtkTreeViewColumn* _tmp45_ = NULL;
																			gboolean _tmp46_;
																			_tmp45_ = gtk_tree_view_get_column (self->priv->view, index);
																			_tmp46_ = gtk_tree_view_column_get_visible (_tmp45_);
																			gtk_check_menu_item_set_active (self->priv->columnBPM, _tmp46_);
																		}
																	}
																}
															}
														}
													}
												}
											}
										}
									}
								}
							}
						}
					}
				}
				index = index + 1;
				_g_object_unref0 (tvc);
			}
		}
		_g_list_free0 (tvc_collection);
	}
}


GType* beat_box_music_tree_view_getColumnTypes (BeatBoxMusicTreeView* self, int* result_length1) {
	GType* result = NULL;
	GType* _tmp0_ = NULL;
	GType* types;
	gint types_length1;
	gint _types_size_;
	gint index;
	GList* _tmp1_ = NULL;
	GType* _tmp21_;
	g_return_val_if_fail (self != NULL, NULL);
	_tmp0_ = g_new0 (GType, BEAT_BOX_DATA_BASE_MANAGER_COLUMN_COUNT);
	types = _tmp0_;
	types_length1 = BEAT_BOX_DATA_BASE_MANAGER_COLUMN_COUNT;
	_types_size_ = BEAT_BOX_DATA_BASE_MANAGER_COLUMN_COUNT;
	index = 0;
	_tmp1_ = gtk_tree_view_get_columns (self->priv->view);
	{
		GList* tvc_collection;
		GList* tvc_it;
		tvc_collection = _tmp1_;
		for (tvc_it = tvc_collection; tvc_it != NULL; tvc_it = tvc_it->next) {
			GtkTreeViewColumn* _tmp2_;
			GtkTreeViewColumn* tvc;
			_tmp2_ = _g_object_ref0 ((GtkTreeViewColumn*) tvc_it->data);
			tvc = _tmp2_;
			{
				const gchar* _tmp3_ = NULL;
				_tmp3_ = gtk_tree_view_column_get_title (tvc);
				if (g_strcmp0 (_tmp3_, "id") == 0) {
					types[index] = G_TYPE_INT;
				} else {
					const gchar* _tmp4_ = NULL;
					_tmp4_ = gtk_tree_view_column_get_title (tvc);
					if (g_strcmp0 (_tmp4_, "visible") == 0) {
						types[index] = G_TYPE_BOOLEAN;
					} else {
						const gchar* _tmp5_ = NULL;
						_tmp5_ = gtk_tree_view_column_get_title (tvc);
						if (g_strcmp0 (_tmp5_, " ") == 0) {
							types[index] = GDK_TYPE_PIXBUF;
						} else {
							const gchar* _tmp6_ = NULL;
							_tmp6_ = gtk_tree_view_column_get_title (tvc);
							if (g_strcmp0 (_tmp6_, "#") == 0) {
								types[index] = G_TYPE_INT;
							} else {
								const gchar* _tmp7_ = NULL;
								_tmp7_ = gtk_tree_view_column_get_title (tvc);
								if (g_strcmp0 (_tmp7_, "Track") == 0) {
									types[index] = G_TYPE_INT;
								} else {
									const gchar* _tmp8_ = NULL;
									_tmp8_ = gtk_tree_view_column_get_title (tvc);
									if (g_strcmp0 (_tmp8_, "Title") == 0) {
										types[index] = G_TYPE_STRING;
									} else {
										const gchar* _tmp9_ = NULL;
										_tmp9_ = gtk_tree_view_column_get_title (tvc);
										if (g_strcmp0 (_tmp9_, "Length") == 0) {
											types[index] = G_TYPE_STRING;
										} else {
											const gchar* _tmp10_ = NULL;
											_tmp10_ = gtk_tree_view_column_get_title (tvc);
											if (g_strcmp0 (_tmp10_, "Artist") == 0) {
												types[index] = G_TYPE_STRING;
											} else {
												const gchar* _tmp11_ = NULL;
												_tmp11_ = gtk_tree_view_column_get_title (tvc);
												if (g_strcmp0 (_tmp11_, "Album") == 0) {
													types[index] = G_TYPE_STRING;
												} else {
													const gchar* _tmp12_ = NULL;
													_tmp12_ = gtk_tree_view_column_get_title (tvc);
													if (g_strcmp0 (_tmp12_, "Genre") == 0) {
														types[index] = G_TYPE_STRING;
													} else {
														const gchar* _tmp13_ = NULL;
														_tmp13_ = gtk_tree_view_column_get_title (tvc);
														if (g_strcmp0 (_tmp13_, "Year") == 0) {
															types[index] = G_TYPE_INT;
														} else {
															const gchar* _tmp14_ = NULL;
															_tmp14_ = gtk_tree_view_column_get_title (tvc);
															if (g_strcmp0 (_tmp14_, "Bitrate") == 0) {
																types[index] = G_TYPE_INT;
															} else {
																const gchar* _tmp15_ = NULL;
																_tmp15_ = gtk_tree_view_column_get_title (tvc);
																if (g_strcmp0 (_tmp15_, "Rating") == 0) {
																	types[index] = G_TYPE_INT;
																} else {
																	const gchar* _tmp16_ = NULL;
																	_tmp16_ = gtk_tree_view_column_get_title (tvc);
																	if (g_strcmp0 (_tmp16_, "Plays") == 0) {
																		types[index] = G_TYPE_INT;
																	} else {
																		const gchar* _tmp17_ = NULL;
																		_tmp17_ = gtk_tree_view_column_get_title (tvc);
																		if (g_strcmp0 (_tmp17_, "Skips") == 0) {
																			types[index] = G_TYPE_INT;
																		} else {
																			const gchar* _tmp18_ = NULL;
																			_tmp18_ = gtk_tree_view_column_get_title (tvc);
																			if (g_strcmp0 (_tmp18_, "Date Added") == 0) {
																				types[index] = G_TYPE_STRING;
																			} else {
																				const gchar* _tmp19_ = NULL;
																				_tmp19_ = gtk_tree_view_column_get_title (tvc);
																				if (g_strcmp0 (_tmp19_, "Last Played") == 0) {
																					types[index] = G_TYPE_STRING;
																				} else {
																					const gchar* _tmp20_ = NULL;
																					_tmp20_ = gtk_tree_view_column_get_title (tvc);
																					if (g_strcmp0 (_tmp20_, "BPM") == 0) {
																						types[index] = G_TYPE_INT;
																					}
																				}
																			}
																		}
																	}
																}
															}
														}
													}
												}
											}
										}
									}
								}
							}
						}
					}
				}
				index = index + 1;
				_g_object_unref0 (tvc);
			}
		}
		_g_list_free0 (tvc_collection);
	}
	_tmp21_ = types;
	*result_length1 = types_length1;
	result = _tmp21_;
	return result;
}


void beat_box_music_tree_view_populateView (BeatBoxMusicTreeView* self, GeeCollection* songs, gboolean is_search) {
	g_return_if_fail (self != NULL);
	g_return_if_fail (songs != NULL);
	gtk_widget_freeze_child_notify ((GtkWidget*) self->priv->view);
	gtk_tree_view_set_model (self->priv->view, NULL);
	if (!is_search) {
		gtk_list_store_clear (self->priv->model);
		gee_abstract_map_clear ((GeeAbstractMap*) self->priv->_rows);
		{
			GeeIterator* _tmp0_ = NULL;
			GeeIterator* _i_it;
			_tmp0_ = gee_iterable_iterator ((GeeIterable*) songs);
			_i_it = _tmp0_;
			while (TRUE) {
				gboolean _tmp1_;
				gpointer _tmp2_ = NULL;
				gint i;
				BeatBoxSong* _tmp3_ = NULL;
				BeatBoxSong* _tmp4_;
				GtkTreeIter* _tmp5_ = NULL;
				GtkTreeIter* _tmp6_;
				_tmp1_ = gee_iterator_next (_i_it);
				if (!_tmp1_) {
					break;
				}
				_tmp2_ = gee_iterator_get (_i_it);
				i = GPOINTER_TO_INT (_tmp2_);
				_tmp3_ = beat_box_library_manager_song_from_id (self->priv->lm, i);
				_tmp4_ = _tmp3_;
				_tmp5_ = beat_box_music_tree_view_addSong (self, _tmp4_);
				_tmp6_ = _tmp5_;
				_g_free0 (_tmp6_);
				_g_object_unref0 (_tmp4_);
			}
			_g_object_unref0 (_i_it);
		}
	}
	gtk_tree_view_set_model (self->priv->view, (GtkTreeModel*) self->priv->sort);
	gtk_widget_thaw_child_notify ((GtkWidget*) self->priv->view);
}


static GtkTreeIter* _gtk_tree_iter_dup (GtkTreeIter* self) {
	GtkTreeIter* dup;
	dup = g_new0 (GtkTreeIter, 1);
	memcpy (dup, self, sizeof (GtkTreeIter));
	return dup;
}


static gpointer __gtk_tree_iter_dup0 (gpointer self) {
	return self ? _gtk_tree_iter_dup (self) : NULL;
}


GtkTreeIter* beat_box_music_tree_view_addSong (BeatBoxMusicTreeView* self, BeatBoxSong* s) {
	GtkTreeIter* result = NULL;
	GtkTreeIter item = {0};
	GtkTreeIter _tmp0_ = {0};
	gint _tmp1_;
	GtkTreePath* _tmp2_ = NULL;
	GtkTreePath* _tmp3_;
	GtkTreeRowReference* _tmp4_ = NULL;
	GtkTreeRowReference* _tmp5_;
	GdkPixbuf* _tmp6_ = NULL;
	gboolean _tmp7_ = FALSE;
	gboolean _tmp8_ = FALSE;
	gint _tmp14_;
	gint _tmp15_;
	gint _tmp16_;
	gint _tmp17_;
	gint _tmp18_;
	gint _tmp19_;
	gint _tmp20_;
	gint _tmp21_;
	gint _tmp22_;
	const gchar* _tmp23_ = NULL;
	gint _tmp24_;
	gchar* _tmp25_ = NULL;
	gchar* _tmp26_;
	gint _tmp27_;
	const gchar* _tmp28_ = NULL;
	gint _tmp29_;
	const gchar* _tmp30_ = NULL;
	gint _tmp31_;
	const gchar* _tmp32_ = NULL;
	gint _tmp33_;
	gint _tmp34_;
	gint _tmp35_;
	gint _tmp36_;
	gint _tmp37_;
	gint _tmp38_;
	gint _tmp39_;
	gint _tmp40_;
	gint _tmp41_;
	gint _tmp42_;
	gint _tmp43_;
	gchar* _tmp44_ = NULL;
	gchar* _tmp45_;
	gint _tmp46_;
	gchar* _tmp47_ = NULL;
	gchar* _tmp48_;
	gint _tmp49_;
	gint _tmp50_;
	GtkTreeIter* _tmp51_;
	g_return_val_if_fail (self != NULL, NULL);
	g_return_val_if_fail (s != NULL, NULL);
	gtk_list_store_append (self->priv->model, &_tmp0_);
	item = _tmp0_;
	_tmp1_ = beat_box_song_get_rowid (s);
	_tmp2_ = gtk_tree_model_get_path ((GtkTreeModel*) self->priv->model, &item);
	_tmp3_ = _tmp2_;
	_tmp4_ = gtk_tree_row_reference_new ((GtkTreeModel*) self->priv->model, _tmp3_);
	_tmp5_ = _tmp4_;
	gee_abstract_map_set ((GeeAbstractMap*) self->priv->_rows, GINT_TO_POINTER (_tmp1_), _tmp5_);
	_gtk_tree_row_reference_free0 (_tmp5_);
	_gtk_tree_path_free0 (_tmp3_);
	if (self->priv->lm->song_info->song != NULL) {
		gint _tmp9_;
		gint _tmp10_;
		_tmp9_ = beat_box_song_get_rowid (s);
		_tmp10_ = beat_box_song_get_rowid (self->priv->lm->song_info->song);
		_tmp8_ = _tmp9_ == _tmp10_;
	} else {
		_tmp8_ = FALSE;
	}
	if (_tmp8_) {
		_tmp7_ = self->is_current;
	} else {
		_tmp7_ = FALSE;
	}
	if (_tmp7_) {
		GdkPixbuf* _tmp11_ = NULL;
		GdkPixbuf* _tmp12_;
		_tmp11_ = gtk_widget_render_icon ((GtkWidget*) self->priv->view, "audio-volume-high", GTK_ICON_SIZE_MENU, NULL);
		_tmp12_ = _tmp11_;
		_g_object_unref0 (_tmp6_);
		_tmp6_ = _tmp12_;
	} else {
		GdkPixbuf* _tmp13_;
		_tmp13_ = NULL;
		_g_object_unref0 (_tmp6_);
		_tmp6_ = _tmp13_;
	}
	_tmp14_ = gee_abstract_list_index_of ((GeeAbstractList*) self->priv->_columns, "id");
	_tmp15_ = beat_box_song_get_rowid (s);
	_tmp16_ = gee_abstract_list_index_of ((GeeAbstractList*) self->priv->_columns, "visible");
	_tmp17_ = gee_abstract_list_index_of ((GeeAbstractList*) self->priv->_columns, " ");
	_tmp18_ = gee_abstract_list_index_of ((GeeAbstractList*) self->priv->_columns, "#");
	_tmp19_ = gee_map_get_size ((GeeMap*) self->priv->_rows);
	_tmp20_ = gee_abstract_list_index_of ((GeeAbstractList*) self->priv->_columns, "Track");
	_tmp21_ = beat_box_song_get_track (s);
	_tmp22_ = gee_abstract_list_index_of ((GeeAbstractList*) self->priv->_columns, "Title");
	_tmp23_ = beat_box_song_get_title (s);
	_tmp24_ = gee_abstract_list_index_of ((GeeAbstractList*) self->priv->_columns, "Length");
	_tmp25_ = beat_box_song_pretty_length (s);
	_tmp26_ = _tmp25_;
	_tmp27_ = gee_abstract_list_index_of ((GeeAbstractList*) self->priv->_columns, "Artist");
	_tmp28_ = beat_box_song_get_artist (s);
	_tmp29_ = gee_abstract_list_index_of ((GeeAbstractList*) self->priv->_columns, "Album");
	_tmp30_ = beat_box_song_get_album (s);
	_tmp31_ = gee_abstract_list_index_of ((GeeAbstractList*) self->priv->_columns, "Genre");
	_tmp32_ = beat_box_song_get_genre (s);
	_tmp33_ = gee_abstract_list_index_of ((GeeAbstractList*) self->priv->_columns, "Year");
	_tmp34_ = beat_box_song_get_year (s);
	_tmp35_ = gee_abstract_list_index_of ((GeeAbstractList*) self->priv->_columns, "Bitrate");
	_tmp36_ = beat_box_song_get_bitrate (s);
	_tmp37_ = gee_abstract_list_index_of ((GeeAbstractList*) self->priv->_columns, "Rating");
	_tmp38_ = beat_box_song_get_rating (s);
	_tmp39_ = gee_abstract_list_index_of ((GeeAbstractList*) self->priv->_columns, "Plays");
	_tmp40_ = beat_box_song_get_play_count (s);
	_tmp41_ = gee_abstract_list_index_of ((GeeAbstractList*) self->priv->_columns, "Skips");
	_tmp42_ = beat_box_song_get_skip_count (s);
	_tmp43_ = gee_abstract_list_index_of ((GeeAbstractList*) self->priv->_columns, "Date Added");
	_tmp44_ = beat_box_song_pretty_date_added (s);
	_tmp45_ = _tmp44_;
	_tmp46_ = gee_abstract_list_index_of ((GeeAbstractList*) self->priv->_columns, "Last Played");
	_tmp47_ = beat_box_song_pretty_last_played (s);
	_tmp48_ = _tmp47_;
	_tmp49_ = gee_abstract_list_index_of ((GeeAbstractList*) self->priv->_columns, "BPM");
	_tmp50_ = beat_box_song_get_bpm (s);
	gtk_list_store_set (self->priv->model, &item, _tmp14_, _tmp15_, _tmp16_, TRUE, _tmp17_, _tmp6_, _tmp18_, _tmp19_, _tmp20_, _tmp21_, _tmp22_, _tmp23_, _tmp24_, _tmp26_, _tmp27_, _tmp28_, _tmp29_, _tmp30_, _tmp31_, _tmp32_, _tmp33_, _tmp34_, _tmp35_, _tmp36_, _tmp37_, _tmp38_, _tmp39_, _tmp40_, _tmp41_, _tmp42_, _tmp43_, _tmp45_, _tmp46_, _tmp48_, _tmp49_, _tmp50_, -1);
	_g_free0 (_tmp48_);
	_g_free0 (_tmp45_);
	_g_free0 (_tmp26_);
	_tmp51_ = __gtk_tree_iter_dup0 (&item);
	result = _tmp51_;
	_g_object_unref0 (_tmp6_);
	return result;
}


gboolean beat_box_music_tree_view_updateSong (BeatBoxMusicTreeView* self, gint i) {
	gboolean result = FALSE;
	gboolean _tmp0_;
	GtkTreeIter item = {0};
	gpointer _tmp1_ = NULL;
	GtkTreeRowReference* _tmp2_;
	GtkTreePath* _tmp3_ = NULL;
	GtkTreePath* _tmp4_;
	GtkTreePath* path;
	GtkTreeIter _tmp5_ = {0};
	BeatBoxSong* _tmp6_ = NULL;
	BeatBoxSong* s;
	GdkPixbuf* _tmp7_ = NULL;
	gboolean _tmp8_ = FALSE;
	gboolean _tmp9_ = FALSE;
	gint _tmp14_;
	gint _tmp15_;
	gint _tmp16_;
	gint _tmp17_;
	gint _tmp18_;
	gint _tmp19_;
	const gchar* _tmp20_ = NULL;
	gint _tmp21_;
	gchar* _tmp22_ = NULL;
	gchar* _tmp23_;
	gint _tmp24_;
	const gchar* _tmp25_ = NULL;
	gint _tmp26_;
	const gchar* _tmp27_ = NULL;
	gint _tmp28_;
	const gchar* _tmp29_ = NULL;
	gint _tmp30_;
	gint _tmp31_;
	gint _tmp32_;
	gint _tmp33_;
	gint _tmp34_;
	gint _tmp35_;
	gint _tmp36_;
	gint _tmp37_;
	gint _tmp38_;
	gint _tmp39_;
	gint _tmp40_;
	gchar* _tmp41_ = NULL;
	gchar* _tmp42_;
	gint _tmp43_;
	gchar* _tmp44_ = NULL;
	gchar* _tmp45_;
	gint _tmp46_;
	gint _tmp47_;
	g_return_val_if_fail (self != NULL, FALSE);
	_tmp0_ = gee_abstract_map_has_key ((GeeAbstractMap*) self->priv->_rows, GINT_TO_POINTER (i));
	if (!_tmp0_) {
		result = FALSE;
		return result;
	}
	_tmp1_ = gee_abstract_map_get ((GeeAbstractMap*) self->priv->_rows, GINT_TO_POINTER (i));
	_tmp2_ = (GtkTreeRowReference*) _tmp1_;
	_tmp3_ = gtk_tree_row_reference_get_path (_tmp2_);
	path = (_tmp4_ = _tmp3_, _gtk_tree_row_reference_free0 (_tmp2_), _tmp4_);
	if (path == NULL) {
		gee_abstract_map_unset ((GeeAbstractMap*) self->priv->_rows, GINT_TO_POINTER (i), NULL);
		result = FALSE;
		_gtk_tree_path_free0 (path);
		return result;
	}
	gtk_tree_model_get_iter ((GtkTreeModel*) self->priv->model, &_tmp5_, path);
	item = _tmp5_;
	_tmp6_ = beat_box_library_manager_song_from_id (self->priv->lm, i);
	s = _tmp6_;
	if (self->priv->lm->song_info->song != NULL) {
		gint _tmp10_;
		_tmp10_ = beat_box_song_get_rowid (self->priv->lm->song_info->song);
		_tmp9_ = i == _tmp10_;
	} else {
		_tmp9_ = FALSE;
	}
	if (_tmp9_) {
		_tmp8_ = self->is_current;
	} else {
		_tmp8_ = FALSE;
	}
	if (_tmp8_) {
		GdkPixbuf* _tmp11_ = NULL;
		GdkPixbuf* _tmp12_;
		_tmp11_ = gtk_widget_render_icon ((GtkWidget*) self->priv->view, "audio-volume-high", GTK_ICON_SIZE_MENU, NULL);
		_tmp12_ = _tmp11_;
		_g_object_unref0 (_tmp7_);
		_tmp7_ = _tmp12_;
	} else {
		GdkPixbuf* _tmp13_;
		_tmp13_ = NULL;
		_g_object_unref0 (_tmp7_);
		_tmp7_ = _tmp13_;
	}
	_tmp14_ = gee_abstract_list_index_of ((GeeAbstractList*) self->priv->_columns, "id");
	_tmp15_ = beat_box_song_get_rowid (s);
	_tmp16_ = gee_abstract_list_index_of ((GeeAbstractList*) self->priv->_columns, " ");
	_tmp17_ = gee_abstract_list_index_of ((GeeAbstractList*) self->priv->_columns, "Track");
	_tmp18_ = beat_box_song_get_track (s);
	_tmp19_ = gee_abstract_list_index_of ((GeeAbstractList*) self->priv->_columns, "Title");
	_tmp20_ = beat_box_song_get_title (s);
	_tmp21_ = gee_abstract_list_index_of ((GeeAbstractList*) self->priv->_columns, "Length");
	_tmp22_ = beat_box_song_pretty_length (s);
	_tmp23_ = _tmp22_;
	_tmp24_ = gee_abstract_list_index_of ((GeeAbstractList*) self->priv->_columns, "Artist");
	_tmp25_ = beat_box_song_get_artist (s);
	_tmp26_ = gee_abstract_list_index_of ((GeeAbstractList*) self->priv->_columns, "Album");
	_tmp27_ = beat_box_song_get_album (s);
	_tmp28_ = gee_abstract_list_index_of ((GeeAbstractList*) self->priv->_columns, "Genre");
	_tmp29_ = beat_box_song_get_genre (s);
	_tmp30_ = gee_abstract_list_index_of ((GeeAbstractList*) self->priv->_columns, "Year");
	_tmp31_ = beat_box_song_get_year (s);
	_tmp32_ = gee_abstract_list_index_of ((GeeAbstractList*) self->priv->_columns, "Bitrate");
	_tmp33_ = beat_box_song_get_bitrate (s);
	_tmp34_ = gee_abstract_list_index_of ((GeeAbstractList*) self->priv->_columns, "Rating");
	_tmp35_ = beat_box_song_get_rating (s);
	_tmp36_ = gee_abstract_list_index_of ((GeeAbstractList*) self->priv->_columns, "Plays");
	_tmp37_ = beat_box_song_get_play_count (s);
	_tmp38_ = gee_abstract_list_index_of ((GeeAbstractList*) self->priv->_columns, "Skips");
	_tmp39_ = beat_box_song_get_skip_count (s);
	_tmp40_ = gee_abstract_list_index_of ((GeeAbstractList*) self->priv->_columns, "Date Added");
	_tmp41_ = beat_box_song_pretty_date_added (s);
	_tmp42_ = _tmp41_;
	_tmp43_ = gee_abstract_list_index_of ((GeeAbstractList*) self->priv->_columns, "Last Played");
	_tmp44_ = beat_box_song_pretty_last_played (s);
	_tmp45_ = _tmp44_;
	_tmp46_ = gee_abstract_list_index_of ((GeeAbstractList*) self->priv->_columns, "BPM");
	_tmp47_ = beat_box_song_get_bpm (s);
	gtk_list_store_set (self->priv->model, &item, _tmp14_, _tmp15_, _tmp16_, _tmp7_, _tmp17_, _tmp18_, _tmp19_, _tmp20_, _tmp21_, _tmp23_, _tmp24_, _tmp25_, _tmp26_, _tmp27_, _tmp28_, _tmp29_, _tmp30_, _tmp31_, _tmp32_, _tmp33_, _tmp34_, _tmp35_, _tmp36_, _tmp37_, _tmp38_, _tmp39_, _tmp40_, _tmp42_, _tmp43_, _tmp45_, _tmp46_, _tmp47_, -1);
	_g_free0 (_tmp45_);
	_g_free0 (_tmp42_);
	_g_free0 (_tmp23_);
	result = TRUE;
	_g_object_unref0 (_tmp7_);
	_g_object_unref0 (s);
	_gtk_tree_path_free0 (path);
	return result;
}


gboolean beat_box_music_tree_view_removeSong (BeatBoxMusicTreeView* self, gint i) {
	gboolean result = FALSE;
	gboolean _tmp0_;
	GtkTreeIter item = {0};
	gpointer _tmp1_ = NULL;
	GtkTreeRowReference* _tmp2_;
	GtkTreePath* _tmp3_ = NULL;
	GtkTreePath* _tmp4_;
	GtkTreePath* path;
	GtkTreeIter _tmp5_ = {0};
	BeatBoxSong* _tmp6_ = NULL;
	BeatBoxSong* _tmp7_;
	const gchar* _tmp8_ = NULL;
	BeatBoxSong* _tmp9_ = NULL;
	BeatBoxSong* _tmp10_;
	const gchar* _tmp11_ = NULL;
	g_return_val_if_fail (self != NULL, FALSE);
	_tmp0_ = gee_abstract_map_has_key ((GeeAbstractMap*) self->priv->_rows, GINT_TO_POINTER (i));
	if (!_tmp0_) {
		result = FALSE;
		return result;
	}
	fprintf (stdout, "has key %d\n", i);
	_tmp1_ = gee_abstract_map_get ((GeeAbstractMap*) self->priv->_rows, GINT_TO_POINTER (i));
	_tmp2_ = (GtkTreeRowReference*) _tmp1_;
	_tmp3_ = gtk_tree_row_reference_get_path (_tmp2_);
	path = (_tmp4_ = _tmp3_, _gtk_tree_row_reference_free0 (_tmp2_), _tmp4_);
	if (path == NULL) {
		gee_abstract_map_unset ((GeeAbstractMap*) self->priv->_rows, GINT_TO_POINTER (i), NULL);
		fprintf (stdout, "path was invalid.. unsetting row %d\n", i);
		result = FALSE;
		_gtk_tree_path_free0 (path);
		return result;
	}
	gtk_tree_model_get_iter ((GtkTreeModel*) self->priv->model, &_tmp5_, path);
	item = _tmp5_;
	gtk_list_store_remove (self->priv->model, &item);
	gee_abstract_map_unset ((GeeAbstractMap*) self->priv->_rows, GINT_TO_POINTER (i), NULL);
	_tmp6_ = beat_box_library_manager_song_from_id (self->priv->lm, i);
	_tmp7_ = _tmp6_;
	_tmp8_ = beat_box_song_get_title (_tmp7_);
	_tmp9_ = beat_box_library_manager_song_from_id (self->priv->lm, i);
	_tmp10_ = _tmp9_;
	_tmp11_ = beat_box_song_get_artist (_tmp10_);
	fprintf (stdout, "Removed song %s by %s from model************\n", _tmp8_, _tmp11_);
	_g_object_unref0 (_tmp10_);
	_g_object_unref0 (_tmp7_);
	result = TRUE;
	_gtk_tree_path_free0 (path);
	return result;
}


static void beat_box_music_tree_view_real_current_cleared (BeatBoxMusicTreeView* self) {
	g_return_if_fail (self != NULL);
	self->is_current = FALSE;
	if (self->priv->lm->song_info->song != NULL) {
		gint _tmp0_;
		_tmp0_ = beat_box_song_get_rowid (self->priv->lm->song_info->song);
		beat_box_music_tree_view_updateSong (self, _tmp0_);
	}
}


void beat_box_music_tree_view_current_cleared (BeatBoxMusicTreeView* self) {
	BEAT_BOX_MUSIC_TREE_VIEW_GET_CLASS (self)->current_cleared (self);
}


static void beat_box_music_tree_view_real_song_played (BeatBoxMusicTreeView* self, gint id, gint old) {
	g_return_if_fail (self != NULL);
	if (old != (-1)) {
		beat_box_music_tree_view_updateSong (self, old);
	}
	if (!self->priv->scrolled_recently) {
		beat_box_music_tree_view_scrollToCurrent (self);
	}
	beat_box_music_tree_view_updateSong (self, id);
}


void beat_box_music_tree_view_song_played (BeatBoxMusicTreeView* self, gint id, gint old) {
	BEAT_BOX_MUSIC_TREE_VIEW_GET_CLASS (self)->song_played (self, id, old);
}


static void beat_box_music_tree_view_real_songs_updated (BeatBoxMusicTreeView* self, GeeCollection* ids) {
	g_return_if_fail (self != NULL);
	g_return_if_fail (ids != NULL);
	{
		GeeIterator* _tmp0_ = NULL;
		GeeIterator* _id_it;
		_tmp0_ = gee_iterable_iterator ((GeeIterable*) ids);
		_id_it = _tmp0_;
		while (TRUE) {
			gboolean _tmp1_;
			gpointer _tmp2_ = NULL;
			gint id;
			_tmp1_ = gee_iterator_next (_id_it);
			if (!_tmp1_) {
				break;
			}
			_tmp2_ = gee_iterator_get (_id_it);
			id = GPOINTER_TO_INT (_tmp2_);
			beat_box_music_tree_view_updateSong (self, id);
		}
		_g_object_unref0 (_id_it);
	}
	if (self->is_current) {
		beat_box_music_tree_view_setAsCurrentList (self, NULL);
	}
}


void beat_box_music_tree_view_songs_updated (BeatBoxMusicTreeView* self, GeeCollection* ids) {
	BEAT_BOX_MUSIC_TREE_VIEW_GET_CLASS (self)->songs_updated (self, ids);
}


static void beat_box_music_tree_view_real_songs_removed (BeatBoxMusicTreeView* self, GeeLinkedList* ids) {
	g_return_if_fail (self != NULL);
	g_return_if_fail (ids != NULL);
	self->removing_songs = TRUE;
	{
		GeeLinkedList* _tmp0_;
		GeeLinkedList* _id_list;
		gint _tmp1_;
		gint _id_size;
		gint _id_index;
		_tmp0_ = _g_object_ref0 (ids);
		_id_list = _tmp0_;
		_tmp1_ = gee_collection_get_size ((GeeCollection*) _id_list);
		_id_size = _tmp1_;
		_id_index = -1;
		while (TRUE) {
			gpointer _tmp2_ = NULL;
			gint id;
			_id_index = _id_index + 1;
			if (!(_id_index < _id_size)) {
				break;
			}
			_tmp2_ = gee_abstract_list_get ((GeeAbstractList*) _id_list, _id_index);
			id = GPOINTER_TO_INT (_tmp2_);
			beat_box_music_tree_view_removeSong (self, id);
		}
		_g_object_unref0 (_id_list);
	}
	self->removing_songs = FALSE;
}


void beat_box_music_tree_view_songs_removed (BeatBoxMusicTreeView* self, GeeLinkedList* ids) {
	BEAT_BOX_MUSIC_TREE_VIEW_GET_CLASS (self)->songs_removed (self, ids);
}


static void beat_box_music_tree_view_real_viewDoubleClick (BeatBoxMusicTreeView* self, GtkTreePath* path, GtkTreeViewColumn* column) {
	GtkTreeIter item = {0};
	const gchar* _tmp0_ = NULL;
	GtkTreeIter _tmp1_ = {0};
	gint id = 0;
	g_return_if_fail (self != NULL);
	g_return_if_fail (path != NULL);
	g_return_if_fail (column != NULL);
	_tmp0_ = gtk_tree_path_to_string (path);
	beat_box_music_tree_view_setAsCurrentList (self, _tmp0_);
	gtk_tree_model_get_iter ((GtkTreeModel*) self->priv->sort, &_tmp1_, path);
	item = _tmp1_;
	gtk_tree_model_get ((GtkTreeModel*) self->priv->sort, &item, 0, &id, -1);
	beat_box_library_manager_playSong (self->priv->lm, id);
	beat_box_stream_player_play_stream (self->priv->lm->player);
	if (!self->priv->lm->playing) {
		beat_box_library_window_playClicked (self->priv->lw);
	}
}


void beat_box_music_tree_view_viewDoubleClick (BeatBoxMusicTreeView* self, GtkTreePath* path, GtkTreeViewColumn* column) {
	BEAT_BOX_MUSIC_TREE_VIEW_GET_CLASS (self)->viewDoubleClick (self, path, column);
}


void beat_box_music_tree_view_setAsCurrentList (BeatBoxMusicTreeView* self, const gchar* current_song_path) {
	GtkTreeIter iter = {0};
	gboolean _tmp19_;
	g_return_if_fail (self != NULL);
	if (current_song_path != NULL) {
		gint _tmp0_;
		_tmp0_ = atoi (current_song_path);
		beat_box_library_manager_set_current_index (self->priv->lm, _tmp0_);
	} else {
		gpointer _tmp1_ = NULL;
		GtkTreeRowReference* _tmp2_;
		gboolean _tmp3_;
		_tmp1_ = gee_abstract_map_get ((GeeAbstractMap*) self->priv->_rows, GINT_TO_POINTER (0));
		_tmp2_ = (GtkTreeRowReference*) _tmp1_;
		if ((_tmp3_ = _tmp2_ != NULL, _gtk_tree_row_reference_free0 (_tmp2_), _tmp3_)) {
			gpointer _tmp4_ = NULL;
			GtkTreeRowReference* _tmp5_;
			GtkTreePath* _tmp6_ = NULL;
			GtkTreePath* _tmp7_;
			const gchar* _tmp8_ = NULL;
			gint _tmp9_;
			_tmp4_ = gee_abstract_map_get ((GeeAbstractMap*) self->priv->_rows, GINT_TO_POINTER (0));
			_tmp5_ = (GtkTreeRowReference*) _tmp4_;
			_tmp6_ = gtk_tree_row_reference_get_path (_tmp5_);
			_tmp7_ = _tmp6_;
			_tmp8_ = gtk_tree_path_to_string (_tmp7_);
			_tmp9_ = atoi (_tmp8_);
			beat_box_library_manager_set_current_index (self->priv->lm, _tmp9_);
			_gtk_tree_path_free0 (_tmp7_);
			_gtk_tree_row_reference_free0 (_tmp5_);
		}
	}
	beat_box_library_manager_clearCurrent (self->priv->lm);
	{
		gint i;
		i = 0;
		{
			gboolean _tmp10_;
			_tmp10_ = TRUE;
			while (TRUE) {
				gchar* _tmp11_ = NULL;
				gchar* _tmp12_;
				GtkTreeIter _tmp13_ = {0};
				gboolean _tmp14_;
				gboolean _tmp15_;
				gint id = 0;
				gboolean _tmp16_ = FALSE;
				gint _tmp17_;
				if (!_tmp10_) {
					i = i + 1;
				}
				_tmp10_ = FALSE;
				_tmp11_ = g_strdup_printf ("%i", i);
				_tmp12_ = _tmp11_;
				_tmp14_ = gtk_tree_model_get_iter_from_string ((GtkTreeModel*) self->priv->sort, &_tmp13_, _tmp12_);
				iter = _tmp13_;
				if ((_tmp15_ = !_tmp14_, _g_free0 (_tmp12_), _tmp15_)) {
					break;
				}
				gtk_tree_model_get ((GtkTreeModel*) self->priv->sort, &iter, 0, &id, -1);
				beat_box_library_manager_addToCurrent (self->priv->lm, id);
				_tmp17_ = beat_box_song_get_rowid (self->priv->lm->song_info->song);
				if (_tmp17_ == id) {
					_tmp16_ = current_song_path == NULL;
				} else {
					_tmp16_ = FALSE;
				}
				if (_tmp16_) {
					beat_box_library_manager_set_current_index (self->priv->lm, i);
				}
			}
		}
	}
	self->is_current = TRUE;
	if (self->priv->lm->song_info->song != NULL) {
		gint _tmp18_;
		_tmp18_ = beat_box_song_get_rowid (self->priv->lm->song_info->song);
		beat_box_music_tree_view_updateSong (self, _tmp18_);
	}
	_tmp19_ = beat_box_library_manager_is_shuffled (self->priv->lm);
	if (_tmp19_) {
		beat_box_library_manager_shuffleMusic (self->priv->lm);
	}
}


static Block8Data* block8_data_ref (Block8Data* _data8_) {
	g_atomic_int_inc (&_data8_->_ref_count_);
	return _data8_;
}


static void block8_data_unref (Block8Data* _data8_) {
	if (g_atomic_int_dec_and_test (&_data8_->_ref_count_)) {
		_g_object_unref0 (_data8_->self);
		_g_object_unref0 (_data8_->p);
		g_slice_free (Block8Data, _data8_);
	}
}


static gpointer _gtk_tree_path_copy0 (gpointer self) {
	return self ? gtk_tree_path_copy (self) : NULL;
}


static void _gtk_tree_path_free0_ (gpointer var) {
	(var == NULL) ? NULL : (var = (gtk_tree_path_free (var), NULL));
}


static void _g_list_free__gtk_tree_path_free0_ (GList* self) {
	g_list_foreach (self, (GFunc) _gtk_tree_path_free0_, NULL);
	g_list_free (self);
}


static void _lambda6_ (Block8Data* _data8_) {
	BeatBoxMusicTreeView * self;
	GtkTreeModel* temp = NULL;
	GtkTreeSelection* _tmp0_ = NULL;
	GtkTreeModel* _tmp1_ = NULL;
	GList* _tmp2_ = NULL;
	GtkTreeModel* _tmp3_;
	self = _data8_->self;
	_tmp0_ = gtk_tree_view_get_selection (self->priv->view);
	_tmp2_ = gtk_tree_selection_get_selected_rows (_tmp0_, &_tmp1_);
	_g_object_unref0 (temp);
	_tmp3_ = _g_object_ref0 (_tmp1_);
	temp = _tmp3_;
	{
		GList* path_collection;
		GList* path_it;
		path_collection = _tmp2_;
		for (path_it = path_collection; path_it != NULL; path_it = path_it->next) {
			GtkTreePath* _tmp4_;
			GtkTreePath* path;
			_tmp4_ = _gtk_tree_path_copy0 ((GtkTreePath*) path_it->data);
			path = _tmp4_;
			{
				GtkTreeIter item = {0};
				GtkTreeIter _tmp5_ = {0};
				gint id = 0;
				BeatBoxSong* _tmp6_ = NULL;
				BeatBoxSong* _tmp7_;
				gtk_tree_model_get_iter (temp, &_tmp5_, path);
				item = _tmp5_;
				gtk_tree_model_get (temp, &item, 0, &id, -1);
				_tmp6_ = beat_box_library_manager_song_from_id (self->priv->lm, id);
				_tmp7_ = _tmp6_;
				beat_box_playlist_addSong (_data8_->p, _tmp7_);
				_g_object_unref0 (_tmp7_);
				_gtk_tree_path_free0 (path);
			}
		}
		__g_list_free__gtk_tree_path_free0_0 (path_collection);
	}
	_g_object_unref0 (temp);
}


static void __lambda6__gtk_menu_item_activate (GtkMenuItem* _sender, gpointer self) {
	_lambda6_ (self);
}


static gboolean beat_box_music_tree_view_real_viewClick (BeatBoxMusicTreeView* self, GdkEventButton* event) {
	gboolean result = FALSE;
	gboolean _tmp0_ = FALSE;
	g_return_val_if_fail (self != NULL, FALSE);
	if ((*event).type == GDK_BUTTON_PRESS) {
		_tmp0_ = (*event).button == 3;
	} else {
		_tmp0_ = FALSE;
	}
	if (_tmp0_) {
		GtkMenu* _tmp1_ = NULL;
		GtkMenu* addToPlaylistMenu;
		GeeCollection* _tmp10_ = NULL;
		GeeCollection* _tmp11_;
		gint _tmp12_;
		gboolean _tmp13_;
		guint32 _tmp14_;
		GtkTreeSelection* _tmp15_ = NULL;
		GtkTreeSelection* _tmp16_;
		GtkTreeSelection* selected;
		gint _tmp17_;
		_tmp1_ = (GtkMenu*) gtk_menu_new ();
		addToPlaylistMenu = g_object_ref_sink (_tmp1_);
		{
			GeeCollection* _tmp2_ = NULL;
			GeeCollection* _tmp3_;
			GeeIterator* _tmp4_ = NULL;
			GeeIterator* _tmp5_;
			GeeIterator* _p_it;
			_tmp2_ = beat_box_library_manager_playlists (self->priv->lm);
			_tmp3_ = _tmp2_;
			_tmp4_ = gee_iterable_iterator ((GeeIterable*) _tmp3_);
			_p_it = (_tmp5_ = _tmp4_, _g_object_unref0 (_tmp3_), _tmp5_);
			while (TRUE) {
				Block8Data* _data8_;
				gboolean _tmp6_;
				gpointer _tmp7_ = NULL;
				const gchar* _tmp8_ = NULL;
				GtkMenuItem* _tmp9_ = NULL;
				GtkMenuItem* playlist;
				_data8_ = g_slice_new0 (Block8Data);
				_data8_->_ref_count_ = 1;
				_data8_->self = g_object_ref (self);
				_tmp6_ = gee_iterator_next (_p_it);
				if (!_tmp6_) {
					block8_data_unref (_data8_);
					_data8_ = NULL;
					break;
				}
				_tmp7_ = gee_iterator_get (_p_it);
				_data8_->p = (BeatBoxPlaylist*) _tmp7_;
				_tmp8_ = beat_box_playlist_get_name (_data8_->p);
				_tmp9_ = (GtkMenuItem*) gtk_menu_item_new_with_label (_tmp8_);
				playlist = g_object_ref_sink (_tmp9_);
				gtk_menu_shell_append ((GtkMenuShell*) addToPlaylistMenu, (GtkWidget*) playlist);
				g_signal_connect_data (playlist, "activate", (GCallback) __lambda6__gtk_menu_item_activate, block8_data_ref (_data8_), (GClosureNotify) block8_data_unref, 0);
				_g_object_unref0 (playlist);
				block8_data_unref (_data8_);
				_data8_ = NULL;
			}
			_g_object_unref0 (_p_it);
		}
		gtk_widget_show_all ((GtkWidget*) addToPlaylistMenu);
		gtk_menu_item_set_submenu (self->priv->songMenuAddToPlaylist, addToPlaylistMenu);
		_tmp10_ = beat_box_library_manager_playlists (self->priv->lm);
		_tmp11_ = _tmp10_;
		_tmp12_ = gee_collection_get_size (_tmp11_);
		if ((_tmp13_ = _tmp12_ == 0, _g_object_unref0 (_tmp11_), _tmp13_)) {
			gtk_widget_set_sensitive ((GtkWidget*) self->priv->songMenuAddToPlaylist, FALSE);
		} else {
			gtk_widget_set_sensitive ((GtkWidget*) self->priv->songMenuAddToPlaylist, TRUE);
		}
		_tmp14_ = gtk_get_current_event_time ();
		gtk_menu_popup (self->priv->songMenuActionMenu, NULL, NULL, NULL, NULL, (guint) 3, _tmp14_);
		_tmp15_ = gtk_tree_view_get_selection (self->priv->view);
		_tmp16_ = _g_object_ref0 (_tmp15_);
		selected = _tmp16_;
		gtk_tree_selection_set_mode (selected, GTK_SELECTION_MULTIPLE);
		_tmp17_ = gtk_tree_selection_count_selected_rows (selected);
		if (_tmp17_ > 1) {
			result = TRUE;
			_g_object_unref0 (selected);
			_g_object_unref0 (addToPlaylistMenu);
			return result;
		} else {
			result = FALSE;
			_g_object_unref0 (selected);
			_g_object_unref0 (addToPlaylistMenu);
			return result;
		}
		_g_object_unref0 (selected);
		_g_object_unref0 (addToPlaylistMenu);
	} else {
		gboolean _tmp18_ = FALSE;
		if ((*event).type == GDK_BUTTON_PRESS) {
			_tmp18_ = (*event).button == 1;
		} else {
			_tmp18_ = FALSE;
		}
		if (_tmp18_) {
			GtkTreeIter iter = {0};
			GtkTreePath* path = NULL;
			GtkTreeViewColumn* column = NULL;
			gint cell_x = 0;
			gint cell_y = 0;
			GtkTreePath* _tmp19_ = NULL;
			GtkTreeViewColumn* _tmp20_ = NULL;
			gint _tmp21_;
			gint _tmp22_;
			GtkTreeViewColumn* _tmp23_;
			GtkTreeSelection* _tmp24_ = NULL;
			gint _tmp25_;
			gboolean _tmp29_ = FALSE;
			GtkTreeIter _tmp30_ = {0};
			gboolean _tmp31_;
			gint id;
			gint new_rating;
			BeatBoxSong* _tmp33_ = NULL;
			BeatBoxSong* s;
			gtk_tree_view_get_path_at_pos (self->priv->view, (gint) (*event).x, (gint) (*event).y, &_tmp19_, &_tmp20_, &_tmp21_, &_tmp22_);
			_gtk_tree_path_free0 (path);
			path = _tmp19_;
			_g_object_unref0 (column);
			_tmp23_ = _g_object_ref0 (_tmp20_);
			column = _tmp23_;
			cell_x = _tmp21_;
			cell_y = _tmp22_;
			_tmp24_ = gtk_tree_view_get_selection (self->priv->view);
			_tmp25_ = gtk_tree_selection_count_selected_rows (_tmp24_);
			if (_tmp25_ > 1) {
				GtkTreeSelection* _tmp26_ = NULL;
				gboolean _tmp27_;
				_tmp26_ = gtk_tree_view_get_selection (self->priv->view);
				_tmp27_ = gtk_tree_selection_path_is_selected (_tmp26_, path);
				if (_tmp27_) {
					if ((((*event).state & GDK_SHIFT_MASK) == GDK_SHIFT_MASK) | (((*event).state & GDK_CONTROL_MASK) == GDK_CONTROL_MASK)) {
						GtkTreeSelection* _tmp28_ = NULL;
						_tmp28_ = gtk_tree_view_get_selection (self->priv->view);
						gtk_tree_selection_unselect_path (_tmp28_, path);
					}
					result = TRUE;
					_g_object_unref0 (column);
					_gtk_tree_path_free0 (path);
					return result;
				} else {
					if (!((((*event).state & GDK_SHIFT_MASK) == GDK_SHIFT_MASK) | (((*event).state & GDK_CONTROL_MASK) == GDK_CONTROL_MASK))) {
						result = TRUE;
						_g_object_unref0 (column);
						_gtk_tree_path_free0 (path);
						return result;
					}
				}
				result = FALSE;
				_g_object_unref0 (column);
				_gtk_tree_path_free0 (path);
				return result;
			}
			_tmp31_ = gtk_tree_model_get_iter ((GtkTreeModel*) self->priv->sort, &_tmp30_, path);
			iter = _tmp30_;
			if (!_tmp31_) {
				_tmp29_ = TRUE;
			} else {
				const gchar* _tmp32_ = NULL;
				_tmp32_ = gtk_tree_view_column_get_title (column);
				_tmp29_ = g_strcmp0 (_tmp32_, "Rating") != 0;
			}
			if (_tmp29_) {
				result = FALSE;
				_g_object_unref0 (column);
				_gtk_tree_path_free0 (path);
				return result;
			}
			id = 0;
			new_rating = 0;
			if (cell_x > 5) {
				new_rating = (cell_x + 18) / 18;
			}
			gtk_tree_model_get ((GtkTreeModel*) self->priv->sort, &iter, 0, &id, -1);
			_tmp33_ = beat_box_library_manager_song_from_id (self->priv->lm, id);
			s = _tmp33_;
			beat_box_song_set_rating (s, new_rating);
			beat_box_library_manager_update_song (self->priv->lm, s, FALSE);
			_g_object_unref0 (s);
			_g_object_unref0 (column);
			_gtk_tree_path_free0 (path);
		}
	}
	result = FALSE;
	return result;
}


gboolean beat_box_music_tree_view_viewClick (BeatBoxMusicTreeView* self, GdkEventButton* event) {
	return BEAT_BOX_MUSIC_TREE_VIEW_GET_CLASS (self)->viewClick (self, event);
}


static gboolean beat_box_music_tree_view_viewClickRelease (BeatBoxMusicTreeView* self, GtkWidget* sender, GdkEventButton* event) {
	gboolean result = FALSE;
	gboolean _tmp0_ = FALSE;
	g_return_val_if_fail (self != NULL, FALSE);
	g_return_val_if_fail (sender != NULL, FALSE);
	if (self->dragging) {
		_tmp0_ = (*event).button == 1;
	} else {
		_tmp0_ = FALSE;
	}
	if (_tmp0_) {
		self->dragging = FALSE;
		result = TRUE;
		return result;
	} else {
		if ((((*event).state & GDK_SHIFT_MASK) == GDK_SHIFT_MASK) | (((*event).state & GDK_CONTROL_MASK) == GDK_CONTROL_MASK)) {
			result = TRUE;
			return result;
		} else {
			GtkTreePath* path = NULL;
			GtkTreeViewColumn* tvc = NULL;
			gint cell_x = 0;
			gint cell_y = 0;
			gint x;
			gint y;
			GtkTreePath* _tmp1_ = NULL;
			GtkTreeViewColumn* _tmp2_ = NULL;
			gint _tmp3_;
			gint _tmp4_;
			gboolean _tmp5_;
			GtkTreeViewColumn* _tmp6_;
			GtkTreeSelection* _tmp7_ = NULL;
			GtkTreeSelection* _tmp8_ = NULL;
			x = (gint) (*event).x;
			y = (gint) (*event).y;
			_tmp5_ = gtk_tree_view_get_path_at_pos (self->priv->view, x, y, &_tmp1_, &_tmp2_, &_tmp3_, &_tmp4_);
			_gtk_tree_path_free0 (path);
			path = _tmp1_;
			_g_object_unref0 (tvc);
			_tmp6_ = _g_object_ref0 (_tmp2_);
			tvc = _tmp6_;
			cell_x = _tmp3_;
			cell_y = _tmp4_;
			if (!_tmp5_) {
				result = FALSE;
				_g_object_unref0 (tvc);
				_gtk_tree_path_free0 (path);
				return result;
			}
			_tmp7_ = gtk_tree_view_get_selection (self->priv->view);
			gtk_tree_selection_unselect_all (_tmp7_);
			_tmp8_ = gtk_tree_view_get_selection (self->priv->view);
			gtk_tree_selection_select_path (_tmp8_, path);
			result = FALSE;
			_g_object_unref0 (tvc);
			_gtk_tree_path_free0 (path);
			return result;
		}
	}
}


static gboolean beat_box_music_tree_view_viewHeaderClick (BeatBoxMusicTreeView* self, GtkWidget* w, GdkEventButton* e) {
	gboolean result = FALSE;
	g_return_val_if_fail (self != NULL, FALSE);
	g_return_val_if_fail (w != NULL, FALSE);
	if ((*e).button == 3) {
		guint32 _tmp0_;
		_tmp0_ = gtk_get_current_event_time ();
		gtk_menu_popup (self->priv->columnChooserMenu, NULL, NULL, NULL, NULL, (guint) 3, _tmp0_);
		result = TRUE;
		return result;
	} else {
		if ((*e).button == 1) {
			result = FALSE;
			return result;
		}
	}
	result = FALSE;
	return result;
}


static void beat_box_music_tree_view_real_viewHeadersResized (BeatBoxMusicTreeView* self) {
	g_return_if_fail (self != NULL);
	fprintf (stdout, "headers resized\n");
	beat_box_music_tree_view_updateTreeViewSetup (self);
}


void beat_box_music_tree_view_viewHeadersResized (BeatBoxMusicTreeView* self) {
	BEAT_BOX_MUSIC_TREE_VIEW_GET_CLASS (self)->viewHeadersResized (self);
}


static void beat_box_music_tree_view_real_columnSmartSortingClick (BeatBoxMusicTreeView* self) {
	gint _tmp0_;
	gint main_sort;
	gboolean _tmp1_ = FALSE;
	gpointer _tmp7_ = NULL;
	gchar* _tmp8_;
	g_return_if_fail (self != NULL);
	_tmp0_ = gee_abstract_list_index_of ((GeeAbstractList*) self->priv->_columns, "#");
	main_sort = _tmp0_;
	if (self->hint == BEAT_BOX_MUSIC_TREE_VIEW_HINT_MUSIC) {
		_tmp1_ = TRUE;
	} else {
		_tmp1_ = self->hint == BEAT_BOX_MUSIC_TREE_VIEW_HINT_SMART_PLAYLIST;
	}
	if (_tmp1_) {
		gint _tmp2_;
		_tmp2_ = gee_abstract_list_index_of ((GeeAbstractList*) self->priv->_columns, "Artist");
		main_sort = _tmp2_;
	} else {
		gboolean _tmp3_ = FALSE;
		gboolean _tmp4_ = FALSE;
		gboolean _tmp5_ = FALSE;
		if (self->hint == BEAT_BOX_MUSIC_TREE_VIEW_HINT_SIMILAR) {
			_tmp5_ = TRUE;
		} else {
			_tmp5_ = self->hint == BEAT_BOX_MUSIC_TREE_VIEW_HINT_QUEUE;
		}
		if (_tmp5_) {
			_tmp4_ = TRUE;
		} else {
			_tmp4_ = self->hint == BEAT_BOX_MUSIC_TREE_VIEW_HINT_HISTORY;
		}
		if (_tmp4_) {
			_tmp3_ = TRUE;
		} else {
			_tmp3_ = self->hint == BEAT_BOX_MUSIC_TREE_VIEW_HINT_PLAYLIST;
		}
		if (_tmp3_) {
			gint _tmp6_;
			_tmp6_ = gee_abstract_list_index_of ((GeeAbstractList*) self->priv->_columns, "#");
			main_sort = _tmp6_;
		}
	}
	_tmp7_ = gee_abstract_list_get ((GeeAbstractList*) self->priv->_columns, main_sort);
	_tmp8_ = (gchar*) _tmp7_;
	_g_free0 (self->priv->sort_column);
	self->priv->sort_column = _tmp8_;
	gtk_tree_sortable_set_sort_column_id ((GtkTreeSortable*) self->priv->sort, main_sort, GTK_SORT_ASCENDING);
	beat_box_music_tree_view_updateTreeViewSetup (self);
	if (self->is_current) {
		const gchar* _tmp9_ = NULL;
		if (self->priv->lm->song_info->song != NULL) {
			gint _tmp10_;
			gpointer _tmp11_ = NULL;
			GtkTreeRowReference* _tmp12_;
			GtkTreePath* _tmp13_ = NULL;
			GtkTreePath* _tmp14_;
			const gchar* _tmp15_ = NULL;
			_tmp10_ = beat_box_song_get_rowid (self->priv->lm->song_info->song);
			_tmp11_ = gee_abstract_map_get ((GeeAbstractMap*) self->priv->_rows, GINT_TO_POINTER (_tmp10_));
			_tmp12_ = (GtkTreeRowReference*) _tmp11_;
			_tmp13_ = gtk_tree_row_reference_get_path (_tmp12_);
			_tmp14_ = _tmp13_;
			_tmp15_ = gtk_tree_path_to_string (_tmp14_);
			_tmp9_ = _tmp15_;
			_gtk_tree_path_free0 (_tmp14_);
			_gtk_tree_row_reference_free0 (_tmp12_);
		} else {
			_tmp9_ = "0";
		}
		beat_box_music_tree_view_setAsCurrentList (self, _tmp9_);
	}
}


void beat_box_music_tree_view_columnSmartSortingClick (BeatBoxMusicTreeView* self) {
	BEAT_BOX_MUSIC_TREE_VIEW_GET_CLASS (self)->columnSmartSortingClick (self);
}


void beat_box_music_tree_view_updateTreeViewSetup (BeatBoxMusicTreeView* self) {
	gboolean _tmp0_ = FALSE;
	BeatBoxTreeViewSetup* _tmp1_ = NULL;
	BeatBoxTreeViewSetup* tvs;
	gint sort_id;
	GtkSortType sort_dir;
	gint _tmp18_;
	GtkSortType _tmp19_;
	GeeLinkedList* _tmp20_ = NULL;
	GeeLinkedList* _tmp21_;
	gpointer _tmp22_ = NULL;
	gchar* _tmp23_;
	g_return_if_fail (self != NULL);
	if (self->priv->sort == NULL) {
		_tmp0_ = TRUE;
	} else {
		_tmp0_ = !GTK_IS_TREE_MODEL_SORT (self->priv->sort);
	}
	if (_tmp0_) {
		return;
	}
	_tmp1_ = beat_box_tree_view_setup_new ("#", GTK_SORT_ASCENDING);
	tvs = _tmp1_;
	if (self->hint == BEAT_BOX_MUSIC_TREE_VIEW_HINT_MUSIC) {
		BeatBoxTreeViewSetup* _tmp2_;
		BeatBoxTreeViewSetup* _tmp3_;
		_tmp2_ = _g_object_ref0 (self->priv->lm->music_setup);
		_tmp3_ = _tmp2_;
		_g_object_unref0 (tvs);
		tvs = _tmp3_;
	} else {
		if (self->hint == BEAT_BOX_MUSIC_TREE_VIEW_HINT_SIMILAR) {
			BeatBoxTreeViewSetup* _tmp4_;
			BeatBoxTreeViewSetup* _tmp5_;
			_tmp4_ = _g_object_ref0 (self->priv->lm->similar_setup);
			_tmp5_ = _tmp4_;
			_g_object_unref0 (tvs);
			tvs = _tmp5_;
		} else {
			if (self->hint == BEAT_BOX_MUSIC_TREE_VIEW_HINT_QUEUE) {
				BeatBoxTreeViewSetup* _tmp6_;
				BeatBoxTreeViewSetup* _tmp7_;
				_tmp6_ = _g_object_ref0 (self->priv->lm->queue_setup);
				_tmp7_ = _tmp6_;
				_g_object_unref0 (tvs);
				tvs = _tmp7_;
			} else {
				if (self->hint == BEAT_BOX_MUSIC_TREE_VIEW_HINT_HISTORY) {
					BeatBoxTreeViewSetup* _tmp8_;
					BeatBoxTreeViewSetup* _tmp9_;
					_tmp8_ = _g_object_ref0 (self->priv->lm->history_setup);
					_tmp9_ = _tmp8_;
					_g_object_unref0 (tvs);
					tvs = _tmp9_;
				} else {
					if (self->hint == BEAT_BOX_MUSIC_TREE_VIEW_HINT_PLAYLIST) {
						BeatBoxPlaylist* _tmp10_ = NULL;
						BeatBoxPlaylist* _tmp11_;
						BeatBoxTreeViewSetup* _tmp12_;
						BeatBoxTreeViewSetup* _tmp13_;
						_tmp10_ = beat_box_library_manager_playlist_from_id (self->priv->lm, self->relative_id);
						_tmp11_ = _tmp10_;
						_tmp12_ = _g_object_ref0 (_tmp11_->tvs);
						_tmp13_ = _tmp12_;
						_g_object_unref0 (tvs);
						tvs = _tmp13_;
						_g_object_unref0 (_tmp11_);
					} else {
						if (self->hint == BEAT_BOX_MUSIC_TREE_VIEW_HINT_SMART_PLAYLIST) {
							BeatBoxSmartPlaylist* _tmp14_ = NULL;
							BeatBoxSmartPlaylist* _tmp15_;
							BeatBoxTreeViewSetup* _tmp16_;
							BeatBoxTreeViewSetup* _tmp17_;
							_tmp14_ = beat_box_library_manager_smart_playlist_from_id (self->priv->lm, self->relative_id);
							_tmp15_ = _tmp14_;
							_tmp16_ = _g_object_ref0 (_tmp15_->tvs);
							_tmp17_ = _tmp16_;
							_g_object_unref0 (tvs);
							tvs = _tmp17_;
							_g_object_unref0 (_tmp15_);
						}
					}
				}
			}
		}
	}
	sort_id = 7;
	sort_dir = GTK_SORT_ASCENDING;
	gtk_tree_sortable_get_sort_column_id ((GtkTreeSortable*) self->priv->sort, &_tmp18_, &_tmp19_);
	sort_id = _tmp18_;
	sort_dir = _tmp19_;
	if (sort_id <= 0) {
		sort_id = 7;
	}
	_tmp20_ = beat_box_music_tree_view_get_columns (self);
	_tmp21_ = _tmp20_;
	beat_box_tree_view_setup_set_columns (tvs, _tmp21_);
	_g_object_unref0 (_tmp21_);
	_tmp22_ = gee_abstract_list_get ((GeeAbstractList*) self->priv->_columns, sort_id);
	_tmp23_ = (gchar*) _tmp22_;
	beat_box_tree_view_setup_set_sort_column (tvs, _tmp23_);
	_g_free0 (_tmp23_);
	beat_box_tree_view_setup_set_sort_direction (tvs, sort_dir);
	_g_object_unref0 (tvs);
}


/** When the column chooser popup menu has a change/toggle **/
static void beat_box_music_tree_view_real_columnMenuToggled (BeatBoxMusicTreeView* self) {
	gint index;
	GList* _tmp0_ = NULL;
	g_return_if_fail (self != NULL);
	index = 0;
	_tmp0_ = gtk_tree_view_get_columns (self->priv->view);
	{
		GList* tvc_collection;
		GList* tvc_it;
		tvc_collection = _tmp0_;
		for (tvc_it = tvc_collection; tvc_it != NULL; tvc_it = tvc_it->next) {
			GtkTreeViewColumn* _tmp1_;
			GtkTreeViewColumn* tvc;
			_tmp1_ = _g_object_ref0 ((GtkTreeViewColumn*) tvc_it->data);
			tvc = _tmp1_;
			{
				const gchar* _tmp2_ = NULL;
				_tmp2_ = gtk_tree_view_column_get_title (tvc);
				if (g_strcmp0 (_tmp2_, "Track") == 0) {
					GtkTreeViewColumn* _tmp3_ = NULL;
					gboolean _tmp4_;
					_tmp3_ = gtk_tree_view_get_column (self->priv->view, index);
					_tmp4_ = gtk_check_menu_item_get_active (self->priv->columnTrack);
					gtk_tree_view_column_set_visible (_tmp3_, _tmp4_);
				} else {
					const gchar* _tmp5_ = NULL;
					_tmp5_ = gtk_tree_view_column_get_title (tvc);
					if (g_strcmp0 (_tmp5_, "#") == 0) {
						GtkTreeViewColumn* _tmp6_ = NULL;
						gboolean _tmp7_;
						_tmp6_ = gtk_tree_view_get_column (self->priv->view, index);
						_tmp7_ = gtk_check_menu_item_get_active (self->priv->columnNumber);
						gtk_tree_view_column_set_visible (_tmp6_, _tmp7_);
					} else {
						const gchar* _tmp8_ = NULL;
						_tmp8_ = gtk_tree_view_column_get_title (tvc);
						if (g_strcmp0 (_tmp8_, "Title") == 0) {
							GtkTreeViewColumn* _tmp9_ = NULL;
							gboolean _tmp10_;
							_tmp9_ = gtk_tree_view_get_column (self->priv->view, index);
							_tmp10_ = gtk_check_menu_item_get_active (self->priv->columnTitle);
							gtk_tree_view_column_set_visible (_tmp9_, _tmp10_);
						} else {
							const gchar* _tmp11_ = NULL;
							_tmp11_ = gtk_tree_view_column_get_title (tvc);
							if (g_strcmp0 (_tmp11_, "Length") == 0) {
								GtkTreeViewColumn* _tmp12_ = NULL;
								gboolean _tmp13_;
								_tmp12_ = gtk_tree_view_get_column (self->priv->view, index);
								_tmp13_ = gtk_check_menu_item_get_active (self->priv->columnLength);
								gtk_tree_view_column_set_visible (_tmp12_, _tmp13_);
							} else {
								const gchar* _tmp14_ = NULL;
								_tmp14_ = gtk_tree_view_column_get_title (tvc);
								if (g_strcmp0 (_tmp14_, "Artist") == 0) {
									GtkTreeViewColumn* _tmp15_ = NULL;
									gboolean _tmp16_;
									_tmp15_ = gtk_tree_view_get_column (self->priv->view, index);
									_tmp16_ = gtk_check_menu_item_get_active (self->priv->columnArtist);
									gtk_tree_view_column_set_visible (_tmp15_, _tmp16_);
								} else {
									const gchar* _tmp17_ = NULL;
									_tmp17_ = gtk_tree_view_column_get_title (tvc);
									if (g_strcmp0 (_tmp17_, "Album") == 0) {
										GtkTreeViewColumn* _tmp18_ = NULL;
										gboolean _tmp19_;
										_tmp18_ = gtk_tree_view_get_column (self->priv->view, index);
										_tmp19_ = gtk_check_menu_item_get_active (self->priv->columnAlbum);
										gtk_tree_view_column_set_visible (_tmp18_, _tmp19_);
									} else {
										const gchar* _tmp20_ = NULL;
										_tmp20_ = gtk_tree_view_column_get_title (tvc);
										if (g_strcmp0 (_tmp20_, "Genre") == 0) {
											GtkTreeViewColumn* _tmp21_ = NULL;
											gboolean _tmp22_;
											_tmp21_ = gtk_tree_view_get_column (self->priv->view, index);
											_tmp22_ = gtk_check_menu_item_get_active (self->priv->columnGenre);
											gtk_tree_view_column_set_visible (_tmp21_, _tmp22_);
										} else {
											const gchar* _tmp23_ = NULL;
											_tmp23_ = gtk_tree_view_column_get_title (tvc);
											if (g_strcmp0 (_tmp23_, "Year") == 0) {
												GtkTreeViewColumn* _tmp24_ = NULL;
												gboolean _tmp25_;
												_tmp24_ = gtk_tree_view_get_column (self->priv->view, index);
												_tmp25_ = gtk_check_menu_item_get_active (self->priv->columnYear);
												gtk_tree_view_column_set_visible (_tmp24_, _tmp25_);
											} else {
												const gchar* _tmp26_ = NULL;
												_tmp26_ = gtk_tree_view_column_get_title (tvc);
												if (g_strcmp0 (_tmp26_, "Bitrate") == 0) {
													GtkTreeViewColumn* _tmp27_ = NULL;
													gboolean _tmp28_;
													_tmp27_ = gtk_tree_view_get_column (self->priv->view, index);
													_tmp28_ = gtk_check_menu_item_get_active (self->priv->columnBitRate);
													gtk_tree_view_column_set_visible (_tmp27_, _tmp28_);
												} else {
													const gchar* _tmp29_ = NULL;
													_tmp29_ = gtk_tree_view_column_get_title (tvc);
													if (g_strcmp0 (_tmp29_, "Rating") == 0) {
														GtkTreeViewColumn* _tmp30_ = NULL;
														gboolean _tmp31_;
														_tmp30_ = gtk_tree_view_get_column (self->priv->view, index);
														_tmp31_ = gtk_check_menu_item_get_active (self->priv->columnRating);
														gtk_tree_view_column_set_visible (_tmp30_, _tmp31_);
													} else {
														const gchar* _tmp32_ = NULL;
														_tmp32_ = gtk_tree_view_column_get_title (tvc);
														if (g_strcmp0 (_tmp32_, "Plays") == 0) {
															GtkTreeViewColumn* _tmp33_ = NULL;
															gboolean _tmp34_;
															_tmp33_ = gtk_tree_view_get_column (self->priv->view, index);
															_tmp34_ = gtk_check_menu_item_get_active (self->priv->columnPlayCount);
															gtk_tree_view_column_set_visible (_tmp33_, _tmp34_);
														} else {
															const gchar* _tmp35_ = NULL;
															_tmp35_ = gtk_tree_view_column_get_title (tvc);
															if (g_strcmp0 (_tmp35_, "Skips") == 0) {
																GtkTreeViewColumn* _tmp36_ = NULL;
																gboolean _tmp37_;
																_tmp36_ = gtk_tree_view_get_column (self->priv->view, index);
																_tmp37_ = gtk_check_menu_item_get_active (self->priv->columnSkipCount);
																gtk_tree_view_column_set_visible (_tmp36_, _tmp37_);
															} else {
																const gchar* _tmp38_ = NULL;
																_tmp38_ = gtk_tree_view_column_get_title (tvc);
																if (g_strcmp0 (_tmp38_, "Date Added") == 0) {
																	GtkTreeViewColumn* _tmp39_ = NULL;
																	gboolean _tmp40_;
																	_tmp39_ = gtk_tree_view_get_column (self->priv->view, index);
																	_tmp40_ = gtk_check_menu_item_get_active (self->priv->columnDateAdded);
																	gtk_tree_view_column_set_visible (_tmp39_, _tmp40_);
																} else {
																	const gchar* _tmp41_ = NULL;
																	_tmp41_ = gtk_tree_view_column_get_title (tvc);
																	if (g_strcmp0 (_tmp41_, "Last Played") == 0) {
																		GtkTreeViewColumn* _tmp42_ = NULL;
																		gboolean _tmp43_;
																		_tmp42_ = gtk_tree_view_get_column (self->priv->view, index);
																		_tmp43_ = gtk_check_menu_item_get_active (self->priv->columnLastPlayed);
																		gtk_tree_view_column_set_visible (_tmp42_, _tmp43_);
																	} else {
																		const gchar* _tmp44_ = NULL;
																		_tmp44_ = gtk_tree_view_column_get_title (tvc);
																		if (g_strcmp0 (_tmp44_, "BPM") == 0) {
																			GtkTreeViewColumn* _tmp45_ = NULL;
																			gboolean _tmp46_;
																			_tmp45_ = gtk_tree_view_get_column (self->priv->view, index);
																			_tmp46_ = gtk_check_menu_item_get_active (self->priv->columnBPM);
																			gtk_tree_view_column_set_visible (_tmp45_, _tmp46_);
																		}
																	}
																}
															}
														}
													}
												}
											}
										}
									}
								}
							}
						}
					}
				}
				index = index + 1;
				_g_object_unref0 (tvc);
			}
		}
		_g_list_free0 (tvc_collection);
	}
	if (self->hint == BEAT_BOX_MUSIC_TREE_VIEW_HINT_MUSIC) {
		GeeLinkedList* _tmp47_ = NULL;
		GeeLinkedList* _tmp48_;
		_tmp47_ = beat_box_music_tree_view_get_columns (self);
		_tmp48_ = _tmp47_;
		beat_box_tree_view_setup_set_columns (self->priv->lm->music_setup, _tmp48_);
		_g_object_unref0 (_tmp48_);
	} else {
		if (self->hint == BEAT_BOX_MUSIC_TREE_VIEW_HINT_SIMILAR) {
			GeeLinkedList* _tmp49_ = NULL;
			GeeLinkedList* _tmp50_;
			_tmp49_ = beat_box_music_tree_view_get_columns (self);
			_tmp50_ = _tmp49_;
			beat_box_tree_view_setup_set_columns (self->priv->lm->similar_setup, _tmp50_);
			_g_object_unref0 (_tmp50_);
		} else {
			if (self->hint == BEAT_BOX_MUSIC_TREE_VIEW_HINT_QUEUE) {
				GeeLinkedList* _tmp51_ = NULL;
				GeeLinkedList* _tmp52_;
				_tmp51_ = beat_box_music_tree_view_get_columns (self);
				_tmp52_ = _tmp51_;
				beat_box_tree_view_setup_set_columns (self->priv->lm->queue_setup, _tmp52_);
				_g_object_unref0 (_tmp52_);
			} else {
				if (self->hint == BEAT_BOX_MUSIC_TREE_VIEW_HINT_HISTORY) {
					GeeLinkedList* _tmp53_ = NULL;
					GeeLinkedList* _tmp54_;
					_tmp53_ = beat_box_music_tree_view_get_columns (self);
					_tmp54_ = _tmp53_;
					beat_box_tree_view_setup_set_columns (self->priv->lm->history_setup, _tmp54_);
					_g_object_unref0 (_tmp54_);
				} else {
					if (self->hint == BEAT_BOX_MUSIC_TREE_VIEW_HINT_PLAYLIST) {
						BeatBoxPlaylist* _tmp55_ = NULL;
						BeatBoxPlaylist* _tmp56_;
						GeeLinkedList* _tmp57_ = NULL;
						GeeLinkedList* _tmp58_;
						_tmp55_ = beat_box_library_manager_playlist_from_id (self->priv->lm, self->relative_id);
						_tmp56_ = _tmp55_;
						_tmp57_ = beat_box_music_tree_view_get_columns (self);
						_tmp58_ = _tmp57_;
						beat_box_tree_view_setup_set_columns (_tmp56_->tvs, _tmp58_);
						_g_object_unref0 (_tmp58_);
						_g_object_unref0 (_tmp56_);
					} else {
						if (self->hint == BEAT_BOX_MUSIC_TREE_VIEW_HINT_SMART_PLAYLIST) {
							BeatBoxSmartPlaylist* _tmp59_ = NULL;
							BeatBoxSmartPlaylist* _tmp60_;
							GeeLinkedList* _tmp61_ = NULL;
							GeeLinkedList* _tmp62_;
							_tmp59_ = beat_box_library_manager_smart_playlist_from_id (self->priv->lm, self->relative_id);
							_tmp60_ = _tmp59_;
							_tmp61_ = beat_box_music_tree_view_get_columns (self);
							_tmp62_ = _tmp61_;
							beat_box_tree_view_setup_set_columns (_tmp60_->tvs, _tmp62_);
							_g_object_unref0 (_tmp62_);
							_g_object_unref0 (_tmp60_);
						}
					}
				}
			}
		}
	}
}


void beat_box_music_tree_view_columnMenuToggled (BeatBoxMusicTreeView* self) {
	BEAT_BOX_MUSIC_TREE_VIEW_GET_CLASS (self)->columnMenuToggled (self);
}


/** song menu popup clicks **/
static void _beat_box_music_tree_view_songEditorSaved_beat_box_song_editor_songs_saved (BeatBoxSongEditor* _sender, GeeLinkedList* songs, gpointer self) {
	beat_box_music_tree_view_songEditorSaved (self, songs);
}


static void beat_box_music_tree_view_real_songMenuEditClicked (BeatBoxMusicTreeView* self) {
	GtkTreeSelection* _tmp0_ = NULL;
	GtkTreeSelection* _tmp1_;
	GtkTreeSelection* selected;
	GtkTreeModel* temp = NULL;
	GeeHashMap* _tmp2_ = NULL;
	GeeHashMap* lastfmStuff;
	GeeLinkedList* _tmp3_ = NULL;
	GeeLinkedList* to_edit;
	GtkTreeModel* _tmp4_ = NULL;
	GList* _tmp5_ = NULL;
	GtkTreeModel* _tmp6_;
	gpointer _tmp40_ = NULL;
	gchar* _tmp41_;
	LastFMTrackInfo* _tmp42_ = NULL;
	LastFMTrackInfo* _tmp43_;
	gpointer _tmp44_ = NULL;
	gchar* _tmp45_;
	LastFMArtistInfo* _tmp46_ = NULL;
	LastFMArtistInfo* _tmp47_;
	gpointer _tmp48_ = NULL;
	gchar* _tmp49_;
	LastFMAlbumInfo* _tmp50_ = NULL;
	LastFMAlbumInfo* _tmp51_;
	BeatBoxSongEditor* _tmp52_ = NULL;
	BeatBoxSongEditor* _tmp53_;
	BeatBoxSongEditor* se;
	g_return_if_fail (self != NULL);
	_tmp0_ = gtk_tree_view_get_selection (self->priv->view);
	_tmp1_ = _g_object_ref0 (_tmp0_);
	selected = _tmp1_;
	gtk_tree_selection_set_mode (selected, GTK_SELECTION_MULTIPLE);
	_tmp2_ = gee_hash_map_new (G_TYPE_STRING, (GBoxedCopyFunc) g_strdup, g_free, G_TYPE_STRING, (GBoxedCopyFunc) g_strdup, g_free, NULL, NULL, NULL);
	lastfmStuff = _tmp2_;
	_tmp3_ = gee_linked_list_new (BEAT_BOX_TYPE_SONG, (GBoxedCopyFunc) g_object_ref, g_object_unref, NULL);
	to_edit = _tmp3_;
	_tmp5_ = gtk_tree_selection_get_selected_rows (selected, &_tmp4_);
	_g_object_unref0 (temp);
	_tmp6_ = _g_object_ref0 (_tmp4_);
	temp = _tmp6_;
	{
		GList* path_collection;
		GList* path_it;
		path_collection = _tmp5_;
		for (path_it = path_collection; path_it != NULL; path_it = path_it->next) {
			GtkTreePath* _tmp7_;
			GtkTreePath* path;
			_tmp7_ = _gtk_tree_path_copy0 ((GtkTreePath*) path_it->data);
			path = _tmp7_;
			{
				GtkTreeIter item = {0};
				GtkTreeIter _tmp8_ = {0};
				gint id = 0;
				BeatBoxSong* _tmp9_ = NULL;
				BeatBoxSong* s;
				gboolean _tmp10_;
				gboolean _tmp22_;
				gboolean _tmp28_;
				gtk_tree_model_get_iter (temp, &_tmp8_, path);
				item = _tmp8_;
				gtk_tree_model_get (temp, &item, 0, &id, -1);
				_tmp9_ = beat_box_library_manager_song_from_id (self->priv->lm, id);
				s = _tmp9_;
				_tmp10_ = gee_abstract_map_has_key ((GeeAbstractMap*) lastfmStuff, "track");
				if (!_tmp10_) {
					const gchar* _tmp11_ = NULL;
					gchar* _tmp12_;
					const gchar* _tmp13_ = NULL;
					gchar* _tmp14_;
					_tmp11_ = beat_box_song_get_title (s);
					_tmp12_ = g_strconcat (_tmp11_, " by ", NULL);
					_tmp13_ = beat_box_song_get_artist (s);
					_tmp14_ = g_strconcat (_tmp12_, _tmp13_, NULL);
					gee_abstract_map_set ((GeeAbstractMap*) lastfmStuff, "track", _tmp14_);
					_g_free0 (_tmp14_);
					_g_free0 (_tmp12_);
				} else {
					gpointer _tmp15_ = NULL;
					gchar* _tmp16_;
					const gchar* _tmp17_ = NULL;
					gchar* _tmp18_;
					const gchar* _tmp19_ = NULL;
					gchar* _tmp20_;
					gboolean _tmp21_;
					_tmp15_ = gee_abstract_map_get ((GeeAbstractMap*) lastfmStuff, "track");
					_tmp16_ = (gchar*) _tmp15_;
					_tmp17_ = beat_box_song_get_title (s);
					_tmp18_ = g_strconcat (_tmp17_, " by ", NULL);
					_tmp19_ = beat_box_song_get_artist (s);
					_tmp20_ = g_strconcat (_tmp18_, _tmp19_, NULL);
					if ((_tmp21_ = g_strcmp0 (_tmp16_, _tmp20_) != 0, _g_free0 (_tmp20_), _g_free0 (_tmp18_), _g_free0 (_tmp16_), _tmp21_)) {
						gee_abstract_map_set ((GeeAbstractMap*) lastfmStuff, "track", "");
					}
				}
				_tmp22_ = gee_abstract_map_has_key ((GeeAbstractMap*) lastfmStuff, "artist");
				if (!_tmp22_) {
					const gchar* _tmp23_ = NULL;
					_tmp23_ = beat_box_song_get_artist (s);
					gee_abstract_map_set ((GeeAbstractMap*) lastfmStuff, "artist", _tmp23_);
				} else {
					gpointer _tmp24_ = NULL;
					gchar* _tmp25_;
					const gchar* _tmp26_ = NULL;
					gboolean _tmp27_;
					_tmp24_ = gee_abstract_map_get ((GeeAbstractMap*) lastfmStuff, "artist");
					_tmp25_ = (gchar*) _tmp24_;
					_tmp26_ = beat_box_song_get_artist (s);
					if ((_tmp27_ = g_strcmp0 (_tmp25_, _tmp26_) != 0, _g_free0 (_tmp25_), _tmp27_)) {
						gee_abstract_map_set ((GeeAbstractMap*) lastfmStuff, "artist", "");
					}
				}
				_tmp28_ = gee_abstract_map_has_key ((GeeAbstractMap*) lastfmStuff, "album");
				if (!_tmp28_) {
					const gchar* _tmp29_ = NULL;
					gchar* _tmp30_;
					const gchar* _tmp31_ = NULL;
					gchar* _tmp32_;
					_tmp29_ = beat_box_song_get_album (s);
					_tmp30_ = g_strconcat (_tmp29_, " by ", NULL);
					_tmp31_ = beat_box_song_get_artist (s);
					_tmp32_ = g_strconcat (_tmp30_, _tmp31_, NULL);
					gee_abstract_map_set ((GeeAbstractMap*) lastfmStuff, "album", _tmp32_);
					_g_free0 (_tmp32_);
					_g_free0 (_tmp30_);
				} else {
					gpointer _tmp33_ = NULL;
					gchar* _tmp34_;
					const gchar* _tmp35_ = NULL;
					gchar* _tmp36_;
					const gchar* _tmp37_ = NULL;
					gchar* _tmp38_;
					gboolean _tmp39_;
					_tmp33_ = gee_abstract_map_get ((GeeAbstractMap*) lastfmStuff, "album");
					_tmp34_ = (gchar*) _tmp33_;
					_tmp35_ = beat_box_song_get_album (s);
					_tmp36_ = g_strconcat (_tmp35_, " by ", NULL);
					_tmp37_ = beat_box_song_get_artist (s);
					_tmp38_ = g_strconcat (_tmp36_, _tmp37_, NULL);
					if ((_tmp39_ = g_strcmp0 (_tmp34_, _tmp38_) != 0, _g_free0 (_tmp38_), _g_free0 (_tmp36_), _g_free0 (_tmp34_), _tmp39_)) {
						gee_abstract_map_set ((GeeAbstractMap*) lastfmStuff, "album", "");
					}
				}
				gee_abstract_collection_add ((GeeAbstractCollection*) to_edit, s);
				_g_object_unref0 (s);
				_gtk_tree_path_free0 (path);
			}
		}
		__g_list_free__gtk_tree_path_free0_0 (path_collection);
	}
	_tmp40_ = gee_abstract_map_get ((GeeAbstractMap*) lastfmStuff, "track");
	_tmp41_ = (gchar*) _tmp40_;
	_tmp42_ = beat_box_library_manager_get_track (self->priv->lm, _tmp41_);
	_tmp43_ = _tmp42_;
	_tmp44_ = gee_abstract_map_get ((GeeAbstractMap*) lastfmStuff, "artist");
	_tmp45_ = (gchar*) _tmp44_;
	_tmp46_ = beat_box_library_manager_get_artist (self->priv->lm, _tmp45_);
	_tmp47_ = _tmp46_;
	_tmp48_ = gee_abstract_map_get ((GeeAbstractMap*) lastfmStuff, "album");
	_tmp49_ = (gchar*) _tmp48_;
	_tmp50_ = beat_box_library_manager_get_album (self->priv->lm, _tmp49_);
	_tmp51_ = _tmp50_;
	_tmp52_ = beat_box_song_editor_new (to_edit, _tmp43_, _tmp47_, _tmp51_);
	se = (_tmp53_ = g_object_ref_sink (_tmp52_), _g_object_unref0 (_tmp51_), _g_free0 (_tmp49_), _g_object_unref0 (_tmp47_), _g_free0 (_tmp45_), _g_object_unref0 (_tmp43_), _g_free0 (_tmp41_), _tmp53_);
	g_signal_connect_object (se, "songs-saved", (GCallback) _beat_box_music_tree_view_songEditorSaved_beat_box_song_editor_songs_saved, self, 0);
	_g_object_unref0 (se);
	_g_object_unref0 (to_edit);
	_g_object_unref0 (lastfmStuff);
	_g_object_unref0 (temp);
	_g_object_unref0 (selected);
}


void beat_box_music_tree_view_songMenuEditClicked (BeatBoxMusicTreeView* self) {
	BEAT_BOX_MUSIC_TREE_VIEW_GET_CLASS (self)->songMenuEditClicked (self);
}


static void beat_box_music_tree_view_real_songEditorSaved (BeatBoxMusicTreeView* self, GeeLinkedList* songs) {
	g_return_if_fail (self != NULL);
	g_return_if_fail (songs != NULL);
	beat_box_library_manager_update_songs (self->priv->lm, (GeeCollection*) songs, TRUE);
}


void beat_box_music_tree_view_songEditorSaved (BeatBoxMusicTreeView* self, GeeLinkedList* songs) {
	BEAT_BOX_MUSIC_TREE_VIEW_GET_CLASS (self)->songEditorSaved (self, songs);
}


static void beat_box_music_tree_view_real_songFileBrowseClicked (BeatBoxMusicTreeView* self) {
	GtkTreeSelection* _tmp0_ = NULL;
	GtkTreeSelection* _tmp1_;
	GtkTreeSelection* selected;
	GtkTreeModel* temp = NULL;
	GtkTreeModel* _tmp2_ = NULL;
	GList* _tmp3_ = NULL;
	GtkTreeModel* _tmp4_;
	GError * _inner_error_ = NULL;
	g_return_if_fail (self != NULL);
	_tmp0_ = gtk_tree_view_get_selection (self->priv->view);
	_tmp1_ = _g_object_ref0 (_tmp0_);
	selected = _tmp1_;
	gtk_tree_selection_set_mode (selected, GTK_SELECTION_MULTIPLE);
	_tmp3_ = gtk_tree_selection_get_selected_rows (selected, &_tmp2_);
	_g_object_unref0 (temp);
	_tmp4_ = _g_object_ref0 (_tmp2_);
	temp = _tmp4_;
	{
		GList* path_collection;
		GList* path_it;
		path_collection = _tmp3_;
		for (path_it = path_collection; path_it != NULL; path_it = path_it->next) {
			GtkTreePath* _tmp5_;
			GtkTreePath* path;
			_tmp5_ = _gtk_tree_path_copy0 ((GtkTreePath*) path_it->data);
			path = _tmp5_;
			{
				GtkTreeIter item = {0};
				GtkTreeIter _tmp6_ = {0};
				gint id = 0;
				BeatBoxSong* _tmp7_ = NULL;
				BeatBoxSong* s;
				const gchar* _tmp8_ = NULL;
				GFile* _tmp9_ = NULL;
				GFile* file;
				GFile* _tmp10_ = NULL;
				GFile* _tmp11_;
				gchar* _tmp12_ = NULL;
				gchar* _tmp13_;
				gtk_tree_model_get_iter (temp, &_tmp6_, path);
				item = _tmp6_;
				gtk_tree_model_get (temp, &item, 0, &id, -1);
				_tmp7_ = beat_box_library_manager_song_from_id (self->priv->lm, id);
				s = _tmp7_;
				_tmp8_ = beat_box_song_get_file (s);
				_tmp9_ = g_file_new_for_path (_tmp8_);
				file = _tmp9_;
				_tmp10_ = g_file_get_parent (file);
				_tmp11_ = _tmp10_;
				_tmp12_ = g_file_get_path (_tmp11_);
				_tmp13_ = _tmp12_;
				g_app_info_launch_default_for_uri (_tmp13_, NULL, &_inner_error_);
				_g_free0 (_tmp13_);
				_g_object_unref0 (_tmp11_);
				if (_inner_error_ != NULL) {
					_g_object_unref0 (file);
					goto __catch73_g_error;
				}
				_g_object_unref0 (file);
				goto __finally73;
				__catch73_g_error:
				{
					GError * err;
					const gchar* _tmp14_ = NULL;
					err = _inner_error_;
					_inner_error_ = NULL;
					_tmp14_ = beat_box_song_get_file (s);
					fprintf (stdout, "Could not browse song %s: %s\n", _tmp14_, err->message);
					_g_error_free0 (err);
				}
				__finally73:
				if (_inner_error_ != NULL) {
					_g_object_unref0 (s);
					_gtk_tree_path_free0 (path);
					__g_list_free__gtk_tree_path_free0_0 (path_collection);
					_g_object_unref0 (temp);
					_g_object_unref0 (selected);
					g_critical ("file %s: line %d: uncaught error: %s (%s, %d)", __FILE__, __LINE__, _inner_error_->message, g_quark_to_string (_inner_error_->domain), _inner_error_->code);
					g_clear_error (&_inner_error_);
					return;
				}
				_g_object_unref0 (s);
				_gtk_tree_path_free0 (path);
				__g_list_free__gtk_tree_path_free0_0 (path_collection);
				_g_object_unref0 (temp);
				_g_object_unref0 (selected);
				return;
			}
		}
		__g_list_free__gtk_tree_path_free0_0 (path_collection);
	}
	_g_object_unref0 (temp);
	_g_object_unref0 (selected);
}


void beat_box_music_tree_view_songFileBrowseClicked (BeatBoxMusicTreeView* self) {
	BEAT_BOX_MUSIC_TREE_VIEW_GET_CLASS (self)->songFileBrowseClicked (self);
}


static void beat_box_music_tree_view_real_songMenuQueueClicked (BeatBoxMusicTreeView* self) {
	GtkTreeSelection* _tmp0_ = NULL;
	GtkTreeSelection* _tmp1_;
	GtkTreeSelection* selected;
	GtkTreeModel* model = NULL;
	GtkTreeModel* _tmp2_ = NULL;
	GList* _tmp3_ = NULL;
	GtkTreeModel* _tmp4_;
	g_return_if_fail (self != NULL);
	_tmp0_ = gtk_tree_view_get_selection (self->priv->view);
	_tmp1_ = _g_object_ref0 (_tmp0_);
	selected = _tmp1_;
	gtk_tree_selection_set_mode (selected, GTK_SELECTION_MULTIPLE);
	_tmp3_ = gtk_tree_selection_get_selected_rows (selected, &_tmp2_);
	_g_object_unref0 (model);
	_tmp4_ = _g_object_ref0 (_tmp2_);
	model = _tmp4_;
	{
		GList* path_collection;
		GList* path_it;
		path_collection = _tmp3_;
		for (path_it = path_collection; path_it != NULL; path_it = path_it->next) {
			GtkTreePath* _tmp5_;
			GtkTreePath* path;
			_tmp5_ = _gtk_tree_path_copy0 ((GtkTreePath*) path_it->data);
			path = _tmp5_;
			{
				GtkTreeIter item = {0};
				GtkTreeIter _tmp6_ = {0};
				gint id = 0;
				gtk_tree_model_get_iter (model, &_tmp6_, path);
				item = _tmp6_;
				gtk_tree_model_get (model, &item, 0, &id, -1);
				beat_box_library_manager_queue_song_by_id (self->priv->lm, id);
				_gtk_tree_path_free0 (path);
			}
		}
		__g_list_free__gtk_tree_path_free0_0 (path_collection);
	}
	_g_object_unref0 (model);
	_g_object_unref0 (selected);
}


void beat_box_music_tree_view_songMenuQueueClicked (BeatBoxMusicTreeView* self) {
	BEAT_BOX_MUSIC_TREE_VIEW_GET_CLASS (self)->songMenuQueueClicked (self);
}


static Block9Data* block9_data_ref (Block9Data* _data9_) {
	g_atomic_int_inc (&_data9_->_ref_count_);
	return _data9_;
}


static void block9_data_unref (Block9Data* _data9_) {
	if (g_atomic_int_dec_and_test (&_data9_->_ref_count_)) {
		_g_object_unref0 (_data9_->self);
		_g_object_unref0 (_data9_->p);
		g_slice_free (Block9Data, _data9_);
	}
}


static void _lambda7_ (BeatBoxPlaylist* newP, Block9Data* _data9_) {
	BeatBoxMusicTreeView * self;
	self = _data9_->self;
	g_return_if_fail (newP != NULL);
	beat_box_library_manager_add_playlist (self->priv->lm, _data9_->p);
	beat_box_library_window_addSideListItem (self->priv->lw, (GObject*) _data9_->p);
}


static void __lambda7__beat_box_playlist_name_window_playlist_saved (BeatBoxPlaylistNameWindow* _sender, BeatBoxPlaylist* p, gpointer self) {
	_lambda7_ (p, self);
}


static void beat_box_music_tree_view_real_songMenuNewPlaylistClicked (BeatBoxMusicTreeView* self) {
	Block9Data* _data9_;
	BeatBoxPlaylist* _tmp0_ = NULL;
	GtkTreeSelection* _tmp1_ = NULL;
	GtkTreeSelection* _tmp2_;
	GtkTreeSelection* selected;
	GtkTreeModel* temp = NULL;
	GtkTreeModel* _tmp3_ = NULL;
	GList* _tmp4_ = NULL;
	GtkTreeModel* _tmp5_;
	BeatBoxPlaylistNameWindow* _tmp10_ = NULL;
	BeatBoxPlaylistNameWindow* pnw;
	g_return_if_fail (self != NULL);
	_data9_ = g_slice_new0 (Block9Data);
	_data9_->_ref_count_ = 1;
	_data9_->self = g_object_ref (self);
	_tmp0_ = beat_box_playlist_new ();
	_data9_->p = _tmp0_;
	_tmp1_ = gtk_tree_view_get_selection (self->priv->view);
	_tmp2_ = _g_object_ref0 (_tmp1_);
	selected = _tmp2_;
	gtk_tree_selection_set_mode (selected, GTK_SELECTION_MULTIPLE);
	_tmp4_ = gtk_tree_selection_get_selected_rows (selected, &_tmp3_);
	_g_object_unref0 (temp);
	_tmp5_ = _g_object_ref0 (_tmp3_);
	temp = _tmp5_;
	{
		GList* path_collection;
		GList* path_it;
		path_collection = _tmp4_;
		for (path_it = path_collection; path_it != NULL; path_it = path_it->next) {
			GtkTreePath* _tmp6_;
			GtkTreePath* path;
			_tmp6_ = _gtk_tree_path_copy0 ((GtkTreePath*) path_it->data);
			path = _tmp6_;
			{
				GtkTreeIter item = {0};
				GtkTreeIter _tmp7_ = {0};
				gint id = 0;
				BeatBoxSong* _tmp8_ = NULL;
				BeatBoxSong* _tmp9_;
				gtk_tree_model_get_iter ((GtkTreeModel*) self->priv->sort, &_tmp7_, path);
				item = _tmp7_;
				gtk_tree_model_get ((GtkTreeModel*) self->priv->sort, &item, 0, &id, -1);
				_tmp8_ = beat_box_library_manager_song_from_id (self->priv->lm, id);
				_tmp9_ = _tmp8_;
				beat_box_playlist_addSong (_data9_->p, _tmp9_);
				_g_object_unref0 (_tmp9_);
				_gtk_tree_path_free0 (path);
			}
		}
		__g_list_free__gtk_tree_path_free0_0 (path_collection);
	}
	_tmp10_ = beat_box_playlist_name_window_new (_data9_->p);
	pnw = g_object_ref_sink (_tmp10_);
	g_signal_connect_data (pnw, "playlist-saved", (GCallback) __lambda7__beat_box_playlist_name_window_playlist_saved, block9_data_ref (_data9_), (GClosureNotify) block9_data_unref, 0);
	_g_object_unref0 (pnw);
	_g_object_unref0 (temp);
	_g_object_unref0 (selected);
	block9_data_unref (_data9_);
	_data9_ = NULL;
}


void beat_box_music_tree_view_songMenuNewPlaylistClicked (BeatBoxMusicTreeView* self) {
	BEAT_BOX_MUSIC_TREE_VIEW_GET_CLASS (self)->songMenuNewPlaylistClicked (self);
}


static void beat_box_music_tree_view_real_songRemoveClicked (BeatBoxMusicTreeView* self) {
	GtkTreeSelection* _tmp0_ = NULL;
	GtkTreeSelection* _tmp1_;
	GtkTreeSelection* selected;
	GeeLinkedList* _tmp2_ = NULL;
	GeeLinkedList* toRemove;
	GtkTreeModel* temp = NULL;
	GList* paths;
	GtkTreeModel* _tmp3_ = NULL;
	GList* _tmp4_ = NULL;
	GtkTreeModel* _tmp5_;
	g_return_if_fail (self != NULL);
	_tmp0_ = gtk_tree_view_get_selection (self->priv->view);
	_tmp1_ = _g_object_ref0 (_tmp0_);
	selected = _tmp1_;
	gtk_tree_selection_set_mode (selected, GTK_SELECTION_MULTIPLE);
	_tmp2_ = gee_linked_list_new (BEAT_BOX_TYPE_SONG, (GBoxedCopyFunc) g_object_ref, g_object_unref, NULL);
	toRemove = _tmp2_;
	paths = NULL;
	_tmp4_ = gtk_tree_selection_get_selected_rows (selected, &_tmp3_);
	_g_object_unref0 (temp);
	_tmp5_ = _g_object_ref0 (_tmp3_);
	temp = _tmp5_;
	{
		GList* path_collection;
		GList* path_it;
		path_collection = _tmp4_;
		for (path_it = path_collection; path_it != NULL; path_it = path_it->next) {
			GtkTreePath* _tmp6_;
			GtkTreePath* path;
			_tmp6_ = _gtk_tree_path_copy0 ((GtkTreePath*) path_it->data);
			path = _tmp6_;
			{
				GtkTreePath* _tmp7_;
				_tmp7_ = _gtk_tree_path_copy0 (path);
				paths = g_list_prepend (paths, _tmp7_);
				_gtk_tree_path_free0 (path);
			}
		}
		__g_list_free__gtk_tree_path_free0_0 (path_collection);
	}
	{
		GList* path_collection;
		GList* path_it;
		path_collection = paths;
		for (path_it = path_collection; path_it != NULL; path_it = path_it->next) {
			GtkTreePath* _tmp8_;
			GtkTreePath* path;
			_tmp8_ = _gtk_tree_path_copy0 ((GtkTreePath*) path_it->data);
			path = _tmp8_;
			{
				GtkTreeIter item = {0};
				GtkTreeIter _tmp9_ = {0};
				gint id = 0;
				BeatBoxSong* _tmp10_ = NULL;
				BeatBoxSong* s;
				const gchar* _tmp11_ = NULL;
				const gchar* _tmp12_ = NULL;
				gtk_tree_model_get_iter (temp, &_tmp9_, path);
				item = _tmp9_;
				gtk_tree_model_get (temp, &item, 0, &id, -1);
				_tmp10_ = beat_box_library_manager_song_from_id (self->priv->lm, id);
				s = _tmp10_;
				_tmp11_ = beat_box_song_get_title (s);
				_tmp12_ = beat_box_song_get_artist (s);
				fprintf (stdout, "Song is %s by %s\n", _tmp11_, _tmp12_);
				if (self->hint == BEAT_BOX_MUSIC_TREE_VIEW_HINT_QUEUE) {
					gint _tmp13_;
					_tmp13_ = beat_box_song_get_rowid (s);
					beat_box_library_manager_unqueue_song_by_id (self->priv->lm, _tmp13_);
					beat_box_music_tree_view_removeSong (self, id);
				} else {
					if (self->hint == BEAT_BOX_MUSIC_TREE_VIEW_HINT_PLAYLIST) {
						BeatBoxPlaylist* _tmp14_ = NULL;
						BeatBoxPlaylist* _tmp15_;
						_tmp14_ = beat_box_library_manager_playlist_from_id (self->priv->lm, self->relative_id);
						_tmp15_ = _tmp14_;
						beat_box_playlist_removeSong (_tmp15_, s);
						_g_object_unref0 (_tmp15_);
						beat_box_music_tree_view_removeSong (self, id);
					} else {
						if (self->hint == BEAT_BOX_MUSIC_TREE_VIEW_HINT_MUSIC) {
							gee_abstract_collection_add ((GeeAbstractCollection*) toRemove, s);
						}
					}
				}
				_g_object_unref0 (s);
				_gtk_tree_path_free0 (path);
			}
		}
	}
	if (self->hint == BEAT_BOX_MUSIC_TREE_VIEW_HINT_MUSIC) {
		beat_box_library_manager_remove_songs (self->priv->lm, toRemove);
	}
	__g_list_free__gtk_tree_path_free0_0 (paths);
	_g_object_unref0 (temp);
	_g_object_unref0 (toRemove);
	_g_object_unref0 (selected);
}


void beat_box_music_tree_view_songRemoveClicked (BeatBoxMusicTreeView* self) {
	BEAT_BOX_MUSIC_TREE_VIEW_GET_CLASS (self)->songRemoveClicked (self);
}


static void beat_box_music_tree_view_real_songRateSong0Clicked (BeatBoxMusicTreeView* self) {
	GtkTreeSelection* _tmp0_ = NULL;
	GtkTreeSelection* _tmp1_;
	GtkTreeSelection* selected;
	GtkTreeModel* l_model = NULL;
	GeeLinkedList* _tmp2_ = NULL;
	GeeLinkedList* los;
	GtkTreeModel* _tmp3_ = NULL;
	GList* _tmp4_ = NULL;
	GtkTreeModel* _tmp5_;
	g_return_if_fail (self != NULL);
	_tmp0_ = gtk_tree_view_get_selection (self->priv->view);
	_tmp1_ = _g_object_ref0 (_tmp0_);
	selected = _tmp1_;
	gtk_tree_selection_set_mode (selected, GTK_SELECTION_MULTIPLE);
	_tmp2_ = gee_linked_list_new (BEAT_BOX_TYPE_SONG, (GBoxedCopyFunc) g_object_ref, g_object_unref, NULL);
	los = _tmp2_;
	_tmp4_ = gtk_tree_selection_get_selected_rows (selected, &_tmp3_);
	_g_object_unref0 (l_model);
	_tmp5_ = _g_object_ref0 (_tmp3_);
	l_model = _tmp5_;
	{
		GList* path_collection;
		GList* path_it;
		path_collection = _tmp4_;
		for (path_it = path_collection; path_it != NULL; path_it = path_it->next) {
			GtkTreePath* _tmp6_;
			GtkTreePath* path;
			_tmp6_ = _gtk_tree_path_copy0 ((GtkTreePath*) path_it->data);
			path = _tmp6_;
			{
				GtkTreeIter item = {0};
				GtkTreeIter _tmp7_ = {0};
				gint id = 0;
				BeatBoxSong* _tmp8_ = NULL;
				BeatBoxSong* s;
				gtk_tree_model_get_iter (l_model, &_tmp7_, path);
				item = _tmp7_;
				gtk_tree_model_get (l_model, &item, 0, &id, -1);
				_tmp8_ = beat_box_library_manager_song_from_id (self->priv->lm, id);
				s = _tmp8_;
				beat_box_song_set_rating (s, 0);
				gee_abstract_collection_add ((GeeAbstractCollection*) los, s);
				_g_object_unref0 (s);
				_gtk_tree_path_free0 (path);
			}
		}
		__g_list_free__gtk_tree_path_free0_0 (path_collection);
	}
	beat_box_library_manager_update_songs (self->priv->lm, (GeeCollection*) los, FALSE);
	_g_object_unref0 (los);
	_g_object_unref0 (l_model);
	_g_object_unref0 (selected);
}


void beat_box_music_tree_view_songRateSong0Clicked (BeatBoxMusicTreeView* self) {
	BEAT_BOX_MUSIC_TREE_VIEW_GET_CLASS (self)->songRateSong0Clicked (self);
}


static void beat_box_music_tree_view_real_songRateSong1Clicked (BeatBoxMusicTreeView* self) {
	GtkTreeSelection* _tmp0_ = NULL;
	GtkTreeSelection* _tmp1_;
	GtkTreeSelection* selected;
	GtkTreeModel* l_model = NULL;
	GeeLinkedList* _tmp2_ = NULL;
	GeeLinkedList* los;
	GtkTreeModel* _tmp3_ = NULL;
	GList* _tmp4_ = NULL;
	GtkTreeModel* _tmp5_;
	g_return_if_fail (self != NULL);
	_tmp0_ = gtk_tree_view_get_selection (self->priv->view);
	_tmp1_ = _g_object_ref0 (_tmp0_);
	selected = _tmp1_;
	gtk_tree_selection_set_mode (selected, GTK_SELECTION_MULTIPLE);
	_tmp2_ = gee_linked_list_new (BEAT_BOX_TYPE_SONG, (GBoxedCopyFunc) g_object_ref, g_object_unref, NULL);
	los = _tmp2_;
	_tmp4_ = gtk_tree_selection_get_selected_rows (selected, &_tmp3_);
	_g_object_unref0 (l_model);
	_tmp5_ = _g_object_ref0 (_tmp3_);
	l_model = _tmp5_;
	{
		GList* path_collection;
		GList* path_it;
		path_collection = _tmp4_;
		for (path_it = path_collection; path_it != NULL; path_it = path_it->next) {
			GtkTreePath* _tmp6_;
			GtkTreePath* path;
			_tmp6_ = _gtk_tree_path_copy0 ((GtkTreePath*) path_it->data);
			path = _tmp6_;
			{
				GtkTreeIter item = {0};
				GtkTreeIter _tmp7_ = {0};
				gint id = 0;
				BeatBoxSong* _tmp8_ = NULL;
				BeatBoxSong* s;
				gtk_tree_model_get_iter (l_model, &_tmp7_, path);
				item = _tmp7_;
				gtk_tree_model_get (l_model, &item, 0, &id, -1);
				_tmp8_ = beat_box_library_manager_song_from_id (self->priv->lm, id);
				s = _tmp8_;
				beat_box_song_set_rating (s, 1);
				gee_abstract_collection_add ((GeeAbstractCollection*) los, s);
				_g_object_unref0 (s);
				_gtk_tree_path_free0 (path);
			}
		}
		__g_list_free__gtk_tree_path_free0_0 (path_collection);
	}
	beat_box_library_manager_update_songs (self->priv->lm, (GeeCollection*) los, FALSE);
	_g_object_unref0 (los);
	_g_object_unref0 (l_model);
	_g_object_unref0 (selected);
}


void beat_box_music_tree_view_songRateSong1Clicked (BeatBoxMusicTreeView* self) {
	BEAT_BOX_MUSIC_TREE_VIEW_GET_CLASS (self)->songRateSong1Clicked (self);
}


static void beat_box_music_tree_view_real_songRateSong2Clicked (BeatBoxMusicTreeView* self) {
	GtkTreeSelection* _tmp0_ = NULL;
	GtkTreeSelection* _tmp1_;
	GtkTreeSelection* selected;
	GtkTreeModel* l_model = NULL;
	GeeLinkedList* _tmp2_ = NULL;
	GeeLinkedList* los;
	GtkTreeModel* _tmp3_ = NULL;
	GList* _tmp4_ = NULL;
	GtkTreeModel* _tmp5_;
	g_return_if_fail (self != NULL);
	_tmp0_ = gtk_tree_view_get_selection (self->priv->view);
	_tmp1_ = _g_object_ref0 (_tmp0_);
	selected = _tmp1_;
	gtk_tree_selection_set_mode (selected, GTK_SELECTION_MULTIPLE);
	_tmp2_ = gee_linked_list_new (BEAT_BOX_TYPE_SONG, (GBoxedCopyFunc) g_object_ref, g_object_unref, NULL);
	los = _tmp2_;
	_tmp4_ = gtk_tree_selection_get_selected_rows (selected, &_tmp3_);
	_g_object_unref0 (l_model);
	_tmp5_ = _g_object_ref0 (_tmp3_);
	l_model = _tmp5_;
	{
		GList* path_collection;
		GList* path_it;
		path_collection = _tmp4_;
		for (path_it = path_collection; path_it != NULL; path_it = path_it->next) {
			GtkTreePath* _tmp6_;
			GtkTreePath* path;
			_tmp6_ = _gtk_tree_path_copy0 ((GtkTreePath*) path_it->data);
			path = _tmp6_;
			{
				GtkTreeIter item = {0};
				GtkTreeIter _tmp7_ = {0};
				gint id = 0;
				BeatBoxSong* _tmp8_ = NULL;
				BeatBoxSong* s;
				gtk_tree_model_get_iter (l_model, &_tmp7_, path);
				item = _tmp7_;
				gtk_tree_model_get (l_model, &item, 0, &id, -1);
				_tmp8_ = beat_box_library_manager_song_from_id (self->priv->lm, id);
				s = _tmp8_;
				beat_box_song_set_rating (s, 2);
				gee_abstract_collection_add ((GeeAbstractCollection*) los, s);
				_g_object_unref0 (s);
				_gtk_tree_path_free0 (path);
			}
		}
		__g_list_free__gtk_tree_path_free0_0 (path_collection);
	}
	beat_box_library_manager_update_songs (self->priv->lm, (GeeCollection*) los, FALSE);
	_g_object_unref0 (los);
	_g_object_unref0 (l_model);
	_g_object_unref0 (selected);
}


void beat_box_music_tree_view_songRateSong2Clicked (BeatBoxMusicTreeView* self) {
	BEAT_BOX_MUSIC_TREE_VIEW_GET_CLASS (self)->songRateSong2Clicked (self);
}


static void beat_box_music_tree_view_real_songRateSong3Clicked (BeatBoxMusicTreeView* self) {
	GtkTreeSelection* _tmp0_ = NULL;
	GtkTreeSelection* _tmp1_;
	GtkTreeSelection* selected;
	GtkTreeModel* l_model = NULL;
	GeeLinkedList* _tmp2_ = NULL;
	GeeLinkedList* los;
	GtkTreeModel* _tmp3_ = NULL;
	GList* _tmp4_ = NULL;
	GtkTreeModel* _tmp5_;
	g_return_if_fail (self != NULL);
	_tmp0_ = gtk_tree_view_get_selection (self->priv->view);
	_tmp1_ = _g_object_ref0 (_tmp0_);
	selected = _tmp1_;
	gtk_tree_selection_set_mode (selected, GTK_SELECTION_MULTIPLE);
	_tmp2_ = gee_linked_list_new (BEAT_BOX_TYPE_SONG, (GBoxedCopyFunc) g_object_ref, g_object_unref, NULL);
	los = _tmp2_;
	_tmp4_ = gtk_tree_selection_get_selected_rows (selected, &_tmp3_);
	_g_object_unref0 (l_model);
	_tmp5_ = _g_object_ref0 (_tmp3_);
	l_model = _tmp5_;
	{
		GList* path_collection;
		GList* path_it;
		path_collection = _tmp4_;
		for (path_it = path_collection; path_it != NULL; path_it = path_it->next) {
			GtkTreePath* _tmp6_;
			GtkTreePath* path;
			_tmp6_ = _gtk_tree_path_copy0 ((GtkTreePath*) path_it->data);
			path = _tmp6_;
			{
				GtkTreeIter item = {0};
				GtkTreeIter _tmp7_ = {0};
				gint id = 0;
				BeatBoxSong* _tmp8_ = NULL;
				BeatBoxSong* s;
				gtk_tree_model_get_iter (l_model, &_tmp7_, path);
				item = _tmp7_;
				gtk_tree_model_get (l_model, &item, 0, &id, -1);
				_tmp8_ = beat_box_library_manager_song_from_id (self->priv->lm, id);
				s = _tmp8_;
				beat_box_song_set_rating (s, 3);
				gee_abstract_collection_add ((GeeAbstractCollection*) los, s);
				_g_object_unref0 (s);
				_gtk_tree_path_free0 (path);
			}
		}
		__g_list_free__gtk_tree_path_free0_0 (path_collection);
	}
	beat_box_library_manager_update_songs (self->priv->lm, (GeeCollection*) los, FALSE);
	_g_object_unref0 (los);
	_g_object_unref0 (l_model);
	_g_object_unref0 (selected);
}


void beat_box_music_tree_view_songRateSong3Clicked (BeatBoxMusicTreeView* self) {
	BEAT_BOX_MUSIC_TREE_VIEW_GET_CLASS (self)->songRateSong3Clicked (self);
}


static void beat_box_music_tree_view_real_songRateSong4Clicked (BeatBoxMusicTreeView* self) {
	GtkTreeSelection* _tmp0_ = NULL;
	GtkTreeSelection* _tmp1_;
	GtkTreeSelection* selected;
	GtkTreeModel* l_model = NULL;
	GeeLinkedList* _tmp2_ = NULL;
	GeeLinkedList* los;
	GtkTreeModel* _tmp3_ = NULL;
	GList* _tmp4_ = NULL;
	GtkTreeModel* _tmp5_;
	g_return_if_fail (self != NULL);
	_tmp0_ = gtk_tree_view_get_selection (self->priv->view);
	_tmp1_ = _g_object_ref0 (_tmp0_);
	selected = _tmp1_;
	gtk_tree_selection_set_mode (selected, GTK_SELECTION_MULTIPLE);
	_tmp2_ = gee_linked_list_new (BEAT_BOX_TYPE_SONG, (GBoxedCopyFunc) g_object_ref, g_object_unref, NULL);
	los = _tmp2_;
	_tmp4_ = gtk_tree_selection_get_selected_rows (selected, &_tmp3_);
	_g_object_unref0 (l_model);
	_tmp5_ = _g_object_ref0 (_tmp3_);
	l_model = _tmp5_;
	{
		GList* path_collection;
		GList* path_it;
		path_collection = _tmp4_;
		for (path_it = path_collection; path_it != NULL; path_it = path_it->next) {
			GtkTreePath* _tmp6_;
			GtkTreePath* path;
			_tmp6_ = _gtk_tree_path_copy0 ((GtkTreePath*) path_it->data);
			path = _tmp6_;
			{
				GtkTreeIter item = {0};
				GtkTreeIter _tmp7_ = {0};
				gint id = 0;
				BeatBoxSong* _tmp8_ = NULL;
				BeatBoxSong* s;
				gtk_tree_model_get_iter (l_model, &_tmp7_, path);
				item = _tmp7_;
				gtk_tree_model_get (l_model, &item, 0, &id, -1);
				_tmp8_ = beat_box_library_manager_song_from_id (self->priv->lm, id);
				s = _tmp8_;
				beat_box_song_set_rating (s, 4);
				gee_abstract_collection_add ((GeeAbstractCollection*) los, s);
				_g_object_unref0 (s);
				_gtk_tree_path_free0 (path);
			}
		}
		__g_list_free__gtk_tree_path_free0_0 (path_collection);
	}
	beat_box_library_manager_update_songs (self->priv->lm, (GeeCollection*) los, FALSE);
	_g_object_unref0 (los);
	_g_object_unref0 (l_model);
	_g_object_unref0 (selected);
}


void beat_box_music_tree_view_songRateSong4Clicked (BeatBoxMusicTreeView* self) {
	BEAT_BOX_MUSIC_TREE_VIEW_GET_CLASS (self)->songRateSong4Clicked (self);
}


static void beat_box_music_tree_view_real_songRateSong5Clicked (BeatBoxMusicTreeView* self) {
	GtkTreeSelection* _tmp0_ = NULL;
	GtkTreeSelection* _tmp1_;
	GtkTreeSelection* selected;
	GtkTreeModel* l_model = NULL;
	GeeLinkedList* _tmp2_ = NULL;
	GeeLinkedList* los;
	GtkTreeModel* _tmp3_ = NULL;
	GList* _tmp4_ = NULL;
	GtkTreeModel* _tmp5_;
	g_return_if_fail (self != NULL);
	_tmp0_ = gtk_tree_view_get_selection (self->priv->view);
	_tmp1_ = _g_object_ref0 (_tmp0_);
	selected = _tmp1_;
	gtk_tree_selection_set_mode (selected, GTK_SELECTION_MULTIPLE);
	_tmp2_ = gee_linked_list_new (BEAT_BOX_TYPE_SONG, (GBoxedCopyFunc) g_object_ref, g_object_unref, NULL);
	los = _tmp2_;
	_tmp4_ = gtk_tree_selection_get_selected_rows (selected, &_tmp3_);
	_g_object_unref0 (l_model);
	_tmp5_ = _g_object_ref0 (_tmp3_);
	l_model = _tmp5_;
	{
		GList* path_collection;
		GList* path_it;
		path_collection = _tmp4_;
		for (path_it = path_collection; path_it != NULL; path_it = path_it->next) {
			GtkTreePath* _tmp6_;
			GtkTreePath* path;
			_tmp6_ = _gtk_tree_path_copy0 ((GtkTreePath*) path_it->data);
			path = _tmp6_;
			{
				GtkTreeIter item = {0};
				GtkTreeIter _tmp7_ = {0};
				gint id = 0;
				BeatBoxSong* _tmp8_ = NULL;
				BeatBoxSong* s;
				gtk_tree_model_get_iter (l_model, &_tmp7_, path);
				item = _tmp7_;
				gtk_tree_model_get (l_model, &item, 0, &id, -1);
				_tmp8_ = beat_box_library_manager_song_from_id (self->priv->lm, id);
				s = _tmp8_;
				beat_box_song_set_rating (s, 5);
				gee_abstract_collection_add ((GeeAbstractCollection*) los, s);
				_g_object_unref0 (s);
				_gtk_tree_path_free0 (path);
			}
		}
		__g_list_free__gtk_tree_path_free0_0 (path_collection);
	}
	beat_box_library_manager_update_songs (self->priv->lm, (GeeCollection*) los, FALSE);
	_g_object_unref0 (los);
	_g_object_unref0 (l_model);
	_g_object_unref0 (selected);
}


void beat_box_music_tree_view_songRateSong5Clicked (BeatBoxMusicTreeView* self) {
	BEAT_BOX_MUSIC_TREE_VIEW_GET_CLASS (self)->songRateSong5Clicked (self);
}


void beat_box_music_tree_view_scrollToCurrent (BeatBoxMusicTreeView* self) {
	gboolean _tmp0_ = FALSE;
	GtkTreeIter iter = {0};
	g_return_if_fail (self != NULL);
	if (!self->is_current) {
		_tmp0_ = TRUE;
	} else {
		_tmp0_ = self->priv->lm->song_info->song == NULL;
	}
	if (_tmp0_) {
		return;
	}
	{
		gint i;
		i = 0;
		{
			gboolean _tmp1_;
			_tmp1_ = TRUE;
			while (TRUE) {
				gchar* _tmp2_ = NULL;
				gchar* _tmp3_;
				GtkTreeIter _tmp4_ = {0};
				gboolean _tmp5_;
				gboolean _tmp6_;
				gint id = 0;
				gint _tmp7_;
				if (!_tmp1_) {
					i = i + 1;
				}
				_tmp1_ = FALSE;
				_tmp2_ = g_strdup_printf ("%i", i);
				_tmp3_ = _tmp2_;
				_tmp5_ = gtk_tree_model_get_iter_from_string ((GtkTreeModel*) self->priv->sort, &_tmp4_, _tmp3_);
				iter = _tmp4_;
				if ((_tmp6_ = !_tmp5_, _g_free0 (_tmp3_), _tmp6_)) {
					break;
				}
				gtk_tree_model_get ((GtkTreeModel*) self->priv->sort, &iter, 0, &id, -1);
				_tmp7_ = beat_box_song_get_rowid (self->priv->lm->song_info->song);
				if (id == _tmp7_) {
					gchar* _tmp8_ = NULL;
					gchar* _tmp9_;
					GtkTreePath* _tmp10_ = NULL;
					GtkTreePath* _tmp11_;
					_tmp8_ = g_strdup_printf ("%i", i);
					_tmp9_ = _tmp8_;
					_tmp10_ = gtk_tree_path_new_from_string (_tmp9_);
					_tmp11_ = _tmp10_;
					gtk_tree_view_scroll_to_cell (self->priv->view, _tmp11_, NULL, FALSE, 0.0f, 0.0f);
					_gtk_tree_path_free0 (_tmp11_);
					_g_free0 (_tmp9_);
					self->priv->scrolled_recently = FALSE;
					return;
				}
			}
		}
	}
	self->priv->scrolled_recently = FALSE;
}


static gboolean _lambda8_ (BeatBoxMusicTreeView* self) {
	gboolean result = FALSE;
	self->priv->scrolled_recently = FALSE;
	result = FALSE;
	return result;
}


static gboolean __lambda8__gsource_func (gpointer self) {
	gboolean result;
	result = _lambda8_ (self);
	return result;
}


static void beat_box_music_tree_view_real_viewScroll (BeatBoxMusicTreeView* self) {
	gboolean _tmp0_ = FALSE;
	g_return_if_fail (self != NULL);
	if (!self->priv->scrolled_recently) {
		_tmp0_ = self->is_current;
	} else {
		_tmp0_ = FALSE;
	}
	if (_tmp0_) {
		g_timeout_add_full (G_PRIORITY_DEFAULT, (guint) 30000, __lambda8__gsource_func, g_object_ref (self), g_object_unref);
		self->priv->scrolled_recently = TRUE;
	}
}


void beat_box_music_tree_view_viewScroll (BeatBoxMusicTreeView* self) {
	BEAT_BOX_MUSIC_TREE_VIEW_GET_CLASS (self)->viewScroll (self);
}


static void beat_box_music_tree_view_real_onDragBegin (BeatBoxMusicTreeView* self, GtkWidget* sender, GdkDragContext* context) {
	guint32 _tmp0_;
	GtkTreeSelection* _tmp1_ = NULL;
	gint _tmp2_;
	g_return_if_fail (self != NULL);
	g_return_if_fail (sender != NULL);
	g_return_if_fail (context != NULL);
	self->dragging = TRUE;
	fprintf (stdout, "drag begin\n");
	_tmp0_ = gtk_get_current_event_time ();
	gdk_drag_abort (context, _tmp0_);
	_tmp1_ = gtk_tree_view_get_selection (self->priv->view);
	_tmp2_ = gtk_tree_selection_count_selected_rows (_tmp1_);
	if (_tmp2_ == 1) {
		gtk_drag_source_set_icon_stock ((GtkWidget*) self, GTK_STOCK_DND);
	} else {
		GtkTreeSelection* _tmp3_ = NULL;
		gint _tmp4_;
		_tmp3_ = gtk_tree_view_get_selection (self->priv->view);
		_tmp4_ = gtk_tree_selection_count_selected_rows (_tmp3_);
		if (_tmp4_ > 1) {
			gtk_drag_source_set_icon_stock ((GtkWidget*) self, GTK_STOCK_DND_MULTIPLE);
		} else {
			return;
		}
	}
}


void beat_box_music_tree_view_onDragBegin (BeatBoxMusicTreeView* self, GtkWidget* sender, GdkDragContext* context) {
	BEAT_BOX_MUSIC_TREE_VIEW_GET_CLASS (self)->onDragBegin (self, sender, context);
}


static void _vala_array_add2 (gchar*** array, int* length, int* size, gchar* value) {
	if ((*length) == (*size)) {
		*size = (*size) ? (2 * (*size)) : 4;
		*array = g_renew (gchar*, *array, (*size) + 1);
	}
	(*array)[(*length)++] = value;
	(*array)[*length] = NULL;
}


static void beat_box_music_tree_view_real_onDragDataGet (BeatBoxMusicTreeView* self, GdkDragContext* context, GtkSelectionData* selection_data, guint info, guint time_) {
	GtkTreeIter iter = {0};
	GtkTreeModel* temp_model = NULL;
	GtkTreeSelection* _tmp0_ = NULL;
	GtkTreeModel* _tmp1_ = NULL;
	GList* _tmp2_ = NULL;
	GtkTreeModel* _tmp3_;
	GList* rows;
	gchar** uris;
	gint uris_length1;
	gint _uris_size_;
	g_return_if_fail (self != NULL);
	g_return_if_fail (context != NULL);
	g_return_if_fail (selection_data != NULL);
	_tmp0_ = gtk_tree_view_get_selection (self->priv->view);
	_tmp2_ = gtk_tree_selection_get_selected_rows (_tmp0_, &_tmp1_);
	_g_object_unref0 (temp_model);
	_tmp3_ = _g_object_ref0 (_tmp1_);
	temp_model = _tmp3_;
	rows = _tmp2_;
	uris = NULL;
	uris_length1 = 0;
	_uris_size_ = 0;
	{
		GList* path_collection;
		GList* path_it;
		path_collection = rows;
		for (path_it = path_collection; path_it != NULL; path_it = path_it->next) {
			GtkTreePath* _tmp4_;
			GtkTreePath* path;
			_tmp4_ = _gtk_tree_path_copy0 ((GtkTreePath*) path_it->data);
			path = _tmp4_;
			{
				const gchar* _tmp5_ = NULL;
				GtkTreeIter _tmp6_ = {0};
				gint id = 0;
				BeatBoxSong* _tmp7_ = NULL;
				BeatBoxSong* _tmp8_;
				const gchar* _tmp9_ = NULL;
				BeatBoxSong* _tmp10_ = NULL;
				BeatBoxSong* _tmp11_;
				const gchar* _tmp12_ = NULL;
				_tmp5_ = gtk_tree_path_to_string (path);
				gtk_tree_model_get_iter_from_string (temp_model, &_tmp6_, _tmp5_);
				iter = _tmp6_;
				gtk_tree_model_get (temp_model, &iter, 0, &id, -1);
				_tmp7_ = beat_box_library_manager_song_from_id (self->priv->lm, id);
				_tmp8_ = _tmp7_;
				_tmp9_ = beat_box_song_get_file (_tmp8_);
				fprintf (stdout, "adding %s\n", _tmp9_);
				_g_object_unref0 (_tmp8_);
				_tmp10_ = beat_box_library_manager_song_from_id (self->priv->lm, id);
				_tmp11_ = _tmp10_;
				_tmp12_ = beat_box_song_get_file (_tmp11_);
				_vala_array_add2 (&uris, &uris_length1, &_uris_size_, g_strconcat ("file://", _tmp12_, NULL));
				_g_object_unref0 (_tmp11_);
				_gtk_tree_path_free0 (path);
			}
		}
	}
	if (uris != NULL) {
		gtk_selection_data_set_uris (selection_data, uris);
	}
	uris = (_vala_array_free (uris, uris_length1, (GDestroyNotify) g_free), NULL);
	__g_list_free__gtk_tree_path_free0_0 (rows);
	_g_object_unref0 (temp_model);
}


void beat_box_music_tree_view_onDragDataGet (BeatBoxMusicTreeView* self, GdkDragContext* context, GtkSelectionData* selection_data, guint info, guint time_) {
	BEAT_BOX_MUSIC_TREE_VIEW_GET_CLASS (self)->onDragDataGet (self, context, selection_data, info, time_);
}


static void beat_box_music_tree_view_real_onDragEnd (BeatBoxMusicTreeView* self, GtkWidget* sender, GdkDragContext* context) {
	GtkTargetEntry* _tmp0_ = NULL;
	GtkTargetEntry* _tmp1_;
	gint _tmp1__length1;
	g_return_if_fail (self != NULL);
	g_return_if_fail (sender != NULL);
	g_return_if_fail (context != NULL);
	self->dragging = FALSE;
	fprintf (stdout, "drag end\n");
	_tmp0_ = g_new0 (GtkTargetEntry, 0);
	_tmp1_ = _tmp0_;
	_tmp1__length1 = 0;
	gtk_drag_dest_set ((GtkWidget*) self, GTK_DEST_DEFAULT_ALL, _tmp1_, 0, GDK_ACTION_COPY | GDK_ACTION_MOVE);
	_tmp1_ = (g_free (_tmp1_), NULL);
}


void beat_box_music_tree_view_onDragEnd (BeatBoxMusicTreeView* self, GtkWidget* sender, GdkDragContext* context) {
	BEAT_BOX_MUSIC_TREE_VIEW_GET_CLASS (self)->onDragEnd (self, sender, context);
}


static void beat_box_music_tree_view_class_init (BeatBoxMusicTreeViewClass * klass) {
	beat_box_music_tree_view_parent_class = g_type_class_peek_parent (klass);
	g_type_class_add_private (klass, sizeof (BeatBoxMusicTreeViewPrivate));
	BEAT_BOX_MUSIC_TREE_VIEW_CLASS (klass)->searchFieldChanged = beat_box_music_tree_view_real_searchFieldChanged;
	BEAT_BOX_MUSIC_TREE_VIEW_CLASS (klass)->sortColumnChanged = beat_box_music_tree_view_real_sortColumnChanged;
	BEAT_BOX_MUSIC_TREE_VIEW_CLASS (klass)->modelRowsReordered = beat_box_music_tree_view_real_modelRowsReordered;
	BEAT_BOX_MUSIC_TREE_VIEW_CLASS (klass)->viewColumnsChanged = beat_box_music_tree_view_real_viewColumnsChanged;
	BEAT_BOX_MUSIC_TREE_VIEW_CLASS (klass)->current_cleared = beat_box_music_tree_view_real_current_cleared;
	BEAT_BOX_MUSIC_TREE_VIEW_CLASS (klass)->song_played = beat_box_music_tree_view_real_song_played;
	BEAT_BOX_MUSIC_TREE_VIEW_CLASS (klass)->songs_updated = beat_box_music_tree_view_real_songs_updated;
	BEAT_BOX_MUSIC_TREE_VIEW_CLASS (klass)->songs_removed = beat_box_music_tree_view_real_songs_removed;
	BEAT_BOX_MUSIC_TREE_VIEW_CLASS (klass)->viewDoubleClick = beat_box_music_tree_view_real_viewDoubleClick;
	BEAT_BOX_MUSIC_TREE_VIEW_CLASS (klass)->viewClick = beat_box_music_tree_view_real_viewClick;
	BEAT_BOX_MUSIC_TREE_VIEW_CLASS (klass)->viewHeadersResized = beat_box_music_tree_view_real_viewHeadersResized;
	BEAT_BOX_MUSIC_TREE_VIEW_CLASS (klass)->columnSmartSortingClick = beat_box_music_tree_view_real_columnSmartSortingClick;
	BEAT_BOX_MUSIC_TREE_VIEW_CLASS (klass)->columnMenuToggled = beat_box_music_tree_view_real_columnMenuToggled;
	BEAT_BOX_MUSIC_TREE_VIEW_CLASS (klass)->songMenuEditClicked = beat_box_music_tree_view_real_songMenuEditClicked;
	BEAT_BOX_MUSIC_TREE_VIEW_CLASS (klass)->songEditorSaved = beat_box_music_tree_view_real_songEditorSaved;
	BEAT_BOX_MUSIC_TREE_VIEW_CLASS (klass)->songFileBrowseClicked = beat_box_music_tree_view_real_songFileBrowseClicked;
	BEAT_BOX_MUSIC_TREE_VIEW_CLASS (klass)->songMenuQueueClicked = beat_box_music_tree_view_real_songMenuQueueClicked;
	BEAT_BOX_MUSIC_TREE_VIEW_CLASS (klass)->songMenuNewPlaylistClicked = beat_box_music_tree_view_real_songMenuNewPlaylistClicked;
	BEAT_BOX_MUSIC_TREE_VIEW_CLASS (klass)->songRemoveClicked = beat_box_music_tree_view_real_songRemoveClicked;
	BEAT_BOX_MUSIC_TREE_VIEW_CLASS (klass)->songRateSong0Clicked = beat_box_music_tree_view_real_songRateSong0Clicked;
	BEAT_BOX_MUSIC_TREE_VIEW_CLASS (klass)->songRateSong1Clicked = beat_box_music_tree_view_real_songRateSong1Clicked;
	BEAT_BOX_MUSIC_TREE_VIEW_CLASS (klass)->songRateSong2Clicked = beat_box_music_tree_view_real_songRateSong2Clicked;
	BEAT_BOX_MUSIC_TREE_VIEW_CLASS (klass)->songRateSong3Clicked = beat_box_music_tree_view_real_songRateSong3Clicked;
	BEAT_BOX_MUSIC_TREE_VIEW_CLASS (klass)->songRateSong4Clicked = beat_box_music_tree_view_real_songRateSong4Clicked;
	BEAT_BOX_MUSIC_TREE_VIEW_CLASS (klass)->songRateSong5Clicked = beat_box_music_tree_view_real_songRateSong5Clicked;
	BEAT_BOX_MUSIC_TREE_VIEW_CLASS (klass)->viewScroll = beat_box_music_tree_view_real_viewScroll;
	BEAT_BOX_MUSIC_TREE_VIEW_CLASS (klass)->onDragBegin = beat_box_music_tree_view_real_onDragBegin;
	BEAT_BOX_MUSIC_TREE_VIEW_CLASS (klass)->onDragDataGet = beat_box_music_tree_view_real_onDragDataGet;
	BEAT_BOX_MUSIC_TREE_VIEW_CLASS (klass)->onDragEnd = beat_box_music_tree_view_real_onDragEnd;
	G_OBJECT_CLASS (klass)->finalize = beat_box_music_tree_view_finalize;
	g_signal_new ("view_being_searched", BEAT_BOX_TYPE_MUSIC_TREE_VIEW, G_SIGNAL_RUN_LAST, 0, NULL, NULL, g_cclosure_marshal_VOID__STRING, G_TYPE_NONE, 1, G_TYPE_STRING);
}


static void beat_box_music_tree_view_instance_init (BeatBoxMusicTreeView * self) {
	self->priv = BEAT_BOX_MUSIC_TREE_VIEW_GET_PRIVATE (self);
}


static void beat_box_music_tree_view_finalize (GObject* obj) {
	BeatBoxMusicTreeView * self;
	self = BEAT_BOX_MUSIC_TREE_VIEW (obj);
	_g_object_unref0 (self->priv->lm);
	_g_object_unref0 (self->priv->lw);
	_g_object_unref0 (self->priv->view);
	_g_object_unref0 (self->priv->model);
	_g_object_unref0 (self->priv->filter);
	_g_object_unref0 (self->priv->sort);
	_g_object_unref0 (self->priv->_songs);
	_g_object_unref0 (self->priv->_rows);
	_g_object_unref0 (self->priv->_columns);
	_g_free0 (self->priv->sort_column);
	_g_object_unref0 (self->priv->timeout_search);
	_g_free0 (self->priv->last_search);
	_g_object_unref0 (self->priv->columnChooserMenu);
	_g_object_unref0 (self->priv->columnSmartSorting);
	_g_object_unref0 (self->priv->columnNumber);
	_g_object_unref0 (self->priv->columnTrack);
	_g_object_unref0 (self->priv->columnTitle);
	_g_object_unref0 (self->priv->columnLength);
	_g_object_unref0 (self->priv->columnArtist);
	_g_object_unref0 (self->priv->columnAlbum);
	_g_object_unref0 (self->priv->columnGenre);
	_g_object_unref0 (self->priv->columnYear);
	_g_object_unref0 (self->priv->columnBitRate);
	_g_object_unref0 (self->priv->columnRating);
	_g_object_unref0 (self->priv->columnPlayCount);
	_g_object_unref0 (self->priv->columnSkipCount);
	_g_object_unref0 (self->priv->columnDateAdded);
	_g_object_unref0 (self->priv->columnLastPlayed);
	_g_object_unref0 (self->priv->columnBPM);
	_g_object_unref0 (self->priv->songMenuActionMenu);
	_g_object_unref0 (self->priv->songEditSong);
	_g_object_unref0 (self->priv->songFileBrowse);
	_g_object_unref0 (self->priv->songMenuQueue);
	_g_object_unref0 (self->priv->songMenuNewPlaylist);
	_g_object_unref0 (self->priv->songMenuAddToPlaylist);
	_g_object_unref0 (self->priv->songRateSong);
	_g_object_unref0 (self->priv->songRateSongMenu);
	_g_object_unref0 (self->priv->songRateSong0);
	_g_object_unref0 (self->priv->songRateSong1);
	_g_object_unref0 (self->priv->songRateSong2);
	_g_object_unref0 (self->priv->songRateSong3);
	_g_object_unref0 (self->priv->songRateSong4);
	_g_object_unref0 (self->priv->songRateSong5);
	_g_object_unref0 (self->priv->songRemove);
	_g_object_unref0 (self->priv->starred);
	_g_object_unref0 (self->priv->not_starred);
	G_OBJECT_CLASS (beat_box_music_tree_view_parent_class)->finalize (obj);
}


GType beat_box_music_tree_view_get_type (void) {
	static volatile gsize beat_box_music_tree_view_type_id__volatile = 0;
	if (g_once_init_enter (&beat_box_music_tree_view_type_id__volatile)) {
		static const GTypeInfo g_define_type_info = { sizeof (BeatBoxMusicTreeViewClass), (GBaseInitFunc) NULL, (GBaseFinalizeFunc) NULL, (GClassInitFunc) beat_box_music_tree_view_class_init, (GClassFinalizeFunc) NULL, NULL, sizeof (BeatBoxMusicTreeView), 0, (GInstanceInitFunc) beat_box_music_tree_view_instance_init, NULL };
		GType beat_box_music_tree_view_type_id;
		beat_box_music_tree_view_type_id = g_type_register_static (GTK_TYPE_SCROLLED_WINDOW, "BeatBoxMusicTreeView", &g_define_type_info, 0);
		g_once_init_leave (&beat_box_music_tree_view_type_id__volatile, beat_box_music_tree_view_type_id);
	}
	return beat_box_music_tree_view_type_id__volatile;
}


static void _vala_array_destroy (gpointer array, gint array_length, GDestroyNotify destroy_func) {
	if ((array != NULL) && (destroy_func != NULL)) {
		int i;
		for (i = 0; i < array_length; i = i + 1) {
			if (((gpointer*) array)[i] != NULL) {
				destroy_func (((gpointer*) array)[i]);
			}
		}
	}
}


static void _vala_array_free (gpointer array, gint array_length, GDestroyNotify destroy_func) {
	_vala_array_destroy (array, array_length, destroy_func);
	g_free (array);
}



